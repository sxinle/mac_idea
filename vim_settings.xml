<application>
  <component name="RelativeLineNumbersSettings">
    <option name="enabled" value="false" />
  </component>
  <component name="VimSettings">
    <state version="4" enabled="true" />
    <globalmarks />
    <filemarks>
      <file name="$USER_HOME$/workspace/micro-service/code_center/code_center/src/main/java/com/uuvalue/micros/ccenter/mappers/CommonMapper.java" timestamp="1529381420752">
        <mark key="'" line="39" column="8" />
        <mark key="[" line="44" column="93" />
        <mark key="]" line="44" column="103" />
        <mark key="." line="44" column="103" />
        <mark key="^" line="44" column="103" />
      </file>
      <file name="$USER_HOME$/Desktop/anti/conf/routes" timestamp="1529992529636">
        <mark key="'" line="232" column="97" />
        <mark key="[" line="7" column="0" />
        <mark key="]" line="7" column="0" />
        <mark key="." line="7" column="0" />
      </file>
      <file name="$USER_HOME$/workspace/micro-service/code_center/code_center/src/main/java/com/uuvalue/micros/ccenter/service/impl/MkCodeServiceImpl.java" timestamp="1529392844845">
        <mark key="'" line="129" column="56" />
        <mark key="[" line="69" column="0" />
        <mark key="]" line="69" column="0" />
        <mark key="^" line="109" column="41" />
        <mark key="." line="69" column="0" />
      </file>
      <file name="$USER_HOME$/Desktop/anti/app/util/CommonDao.java" timestamp="1529993701656">
        <mark key="'" line="42" column="23" />
      </file>
      <file name="$USER_HOME$/Desktop/anti/app/Global.java" timestamp="1529992288844">
        <mark key="'" line="30" column="13" />
        <mark key="[" line="33" column="0" />
        <mark key="]" line="33" column="0" />
        <mark key="." line="33" column="0" />
      </file>
      <file name="$USER_HOME$/Desktop/anti/app/service/StatisticsInventoryService.java" timestamp="1529999227179">
        <mark key="'" line="82" column="6" />
        <mark key="[" line="292" column="0" />
        <mark key="]" line="292" column="0" />
        <mark key="." line="292" column="0" />
      </file>
      <file name="$USER_HOME$/Desktop/anti/app/service/impl/CodeObsoleteServiceImpl.java" timestamp="1529907613309">
        <mark key="'" line="0" column="0" />
        <mark key="[" line="94" column="0" />
        <mark key="]" line="94" column="0" />
        <mark key="." line="94" column="0" />
      </file>
      <file name="$USER_HOME$/workspace/micro-service/common/common/src/main/java/com/uuvalue/micros/common/RestVerticle.java" timestamp="1529647146508">
        <mark key="'" line="229" column="32" />
        <mark key="[" line="255" column="88" />
        <mark key="]" line="255" column="101" />
        <mark key="." line="255" column="101" />
        <mark key="^" line="255" column="101" />
      </file>
      <file name="$USER_HOME$/workspace/micro-service/common/common/src/main/java/com/uuvalue/micros/common/BaseVerticle.java" timestamp="1528989366746">
        <mark key="'" line="146" column="24" />
        <mark key="[" line="186" column="7" />
        <mark key="]" line="186" column="7" />
        <mark key="." line="186" column="7" />
        <mark key="^" line="171" column="54" />
      </file>
      <file name="$USER_HOME$/workspace/micro-service/code_center/code_center/src/main/java/com/uuvalue/micros/ccenter/CenterVerticle.java" timestamp="1528886044185">
        <mark key="'" line="41" column="4" />
        <mark key="[" line="22" column="52" />
        <mark key="]" line="23" column="29" />
        <mark key="." line="23" column="29" />
        <mark key="^" line="23" column="29" />
      </file>
      <file name="$USER_HOME$/workspace/micro-service/code_center/code_center/src/main/resources/db_init.sql" timestamp="1529461296357">
        <mark key="'" line="156" column="35" />
        <mark key="[" line="173" column="45" />
        <mark key="]" line="173" column="45" />
        <mark key="." line="173" column="45" />
        <mark key="^" line="173" column="45" />
      </file>
      <file name="$USER_HOME$/workspace/demo/zest/src/main/java/http/RechargeUtil.java" timestamp="1529744227648">
        <mark key="'" line="91" column="6" />
        <mark key="[" line="6" column="36" />
        <mark key="]" line="6" column="44" />
        <mark key="." line="6" column="36" />
      </file>
      <file name="$USER_HOME$/workspace/jinhui/sync_data/app/Global.java" timestamp="1529743760145">
        <mark key="'" line="114" column="0" />
      </file>
      <file name="$USER_HOME$/workspace/micro-service/common/micros-forms/src/main/java/com/uuvalue/micros/forms/Docs.java" timestamp="1529032826601">
        <mark key="'" line="68" column="0" />
        <mark key="[" line="71" column="119" />
        <mark key="]" line="71" column="122" />
        <mark key="^" line="71" column="122" />
        <mark key="." line="71" column="122" />
      </file>
      <file name="$USER_HOME$/workspace/micro-service/code_center/code_center/src/main/java/com/uuvalue/micros/ccenter/CenterAPIVerticle.java" timestamp="1529461322859">
        <mark key="'" line="249" column="63" />
        <mark key="[" line="157" column="0" />
        <mark key="]" line="157" column="0" />
        <mark key="." line="157" column="0" />
        <mark key="^" line="157" column="11" />
      </file>
      <file name="$USER_HOME$/Desktop/anti/app/service/impl/InventoryServiceImpl.java" timestamp="1530008034304">
        <mark key="'" line="1234" column="13" />
        <mark key="." line="268" column="79" />
      </file>
      <file name="/MakeCode.xml" timestamp="1529915540666">
        <mark key="'" line="352" column="8" />
      </file>
      <file name="$USER_HOME$/workspace/micro-service/code_center/code_center/src/main/java/com/uuvalue/micros/ccenter/config/ApplicationCxtConfig.java" timestamp="1528701148089">
        <mark key="'" line="144" column="0" />
        <mark key="[" line="36" column="33" />
        <mark key="]" line="44" column="14" />
        <mark key="." line="44" column="14" />
        <mark key="^" line="44" column="14" />
      </file>
      <file name="$USER_HOME$/workspace/micro-service/common/micros-forms/src/main/java/com/uuvalue/micros/forms/FormAPIVerticle.java" timestamp="1529032350071">
        <mark key="'" line="32" column="4" />
        <mark key="[" line="29" column="60" />
        <mark key="]" line="29" column="60" />
        <mark key="." line="29" column="60" />
        <mark key="^" line="123" column="28" />
      </file>
      <file name="$USER_HOME$/workspace/micro-service/code_center/code_center/src/main/java/com/uuvalue/micros/ccenter/service/CBlockService.java" timestamp="1529379084805">
        <mark key="'" line="15" column="64" />
        <mark key="[" line="17" column="64" />
        <mark key="]" line="17" column="73" />
        <mark key="^" line="17" column="73" />
        <mark key="." line="17" column="73" />
      </file>
      <file name="$USER_HOME$/workspace/demo/dragon/src/main/java/com/uuvalue/fake/dragon/service/impl/FakeServiceImpl.java" timestamp="1529209640959">
        <mark key="'" line="53" column="15" />
        <mark key="[" line="56" column="59" />
        <mark key="]" line="56" column="63" />
        <mark key="." line="56" column="63" />
        <mark key="^" line="56" column="63" />
      </file>
      <file name="$USER_HOME$/workspace/micro-service/code_center/code_center/src/main/java/com/uuvalue/micros/ccenter/mappers/MkCodeMapper.java" timestamp="1529387217564">
        <mark key="'" line="25" column="50" />
        <mark key="[" line="33" column="80" />
        <mark key="]" line="33" column="82" />
        <mark key="." line="33" column="82" />
        <mark key="^" line="33" column="82" />
      </file>
      <file name="$USER_HOME$/workspace/demo/dragon/src/main/java/com/uuvalue/fake/dragon/controller/FakeController.java" timestamp="1529371892072">
        <mark key="'" line="64" column="0" />
        <mark key="[" line="30" column="0" />
        <mark key="]" line="30" column="0" />
        <mark key="^" line="29" column="11" />
        <mark key="." line="30" column="0" />
      </file>
      <file name="$USER_HOME$/workspace/jinhui/prod/anti/app/views/uploadLog.scala.html" timestamp="1530009802720">
        <mark key="'" line="20" column="25" />
      </file>
      <file name="$USER_HOME$/Desktop/anti/app/controllers/inventory/InventoryController.java" timestamp="1530068092688">
        <mark key="'" line="727" column="8" />
        <mark key="[" line="730" column="0" />
        <mark key="]" line="730" column="0" />
        <mark key="." line="730" column="0" />
      </file>
      <file name="$USER_HOME$/workspace/micro-service/code_center/code_center/src/main/java/com/uuvalue/micros/ccenter/mappers/MkCodeMapper.xml" timestamp="1529386377610">
        <mark key="'" line="15" column="14" />
        <mark key="[" line="15" column="18" />
        <mark key="]" line="15" column="18" />
        <mark key="." line="15" column="18" />
        <mark key="^" line="18" column="24" />
      </file>
      <file name="$USER_HOME$/workspace/jinhui/prod/anti/app/views/pt850.scala.html" timestamp="1530009751537">
        <mark key="[" line="119" column="20" />
        <mark key="]" line="119" column="23" />
        <mark key="^" line="119" column="23" />
        <mark key="." line="119" column="23" />
      </file>
      <file name="$USER_HOME$/Desktop/anti/app/service/impl/ObsoleteCode.java" timestamp="1529907665896">
        <mark key="'" line="0" column="0" />
        <mark key="[" line="50" column="25" />
        <mark key="]" line="50" column="30" />
        <mark key="." line="50" column="30" />
        <mark key="^" line="50" column="30" />
      </file>
      <file name="$USER_HOME$/workspace/micro-service/code_center/code_center/src/main/java/com/uuvalue/micros/ccenter/domain/BatchPlan.java" timestamp="1528966026467">
        <mark key="'" line="67" column="0" />
        <mark key="[" line="7" column="0" />
        <mark key="]" line="7" column="0" />
        <mark key="." line="7" column="0" />
        <mark key="^" line="14" column="28" />
      </file>
      <file name="$USER_HOME$/workspace/micro-service/common/micros-userauth/src/main/java/com/uuvalue/micros/auth/UserAuthAPIVerticle.java" timestamp="1528854308040">
        <mark key="'" line="60" column="43" />
        <mark key="[" line="55" column="0" />
        <mark key="]" line="55" column="60" />
        <mark key="." line="129" column="24" />
        <mark key="^" line="129" column="24" />
      </file>
      <file name="$USER_HOME$/workspace/micro-service/common/micros-mqttpush/src/main/java/com/uuvalue/micros/mqtt/push/PushAPIVerticle.java" timestamp="1529489083034">
        <mark key="'" line="101" column="0" />
        <mark key="[" line="80" column="19" />
        <mark key="]" line="80" column="28" />
        <mark key="." line="80" column="28" />
        <mark key="^" line="80" column="28" />
      </file>
      <file name="$USER_HOME$/workspace/demo/dragon/pom.xml" timestamp="1529138920254">
        <mark key="'" line="90" column="0" />
        <mark key="[" line="82" column="17" />
        <mark key="]" line="92" column="20" />
        <mark key="." line="92" column="20" />
        <mark key="^" line="92" column="20" />
      </file>
      <file name="$USER_HOME$/workspace/micro-service/common/common/src/main/java/com/uuvalue/micros/common/util/DataBinder.java" timestamp="1529387075940">
        <mark key="'" line="82" column="67" />
        <mark key="[" line="61" column="0" />
        <mark key="]" line="61" column="0" />
        <mark key="." line="61" column="0" />
        <mark key="^" line="59" column="23" />
      </file>
      <file name="$USER_HOME$/workspace/micro-service/common/common/src/main/java/com/uuvalue/micros/common/util/BaseAppContextConfig.java" timestamp="1529051551216">
        <mark key="'" line="33" column="53" />
        <mark key="[" line="35" column="21" />
        <mark key="]" line="35" column="32" />
        <mark key="." line="35" column="32" />
        <mark key="^" line="35" column="32" />
      </file>
      <file name="$USER_HOME$/workspace/review/scxzdy/anti/app/controllers/storage/ProductlineDefineController.java" timestamp="1529653583125">
        <mark key="'" line="138" column="0" />
      </file>
      <file name="/CHAnalysisServiceImpl.java" timestamp="1529891807858">
        <mark key="'" line="69" column="21" />
      </file>
      <file name="/InventoryController.java" timestamp="1530068141970">
        <mark key="'" line="92" column="12" />
        <mark key="[" line="0" column="0" />
        <mark key="]" line="780" column="0" />
      </file>
      <file name="$USER_HOME$/workspace/micro-service/code_center/code_center/src/main/java/com/uuvalue/micros/ccenter/domain/Supplier.java" timestamp="1528966037349">
        <mark key="'" line="22" column="22" />
        <mark key="[" line="7" column="0" />
        <mark key="]" line="7" column="0" />
        <mark key="^" line="14" column="25" />
        <mark key="." line="7" column="0" />
      </file>
      <file name="$USER_HOME$/workspace/micro-service/code_center/code_center/src/main/java/com/uuvalue/micros/ccenter/domain/User.java" timestamp="1528968819544">
        <mark key="'" line="85" column="35" />
        <mark key="[" line="11" column="24" />
        <mark key="]" line="11" column="24" />
        <mark key="^" line="58" column="35" />
        <mark key="." line="11" column="24" />
      </file>
      <file name="$USER_HOME$/workspace/micro-service/common/common/src/main/java/com/uuvalue/micros/common/util/CryptoUtil.java" timestamp="1528956069072">
        <mark key="'" line="72" column="0" />
        <mark key="[" line="16" column="39" />
        <mark key="]" line="16" column="62" />
        <mark key="." line="19" column="0" />
        <mark key="^" line="16" column="17" />
      </file>
      <file name="$USER_HOME$/workspace/micro-service/code_center/code_center/src/main/java/com/uuvalue/micros/ccenter/config/BaseAppContextConfig.java" timestamp="1528701872886">
        <mark key="'" line="42" column="20" />
        <mark key="[" line="57" column="38" />
        <mark key="]" line="55" column="39" />
        <mark key="." line="57" column="44" />
        <mark key="^" line="55" column="39" />
      </file>
      <file name="$USER_HOME$/workspace/micro-service/code_center/code_center/src/main/java/com/uuvalue/micros/ccenter/domain/ResponsePart.java" timestamp="1528887188262">
        <mark key="'" line="1" column="0" />
        <mark key="[" line="2" column="27" />
        <mark key="]" line="3" column="3" />
        <mark key="^" line="3" column="3" />
        <mark key="." line="3" column="3" />
      </file>
      <file name="/CHAnalysisController.java" timestamp="1529889373049">
        <mark key="'" line="84" column="0" />
      </file>
      <file name="$USER_HOME$/Desktop/anti(9)/app/controllers/inventory/InventoryController.java" timestamp="1530066862194">
        <mark key="'" line="708" column="0" />
        <mark key="[" line="701" column="20" />
        <mark key="]" line="701" column="19" />
        <mark key="^" line="701" column="19" />
        <mark key="." line="701" column="19" />
      </file>
      <file name="$USER_HOME$/workspace/jinhui/prod/pointshub/app/Global.java" timestamp="1529161837269">
        <mark key="'" line="87" column="0" />
      </file>
      <file name="$USER_HOME$/workspace/jinhui/prod/pointshub/app/controllers/ScanController.java" timestamp="1529391482774">
        <mark key="'" line="281" column="12" />
      </file>
      <file name="$USER_HOME$/Desktop/anti/app/service/impl/StatisticsInventoryServiceImpl.java" timestamp="1529999265042">
        <mark key="[" line="63" column="13" />
        <mark key="]" line="64" column="14" />
        <mark key="^" line="64" column="14" />
        <mark key="." line="64" column="14" />
      </file>
      <file name="/sbtShell" timestamp="1529993539790">
        <mark key="[" line="0" column="0" />
      </file>
      <file name="$USER_HOME$/workspace/jinhui/prod/anti/app/service/impl/InventoryServiceImpl.java" timestamp="1530009553625">
        <mark key="'" line="52" column="3" />
        <mark key="[" line="1560" column="5" />
        <mark key="]" line="1570" column="4" />
        <mark key="^" line="1570" column="4" />
        <mark key="." line="1570" column="4" />
      </file>
      <file name="$USER_HOME$/workspace/jinhui/prod/anti/app/service/InventoryService.java" timestamp="1530009911518">
        <mark key="'" line="62" column="0" />
        <mark key="[" line="225" column="59" />
        <mark key="]" line="233" column="0" />
        <mark key="^" line="233" column="0" />
        <mark key="." line="233" column="0" />
      </file>
      <file name="$USER_HOME$/workspace/jinhui/prod/anti/conf/sql/InventoryInfo.xml" timestamp="1530009864410">
        <mark key="'" line="257" column="0" />
        <mark key="[" line="485" column="13" />
        <mark key="]" line="486" column="3" />
        <mark key="^" line="486" column="3" />
        <mark key="." line="487" column="8" />
      </file>
      <file name="$USER_HOME$/workspace/jinhui/prod/pointshub/conf/routes" timestamp="1529906727369">
        <mark key="'" line="55" column="31" />
      </file>
      <file name="$MAVEN_REPOSITORY$/io/vertx/vertx-web/3.5.1/vertx-web-3.5.1-sources.jar!/io/vertx/reactivex/ext/web/Route.java" timestamp="1529473982313">
        <mark key="'" line="151" column="15" />
      </file>
      <file name="$USER_HOME$/workspace/micro-service/code_center/code_center/src/main/java/com/uuvalue/micros/ccenter/service/impl/CenterServiceImpl.java" timestamp="1529385092747">
        <mark key="'" line="482" column="0" />
        <mark key="[" line="482" column="0" />
        <mark key="]" line="482" column="0" />
        <mark key="^" line="654" column="87" />
        <mark key="." line="482" column="0" />
      </file>
      <file name="$USER_HOME$/workspace/demo/dragon/src/main/resources/META-INF/resources/WEB-INF/jsp/security.jsp" timestamp="1529154913225">
        <mark key="'" line="107" column="38" />
        <mark key="[" line="151" column="23" />
        <mark key="]" line="151" column="29" />
        <mark key="^" line="150" column="47" />
        <mark key="." line="151" column="23" />
      </file>
      <file name="$USER_HOME$/workspace/demo/dragon/src/main/resources/application.yml" timestamp="1529205670245">
        <mark key="'" line="7" column="14" />
        <mark key="[" line="7" column="40" />
        <mark key="]" line="7" column="41" />
        <mark key="^" line="7" column="35" />
        <mark key="." line="7" column="41" />
      </file>
      <file name="/Dummy.txt" timestamp="1530068110800">
        <mark key="[" line="0" column="0" />
      </file>
      <file name="$USER_HOME$/workspace/jinhui/prod/anti/conf/sql/SingleInventoryInfo.xml" timestamp="1529391159746">
        <mark key="'" line="214" column="30" />
      </file>
      <file name="$USER_HOME$/workspace/micro-service/code_center/code_center/src/main/java/com/uuvalue/micros/ccenter/domain/Order.java" timestamp="1529380725586">
        <mark key="'" line="20" column="23" />
        <mark key="[" line="83" column="0" />
        <mark key="]" line="84" column="30" />
        <mark key="^" line="84" column="30" />
        <mark key="." line="84" column="30" />
      </file>
      <file name="$USER_HOME$/workspace/jinhui/prod/pointshub/app/models/Article.java" timestamp="1529114613066">
        <mark key="'" line="164" column="0" />
      </file>
      <file name="$USER_HOME$/workspace/micro-service/common/gateway/src/main/java/com/uuvalue/micros/gateway/GatewayVerticle.java" timestamp="1529633550872">
        <mark key="'" line="220" column="26" />
        <mark key="[" line="205" column="0" />
        <mark key="]" line="205" column="0" />
        <mark key="." line="205" column="0" />
      </file>
      <file name="$USER_HOME$/workspace/micro-service/code_center/code_center/src/main/java/com/uuvalue/micros/ccenter/service/impl/CBlockServiceImpl.java" timestamp="1529385293727">
        <mark key="'" line="80" column="4" />
        <mark key="[" line="121" column="25" />
        <mark key="]" line="121" column="52" />
        <mark key="." line="121" column="52" />
        <mark key="^" line="121" column="52" />
      </file>
      <file name="$USER_HOME$/http_main.conf" timestamp="1529134101794">
        <mark key="'" line="25" column="5" />
      </file>
      <file name="$USER_HOME$/workspace/micro-service/jh_sales/smng-misc/src/main/java/com/uuvalue/micros/misc/service/MiscService.java" timestamp="1528854373464">
        <mark key="'" line="107" column="3" />
        <mark key="[" line="104" column="80" />
        <mark key="]" line="105" column="3" />
        <mark key="." line="105" column="3" />
        <mark key="^" line="105" column="3" />
      </file>
      <file name="$USER_HOME$/workspace/micro-service/jh_sales/smng-misc/src/main/java/com/uuvalue/micros/misc/service/impl/MiscServiceImpl.java" timestamp="1528854653361">
        <mark key="'" line="69" column="19" />
        <mark key="[" line="845" column="0" />
        <mark key="]" line="845" column="0" />
        <mark key="." line="845" column="0" />
        <mark key="^" line="855" column="15" />
      </file>
      <file name="$USER_HOME$/workspace/micro-service/jh_sales/smng-misc/src/main/java/com/uuvalue/micros/misc/MiscAPIVerticle.java" timestamp="1529463577423">
        <mark key="'" line="110" column="30" />
        <mark key="[" line="63" column="22" />
        <mark key="]" line="63" column="41" />
        <mark key="." line="458" column="28" />
        <mark key="^" line="458" column="28" />
      </file>
      <file name="$USER_HOME$/workspace/jinhui/prod/anti/app/service/impl/CustSynServiceImpl.java" timestamp="1529391794770">
        <mark key="'" line="33" column="6" />
      </file>
      <file name="$USER_HOME$/workspace/micro-service/code_center/code_center/src/main/java/com/uuvalue/micros/ccenter/Docs.java" timestamp="1529392873120">
        <mark key="'" line="89" column="39" />
        <mark key="[" line="104" column="115" />
        <mark key="]" line="104" column="128" />
        <mark key="." line="104" column="128" />
        <mark key="^" line="104" column="128" />
      </file>
      <file name="$USER_HOME$/workspace/demo/vertx-blueprint-microservice/order-microservice/src/main/java/io/vertx/blueprint/microservice/order/impl/OrderServiceImpl.java" timestamp="1529629386950">
        <mark key="'" line="38" column="23" />
      </file>
      <file name="$USER_HOME$/Desktop/anti/app/service/impl/CHAnalysisServiceImpl.java" timestamp="1529891618839">
        <mark key="'" line="284" column="21" />
      </file>
      <file name="$USER_HOME$/workspace/micro-service/common/micros-mybatis-base/src/main/java/com/uuvalue/micros/mybatis/CenterAPIVerticle.java" timestamp="1529034518191">
        <mark key="'" line="36" column="33" />
        <mark key="[" line="35" column="13" />
        <mark key="]" line="36" column="33" />
        <mark key="^" line="36" column="33" />
        <mark key="." line="36" column="33" />
      </file>
      <file name="$USER_HOME$/workspace/demo/dragon/src/main/java/com/uuvalue/fake/dragon/util/CamelLog.java" timestamp="1529130504525">
        <mark key="'" line="51" column="32" />
        <mark key="[" line="50" column="0" />
        <mark key="]" line="51" column="32" />
        <mark key="^" line="51" column="32" />
        <mark key="." line="51" column="32" />
      </file>
      <file name="$USER_HOME$/workspace/micro-service/common/common/src/main/java/com/uuvalue/micros/common/util/ColumnMapper.java" timestamp="1528965289763">
        <mark key="'" line="2" column="0" />
        <mark key="[" line="10" column="25" />
        <mark key="]" line="43" column="74" />
        <mark key="." line="43" column="74" />
        <mark key="^" line="43" column="74" />
      </file>
      <file name="$USER_HOME$/workspace/micro-service/common/micros-userauth/src/main/java/com/uuvalue/micros/auth/service/adapter/impl/SmngServiceImpl.java" timestamp="1528854430118">
        <mark key="'" line="43" column="46" />
        <mark key="[" line="37" column="0" />
        <mark key="]" line="56" column="19" />
        <mark key="." line="86" column="78" />
        <mark key="^" line="86" column="78" />
      </file>
      <file name="$USER_HOME$/workspace/micro-service/code_center/code_center/src/main/resources/config.json" timestamp="1529034889816">
        <mark key="'" line="16" column="0" />
        <mark key="[" line="7" column="12" />
        <mark key="]" line="7" column="15" />
        <mark key="." line="7" column="15" />
        <mark key="^" line="7" column="15" />
      </file>
      <file name="$USER_HOME$/workspace/micro-service/common/gateway/src/main/resources/config.json" timestamp="1529629693681">
        <mark key="'" line="14" column="28" />
        <mark key="[" line="14" column="26" />
        <mark key="]" line="14" column="26" />
        <mark key="." line="14" column="26" />
        <mark key="^" line="11" column="19" />
      </file>
      <file name="/fragment.java" timestamp="1529913479788">
        <mark key="[" line="0" column="0" />
      </file>
      <file name="$USER_HOME$/workspace/jinhui/prod/anti/app/controllers/inventory/InventoryController.java" timestamp="1530009500375">
        <mark key="[" line="82" column="7" />
        <mark key="]" line="97" column="4" />
        <mark key="^" line="97" column="4" />
        <mark key="." line="97" column="4" />
      </file>
    </filemarks>
    <jumps>
      <jump line="220" column="15" filename="$USER_HOME$/workspace/jinhui/prod/anti/conf/sql/SingleInventoryInfo.xml" />
      <jump line="203" column="74" filename="$USER_HOME$/workspace/jinhui/prod/anti/conf/sql/SingleInventoryInfo.xml" />
      <jump line="213" column="29" filename="$USER_HOME$/workspace/jinhui/prod/anti/conf/sql/SingleInventoryInfo.xml" />
      <jump line="216" column="15" filename="$USER_HOME$/workspace/jinhui/prod/anti/conf/sql/SingleInventoryInfo.xml" />
      <jump line="214" column="30" filename="$USER_HOME$/workspace/jinhui/prod/anti/conf/sql/SingleInventoryInfo.xml" />
      <jump line="10" column="60" filename="$USER_HOME$/workspace/jinhui/prod/pointshub/conf/routes" />
      <jump line="4" column="38" filename="$USER_HOME$/workspace/jinhui/prod/pointshub/conf/routes" />
      <jump line="281" column="12" filename="$USER_HOME$/workspace/jinhui/prod/pointshub/app/controllers/ScanController.java" />
      <jump line="33" column="6" filename="$USER_HOME$/workspace/jinhui/prod/anti/app/service/impl/CustSynServiceImpl.java" />
      <jump line="35" column="57" filename="$USER_HOME$/workspace/micro-service/code_center/code_center/src/main/java/com/uuvalue/micros/ccenter/CenterAPIVerticle.java" />
      <jump line="1" column="0" filename="$USER_HOME$/workspace/micro-service/code_center/code_center/src/main/java/com/uuvalue/micros/ccenter/CenterAPIVerticle.java" />
      <jump line="124" column="0" filename="$USER_HOME$/workspace/micro-service/code_center/code_center/src/main/java/com/uuvalue/micros/ccenter/CenterAPIVerticle.java" />
      <jump line="74" column="45" filename="$USER_HOME$/workspace/micro-service/code_center/code_center/src/main/java/com/uuvalue/micros/ccenter/CenterAPIVerticle.java" />
      <jump line="89" column="39" filename="$USER_HOME$/workspace/micro-service/code_center/code_center/src/main/java/com/uuvalue/micros/ccenter/Docs.java" />
      <jump line="33" column="15" filename="$USER_HOME$/workspace/micro-service/code_center/code_center/src/main/java/com/uuvalue/micros/ccenter/CenterAPIVerticle.java" />
      <jump line="295" column="0" filename="$USER_HOME$/workspace/micro-service/code_center/code_center/src/main/java/com/uuvalue/micros/ccenter/CenterAPIVerticle.java" />
      <jump line="175" column="85" filename="$USER_HOME$/workspace/micro-service/common/gateway/src/main/java/com/uuvalue/micros/gateway/GatewayVerticle.java" />
      <jump line="129" column="49" filename="$USER_HOME$/workspace/micro-service/code_center/code_center/src/main/java/com/uuvalue/micros/ccenter/CenterAPIVerticle.java" />
      <jump line="110" column="0" filename="$USER_HOME$/workspace/micro-service/common/gateway/src/main/java/com/uuvalue/micros/gateway/GatewayVerticle.java" />
      <jump line="78" column="39" filename="$USER_HOME$/workspace/micro-service/common/gateway/src/main/java/com/uuvalue/micros/gateway/GatewayVerticle.java" />
      <jump line="249" column="63" filename="$USER_HOME$/workspace/micro-service/code_center/code_center/src/main/java/com/uuvalue/micros/ccenter/CenterAPIVerticle.java" />
      <jump line="143" column="57" filename="$USER_HOME$/workspace/micro-service/code_center/code_center/src/main/resources/db_init.sql" />
      <jump line="156" column="35" filename="$USER_HOME$/workspace/micro-service/code_center/code_center/src/main/resources/db_init.sql" />
      <jump line="151" column="15" filename="$MAVEN_REPOSITORY$/io/vertx/vertx-web/3.5.1/vertx-web-3.5.1-sources.jar!/io/vertx/reactivex/ext/web/Route.java" />
      <jump line="30" column="0" filename="$USER_HOME$/workspace/micro-service/common/micros-mqttpush/src/main/java/com/uuvalue/micros/mqtt/push/PushAPIVerticle.java" />
      <jump line="1" column="0" filename="$USER_HOME$/workspace/micro-service/common/micros-mqttpush/src/main/java/com/uuvalue/micros/mqtt/push/PushAPIVerticle.java" />
      <jump line="101" column="0" filename="$USER_HOME$/workspace/micro-service/common/micros-mqttpush/src/main/java/com/uuvalue/micros/mqtt/push/PushAPIVerticle.java" />
      <jump line="38" column="23" filename="$USER_HOME$/workspace/demo/vertx-blueprint-microservice/order-microservice/src/main/java/io/vertx/blueprint/microservice/order/impl/OrderServiceImpl.java" />
      <jump line="111" column="52" filename="$USER_HOME$/workspace/micro-service/common/gateway/src/main/java/com/uuvalue/micros/gateway/GatewayVerticle.java" />
      <jump line="220" column="26" filename="$USER_HOME$/workspace/micro-service/common/gateway/src/main/java/com/uuvalue/micros/gateway/GatewayVerticle.java" />
      <jump line="33" column="22" filename="$USER_HOME$/workspace/micro-service/common/common/src/main/java/com/uuvalue/micros/common/RestVerticle.java" />
      <jump line="229" column="32" filename="$USER_HOME$/workspace/micro-service/common/common/src/main/java/com/uuvalue/micros/common/RestVerticle.java" />
      <jump line="20" column="0" filename="$USER_HOME$/workspace/review/scxzdy/anti/app/controllers/storage/ProductlineDefineController.java" />
      <jump line="138" column="0" filename="$USER_HOME$/workspace/review/scxzdy/anti/app/controllers/storage/ProductlineDefineController.java" />
      <jump line="55" column="23" filename="/CHAnalysisServiceImpl.java" />
      <jump line="69" column="21" filename="/CHAnalysisServiceImpl.java" />
      <jump line="91" column="6" filename="$USER_HOME$/workspace/demo/zest/src/main/java/http/RechargeUtil.java" />
      <jump line="114" column="0" filename="$USER_HOME$/workspace/jinhui/sync_data/app/Global.java" />
      <jump line="81" column="51" filename="/CHAnalysisController.java" />
      <jump line="1" column="0" filename="/CHAnalysisController.java" />
      <jump line="84" column="0" filename="/CHAnalysisController.java" />
      <jump line="284" column="21" filename="$USER_HOME$/Desktop/anti/app/service/impl/CHAnalysisServiceImpl.java" />
      <jump line="8" column="0" filename="$USER_HOME$/Desktop/anti/app/service/impl/ObsoleteCode.java" />
      <jump line="28" column="0" filename="$USER_HOME$/Desktop/anti/app/service/impl/ObsoleteCode.java" />
      <jump line="69" column="38" filename="$USER_HOME$/Desktop/anti/app/service/impl/CodeObsoleteServiceImpl.java" />
      <jump line="18" column="2" filename="$USER_HOME$/workspace/jinhui/prod/pointshub/conf/routes" />
      <jump line="122" column="9" filename="$USER_HOME$/workspace/jinhui/prod/pointshub/conf/routes" />
      <jump line="258" column="7" filename="$USER_HOME$/workspace/jinhui/prod/pointshub/conf/routes" />
      <jump line="120" column="9" filename="$USER_HOME$/workspace/jinhui/prod/pointshub/conf/routes" />
      <jump line="107" column="10" filename="$USER_HOME$/workspace/jinhui/prod/pointshub/conf/routes" />
      <jump line="55" column="31" filename="$USER_HOME$/workspace/jinhui/prod/pointshub/conf/routes" />
      <jump line="0" column="0" filename="$USER_HOME$/Desktop/anti/app/service/impl/CodeObsoleteServiceImpl.java" />
      <jump line="0" column="0" filename="$USER_HOME$/Desktop/anti/app/service/impl/ObsoleteCode.java" />
      <jump line="534" column="22" filename="$USER_HOME$/Desktop/anti/conf/routes" />
      <jump line="0" column="0" filename="$USER_HOME$/Desktop/anti/app/service/impl/InventoryServiceImpl.java" />
      <jump line="695" column="15" filename="$USER_HOME$/Desktop/anti/app/service/impl/MakeCodeServiceImpl.java" />
      <jump line="730" column="0" filename="$USER_HOME$/Desktop/anti/app/service/impl/MakeCodeServiceImpl.java" />
      <jump line="352" column="8" filename="/MakeCode.xml" />
      <jump line="22" column="0" filename="$USER_HOME$/Desktop/anti/app/service/impl/MakeCodeServiceImpl.java" />
      <jump line="317" column="0" filename="$USER_HOME$/Desktop/anti/conf/routes" />
      <jump line="30" column="13" filename="$USER_HOME$/Desktop/anti/app/Global.java" />
      <jump line="192" column="0" filename="$USER_HOME$/Desktop/anti/conf/routes" />
      <jump line="42" column="45" filename="$USER_HOME$/Desktop/anti/conf/routes" />
      <jump line="590" column="0" filename="$USER_HOME$/Desktop/anti/conf/routes" />
      <jump line="2" column="0" filename="$USER_HOME$/Desktop/anti/conf/routes" />
      <jump line="241" column="97" filename="$USER_HOME$/Desktop/anti/conf/routes" />
      <jump line="229" column="97" filename="$USER_HOME$/Desktop/anti/conf/routes" />
      <jump line="232" column="97" filename="$USER_HOME$/Desktop/anti/conf/routes" />
      <jump line="42" column="23" filename="$USER_HOME$/Desktop/anti/app/util/CommonDao.java" />
      <jump line="82" column="6" filename="$USER_HOME$/Desktop/anti/app/service/StatisticsInventoryService.java" />
      <jump line="1234" column="13" filename="$USER_HOME$/Desktop/anti/app/service/impl/InventoryServiceImpl.java" />
      <jump line="52" column="3" filename="$USER_HOME$/workspace/jinhui/prod/anti/app/service/impl/InventoryServiceImpl.java" />
      <jump line="62" column="0" filename="$USER_HOME$/workspace/jinhui/prod/anti/app/service/InventoryService.java" />
      <jump line="20" column="25" filename="$USER_HOME$/workspace/jinhui/prod/anti/app/views/uploadLog.scala.html" />
      <jump line="257" column="0" filename="$USER_HOME$/workspace/jinhui/prod/anti/conf/sql/InventoryInfo.xml" />
      <jump line="724" column="37" filename="$USER_HOME$/Desktop/anti(9)/app/controllers/inventory/InventoryController.java" />
      <jump line="0" column="0" filename="$USER_HOME$/Desktop/anti(9)/app/controllers/inventory/InventoryController.java" />
      <jump line="708" column="0" filename="$USER_HOME$/Desktop/anti(9)/app/controllers/inventory/InventoryController.java" />
      <jump line="709" column="0" filename="$USER_HOME$/Desktop/anti/app/controllers/inventory/InventoryController.java" />
      <jump line="16" column="28" filename="$USER_HOME$/Desktop/anti/app/controllers/inventory/InventoryController.java" />
      <jump line="558" column="12" filename="$USER_HOME$/Desktop/anti/app/controllers/inventory/InventoryController.java" />
      <jump line="557" column="12" filename="$USER_HOME$/Desktop/anti/app/controllers/inventory/InventoryController.java" />
      <jump line="556" column="12" filename="$USER_HOME$/Desktop/anti/app/controllers/inventory/InventoryController.java" />
      <jump line="555" column="25" filename="$USER_HOME$/Desktop/anti/app/controllers/inventory/InventoryController.java" />
      <jump line="574" column="26" filename="$USER_HOME$/Desktop/anti/app/controllers/inventory/InventoryController.java" />
      <jump line="562" column="78" filename="$USER_HOME$/Desktop/anti/app/controllers/inventory/InventoryController.java" />
      <jump line="561" column="12" filename="$USER_HOME$/Desktop/anti/app/controllers/inventory/InventoryController.java" />
      <jump line="560" column="12" filename="$USER_HOME$/Desktop/anti/app/controllers/inventory/InventoryController.java" />
      <jump line="559" column="12" filename="$USER_HOME$/Desktop/anti/app/controllers/inventory/InventoryController.java" />
      <jump line="299" column="12" filename="/InventoryController.java" />
      <jump line="294" column="0" filename="/InventoryController.java" />
      <jump line="0" column="0" filename="/InventoryController.java" />
      <jump line="563" column="83" filename="$USER_HOME$/Desktop/anti/app/controllers/inventory/InventoryController.java" />
      <jump line="0" column="0" filename="$USER_HOME$/Desktop/anti/app/controllers/inventory/InventoryController.java" />
      <jump line="56" column="6" filename="$USER_HOME$/Desktop/anti/app/controllers/inventory/InventoryController.java" />
      <jump line="311" column="0" filename="$USER_HOME$/Desktop/anti/app/controllers/inventory/InventoryController.java" />
      <jump line="727" column="8" filename="$USER_HOME$/Desktop/anti/app/controllers/inventory/InventoryController.java" />
      <jump line="96" column="48" filename="/InventoryController.java" />
      <jump line="88" column="34" filename="/InventoryController.java" />
      <jump line="92" column="12" filename="/InventoryController.java" />
    </jumps>
    <registers>
      <register name="&quot;" type="4">
        <text>\基本废物......\</text>
      </register>
      <register name="*" type="4">
        <text>&quot;&quot;</text>
      </register>
      <register name="-" type="4">
        <text>)</text>
      </register>
      <register name="/" type="4">
        <text>list1</text>
      </register>
      <register name="0" type="2">
        <text encoding="base64">cGFja2FnZSBjb250cm9sbGVycy5pbnZlbnRvcnk7CgppbXBvcnQgamF2YS5pby5CeXRlQXJyYXlJbnB1dFN0cmVhbTsKaW1wb3J0IGphdmEuaW8uQnl0ZUFycmF5T3V0cHV0U3RyZWFtOwppbXBvcnQgamF2YS5pby5JbnB1dFN0cmVhbTsKaW1wb3J0IGphdmEudXRpbC5BcnJheUxpc3Q7CmltcG9ydCBqYXZhLnV0aWwuQXJyYXlzOwppbXBvcnQgamF2YS51dGlsLkhhc2hNYXA7CmltcG9ydCBqYXZhLnV0aWwuTGlzdDsKaW1wb3J0IGphdmEudXRpbC5NYXA7CmltcG9ydCBqYXZhLnV0aWwucmVnZXguTWF0Y2hlcjsKaW1wb3J0IGphdmEudXRpbC5yZWdleC5QYXR0ZXJuOwoKaW1wb3J0IGphdmF4LmFubm90YXRpb24uUmVzb3VyY2U7CgppbXBvcnQgbW9kZWxzLkN1c3RvbWVyRW50aXR5OwppbXBvcnQgbW9kZWxzLlVzZXJJbmZvRW50aXR5OwoKaW1wb3J0IG9yZy5hcGFjaGUucG9pLmhzc2YudXNlcm1vZGVsLkhTU0ZXb3JrYm9vazsKaW1wb3J0IG9yZy5hcGFjaGUucG9pLnNzLnVzZXJtb2RlbC5Sb3c7CgppbXBvcnQgcGxheS5Mb2dnZXI7CmltcG9ydCBwbGF5LmRhdGEuRm9ybTsKaW1wb3J0IHBsYXkubGlicy5Kc29uOwppbXBvcnQgcGxheS5tdmMuQ29udHJvbGxlcjsKaW1wb3J0IHBsYXkubXZjLlJlc3VsdDsKaW1wb3J0IHNlcnZpY2UuSW52ZW50b3J5U2VydmljZTsKaW1wb3J0IHV0aWwuQ29tbW9uVXRpbHM7CmltcG9ydCB1dGlsLkNvbmZpZ1V0aWw7CmltcG9ydCB1dGlsLkZ0cFNlcnZlclV0aWw7CmltcG9ydCB1dGlsLklDb250ZW50czsKaW1wb3J0IHZpZXdzLmh0bWwuKjsKCmltcG9ydCBjb20uZWlnaHRzcGFjZS5zZXJ2ZXIuY29tbW9uLmNvbnZlcnQuRW1wdHlVdGlsOwoKaW1wb3J0IGZvcm0uSW52ZW50b3J5Rm9ybTsKCi8qKgogKiDlh7rlupPnrqHnkIbmjqfliLblsYIKICoKICogQGRhdGUgMjAxNC01LTE5CiAqIEBzaW5jZSAxLjAKICovCkBvcmcuc3ByaW5nZnJhbWV3b3JrLnN0ZXJlb3R5cGUuQ29udHJvbGxlcgpwdWJsaWMgY2xhc3MgSW52ZW50b3J5Q29udHJvbGxlciBleHRlbmRzIENvbnRyb2xsZXIgewogICAgLy/ms6jlhaVzZXJ2aWNlCiAgICBAUmVzb3VyY2UobmFtZSA9ICJpbnZlbnRvcnlTZXJ2aWNlSW1wbCIpCiAgICBwcml2YXRlIEludmVudG9yeVNlcnZpY2Ugc2VydmljZTsKCiAgICAvKioKICAgICAqIOiOt+W+l+WHuuW6k+mhtemdogogICAgICoKICAgICAqIEBwYXJhbSBtZW51SWQg6I+c5Y2VaWQKICAgICAqIEByZXR1cm4KICAgICAqIEBkYXRlIDIwMTTlubQ25pyIMjfml6UKICAgICAqIEBzaW5jZSAxLjAKICAgICAqLwogICAgcHVibGljIFJlc3VsdCBpbml0KEludGVnZXIgbWVudUlkKSB7CiAgICAgICAgVXNlckluZm9FbnRpdHkgdXNlckluZm9FbnRpdHkgPSBDb21tb25VdGlscy5nZXRQbGF5VXNlcihyZXF1ZXN0KCkpOwogICAgICAgIHJldHVybiBvayhpbnZlbnRvcnlJbmZvLnJlbmRlcihtZW51SWQsIHVzZXJJbmZvRW50aXR5LmdldFVzZXJOYW1lKCkpKTsKICAgIH0KCiAgICBwdWJsaWMgUmVzdWx0IHVwbG9hZFJlbmRlcihJbnRlZ2VyIG1lbnVJZCkgewogICAgICAgIEludGVnZXIgZmxhZyA9IDI7CiAgICAgICAgSW50ZWdlciBhbnRpcm9sZWlkID0gbnVsbDsKICAgICAgICB0cnkgewogICAgICAgICAgICBVc2VySW5mb0VudGl0eSB1c2VyID0gQ29tbW9uVXRpbHMuZ2V0UGxheVVzZXIocmVxdWVzdCgpKTsKICAgICAgICAgICAgYW50aXJvbGVpZCA9IHVzZXIuZ2V0QW50aXJvbGVpZCgpOwogICAgICAgICAgICBpZiAoRW1wdHlVdGlsLmlzRW1wdHkodXNlci5nZXRVc2VyTmFtZSgpKSkgewogICAgICAgICAgICAgICAgZmxhZyA9IDE7CiAgICAgICAgICAgIH0KICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gZSkgewogICAgICAgICAgICBMb2dnZXIuZXJyb3IoInVwbG9hZFJlbmRlcu+8muafpeeci+S4iuS8oOaXpeW/l+W8guW4uCIsIGUpOwogICAgICAgIH0KICAgICAgICByZXR1cm4gb2sodXBsb2FkTG9nLnJlbmRlcihtZW51SWQsIGZsYWcsIGFudGlyb2xlaWQpKTsKICAgIH0KCiAgICAvKioKICAgICAqIOi3s+i9rOeahFBUODUw5LiK5Lyg5pWw5o2u6aG16Z2iCiAgICAgKgogICAgICogQHBhcmFtIG1lbnVJZAogICAgICogQHJldHVybgogICAgICovCiAgICBwdWJsaWMgUmVzdWx0IGdldFB0RGF0YShJbnRlZ2VyIG1lbnVJZCkgewogICAgICAgIFVzZXJJbmZvRW50aXR5IHVzZXIgPSBDb21tb25VdGlscy5nZXRQbGF5VXNlcihyZXF1ZXN0KCkpOwogICAgICAgIFN0cmluZyBtYW5hZ2VtYW4gPSB1c2VyLmdldFVzZXJOYW1lKCk7CiAgICAgICAgU3RyaW5nIGFwYWNoZVN0ciA9ICIiOwogICAgICAgIExpc3Q8TWFwPFN0cmluZywgU3RyaW5nPj4gbGlzdCA9IG51bGw7CiAgICAgICAgTGlzdDxNYXA8U3RyaW5nLCBTdHJpbmc+PiBsaXN0MSA9IG51bGw7CiAgICAgICAgdHJ5IHsKICAgICAgICAgICAgYXBhY2hlU3RyID0gQ29uZmlnVXRpbC5nZXRTeXNDZmdQcm9wKCJhcGFjaGUuaG9zdG5hbWUiKTsKICAgICAgICAgICAgbGlzdCA9IHNlcnZpY2UuZ2V0U3RvcmVzSW5mbygpOwogICAgICAgICAgICBsaXN0MSA9IHNlcnZpY2UuZ2V0U3RvcmVzVXNlcm5hbWVJbmZvKG1hbmFnZW1hbik7CiAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHsKICAgICAgICAgICAgTG9nZ2VyLmVycm9yKCJnZXRQdERhdGHvvJrojrflj5bku5PlupPkv6Hmga/lvILluLgiLCBlKTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIG9rKHB0ODUwLnJlbmRlcihhcGFjaGVTdHIsIGxpc3QsIGxpc3QxKSk7CiAgICB9CgogICAgLyoqCiAgICAgKiDot7PovaznmoRQVDg1MOS4iuS8oOaVsOaNrumhtemdogogICAgICoKICAgICAqIEBwYXJhbSBtZW51SWQKICAgICAqIEByZXR1cm4KICAgICAqLwogICAgcHVibGljIFJlc3VsdCBnZXRQdEN1c3REYXRhKEludGVnZXIgbWVudUlkKSB7CiAgICAgICAgU3RyaW5nIGFwYWNoZVN0ciA9ICIiOwogICAgICAgIHRyeSB7CiAgICAgICAgICAgIGFwYWNoZVN0ciA9IENvbmZpZ1V0aWwuZ2V0U3lzQ2ZnUHJvcCgiYXBhY2hlLmhvc3RuYW1lIik7CiAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHsKICAgICAgICAgICAgTG9nZ2VyLmVycm9yKCJnZXRQdEN1c3REYXRh77ya6I635Y+W5LiL57qn5YiG6ZSA5ZWG5YiX6KGo5L+h5oGv5byC5bi4IiwgZSk7CiAgICAgICAgfQogICAgICAgIHJldHVybiBvayhwdDg1MGN1c3QucmVuZGVyKGFwYWNoZVN0cikpOwogICAgfQoKICAgIC8qKgogICAgICog5LiL6L29UFQ4NTDmjqfku7ZVUEZpbGVDb250cm9sLmV4ZQogICAgICoKICAgICAqIEByZXR1cm4KICAgICAqLwogICAgcHVibGljIFJlc3VsdCBnZXRVUEZpbGVDb250cm9sKCkgewogICAgICAgIGJ5dGVbXSBieSA9IG51bGw7CiAgICAgICAgdHJ5IHsKICAgICAgICAgICAgSW5wdXRTdHJlYW0gZmlzID0gRnRwU2VydmVyVXRpbC5nZXRGaWxlU3RyZWFtKCJvZmZpY2VGaWxlL1VQRmlsZUNvbnRyb2wuZXhlIik7CiAgICAgICAgICAgIEJ5dGVBcnJheU91dHB1dFN0cmVhbSBib3MgPSBuZXcgQnl0ZUFycmF5T3V0cHV0U3RyZWFtKDEwMDApOwogICAgICAgICAgICBieXRlW10gYiA9IG5ldyBieXRlWzEwMDBdOwogICAgICAgICAgICBpbnQgbjsKICAgICAgICAgICAgd2hpbGUgKChuID0gZmlzLnJlYWQoYikpICE9IC0xKSB7CiAgICAgICAgICAgICAgICBib3Mud3JpdGUoYiwgMCwgbik7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKGZpcyAhPSBudWxsKSB7CiAgICAgICAgICAgICAgICBmaXMuY2xvc2UoKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBib3MuY2xvc2UoKTsKICAgICAgICAgICAgYnkgPSBib3MudG9CeXRlQXJyYXkoKTsKICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gZSkgewogICAgICAgICAgICBMb2dnZXIuZXJyb3IoImdldFVQRmlsZUNvbnRyb2zvvJrkuIvovb3mjqfku7YiLCBlKTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIG9rKGJ5KTsKICAgIH0KCiAgICAvKioKICAgICAqIOS4i+i9vVBUODUw55qEMzLkvY3ns7vnu5/pqbHliqh1ZHBfYW5kX3Zjb21fZHJ2LjEuNy4zLlNldHVwLmV4ZQogICAgICoKICAgICAqIEByZXR1cm4KICAgICAqLwogICAgcHVibGljIFJlc3VsdCBnZXQzMkJpdERyaXZlcigpIHsKICAgICAgICBieXRlW10gYnkgPSBudWxsOwogICAgICAgIHRyeSB7CiAgICAgICAgICAgIElucHV0U3RyZWFtIGZpcyA9IEZ0cFNlcnZlclV0aWwuZ2V0RmlsZVN0cmVhbSgib2ZmaWNlRmlsZS91ZHBfYW5kX3Zjb21fZHJ2LjEuNy4zLlNldHVwLmV4ZSIpOwogICAgICAgICAgICBCeXRlQXJyYXlPdXRwdXRTdHJlYW0gYm9zID0gbmV3IEJ5dGVBcnJheU91dHB1dFN0cmVhbSgxMDAwKTsKICAgICAgICAgICAgYnl0ZVtdIGIgPSBuZXcgYnl0ZVsxMDAwXTsKICAgICAgICAgICAgaW50IG47CiAgICAgICAgICAgIHdoaWxlICgobiA9IGZpcy5yZWFkKGIpKSAhPSAtMSkgewogICAgICAgICAgICAgICAgYm9zLndyaXRlKGIsIDAsIG4pOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmIChmaXMgIT0gbnVsbCkgewogICAgICAgICAgICAgICAgZmlzLmNsb3NlKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgYm9zLmNsb3NlKCk7CiAgICAgICAgICAgIGJ5ID0gYm9zLnRvQnl0ZUFycmF5KCk7CiAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHsKICAgICAgICAgICAgTG9nZ2VyLmVycm9yKCJnZXQzMkJpdERyaXZlcu+8muS4i+i9vVBUODUw55qEMzLkvY3ns7vnu5/pqbHliqgiLCBlKTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIG9rKGJ5KTsKICAgIH0KCiAgICAvKioKICAgICAqIOS4i+i9vVBUODUw55qENjTkvY3ns7vnu5/pqbHliqh1c2JfZHJpdmVycyg2NCkucmFyCiAgICAgKgogICAgICogQHJldHVybgogICAgICovCiAgICBwdWJsaWMgUmVzdWx0IGdldDY0Qml0RHJpdmVyKCkgewogICAgICAgIGJ5dGVbXSBieSA9IG51bGw7CiAgICAgICAgdHJ5IHsKICAgICAgICAgICAgSW5wdXRTdHJlYW0gZmlzID0gRnRwU2VydmVyVXRpbC5nZXRGaWxlU3RyZWFtKCJvZmZpY2VGaWxlL3VzYl9kcml2ZXJzKDY0KS5yYXIiKTsKICAgICAgICAgICAgQnl0ZUFycmF5T3V0cHV0U3RyZWFtIGJvcyA9IG5ldyBCeXRlQXJyYXlPdXRwdXRTdHJlYW0oMTAwMCk7CiAgICAgICAgICAgIGJ5dGVbXSBiID0gbmV3IGJ5dGVbMTAwMF07CiAgICAgICAgICAgIGludCBuOwogICAgICAgICAgICB3aGlsZSAoKG4gPSBmaXMucmVhZChiKSkgIT0gLTEpIHsKICAgICAgICAgICAgICAgIGJvcy53cml0ZShiLCAwLCBuKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAoZmlzICE9IG51bGwpIHsKICAgICAgICAgICAgICAgIGZpcy5jbG9zZSgpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGJvcy5jbG9zZSgpOwogICAgICAgICAgICBieSA9IGJvcy50b0J5dGVBcnJheSgpOwogICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7CiAgICAgICAgICAgIExvZ2dlci5lcnJvcigiZ2V0NjRCaXREcml2ZXLvvJrkuIvovb1QVDg1MOeahDY05L2N57O757uf6amx5YqoIiwgZSk7CiAgICAgICAgfQogICAgICAgIHJldHVybiBvayhieSk7CiAgICB9CgogICAgcHVibGljIFJlc3VsdCBnZXRJbmZvTGlzdCgpIHsKICAgICAgICAvL+i/lOWbnuWJjeWPsAogICAgICAgIE1hcDxTdHJpbmcsIE9iamVjdD4gcmVzdWx0ID0gbmV3IEhhc2hNYXA8U3RyaW5nLCBPYmplY3Q+KCk7CiAgICAgICAgdHJ5IHsKICAgICAgICAgICAgRm9ybTxJbnZlbnRvcnlGb3JtPiBpbnZGb3JtID0gRm9ybS5mb3JtKEludmVudG9yeUZvcm0uY2xhc3MpOwogICAgICAgICAgICBJbnZlbnRvcnlGb3JtIGZvcm0gPSBpbnZGb3JtLmJpbmRGcm9tUmVxdWVzdCgpLmdldCgpOwogICAgICAgICAgICBVc2VySW5mb0VudGl0eSB1c2VyID0gQ29tbW9uVXRpbHMuZ2V0UGxheVVzZXIocmVxdWVzdCgpKTsKICAgICAgICAgICAgQ3VzdG9tZXJFbnRpdHkgY3VzdG9tZXJFbnRpdHkgPSBudWxsOwogICAgICAgICAgICBpZiAoRW1wdHlVdGlsLmlzRW1wdHkodXNlci5nZXRVc2VyTmFtZSgpKSkgewogICAgICAgICAgICAgICAgY3VzdG9tZXJFbnRpdHkgPSBDb21tb25VdGlscy5nZXRQbGF5Q3VzdG9tZXIocmVxdWVzdCgpKTsKICAgICAgICAgICAgfQogICAgICAgICAgICByZXN1bHQucHV0KCJyb290Iiwgc2VydmljZS5nZXRVcGxvYWRMb2dJbmZvKGZvcm0sIHVzZXIsIGN1c3RvbWVyRW50aXR5KSk7CiAgICAgICAgICAgIHJlc3VsdC5wdXQoInRvdGFsUHJvcGVydHkiLCBzZXJ2aWNlLmdldFVwbG9hZExvZ0luZm9Db3VudChmb3JtLCB1c2VyLCBjdXN0b21lckVudGl0eSkpOwogICAgICAgICAgICByZXN1bHQucHV0KElDb250ZW50cy5TVUNDRVNTLCB0cnVlKTsKICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gZSkgewogICAgICAgICAgICByZXN1bHQucHV0KElDb250ZW50cy5TVUNDRVNTLCBmYWxzZSk7CiAgICAgICAgICAgIExvZ2dlci5lcnJvcigiaW52ZW50b3J5Q29udHJvbGxlci1nZXRJbmZvTGlzdDrliJfooajlvILluLgiLCBlKTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIG9rKEpzb24udG9Kc29uKHJlc3VsdCkpOwogICAgfQoKICAgIC8qKgogICAgICog5LiK5LygUFQ4NTDlh7rlupPmlbDmja4KICAgICAqCiAgICAgKiBAcmV0dXJuCiAgICAgKi8KICAgIHB1YmxpYyBSZXN1bHQgdXBsb2FkRGF0YShTdHJpbmcgc3RvcmVJZCkgewogICAgICAgIE1hcDxTdHJpbmcsIE9iamVjdD4gcmVzdWx0ID0gbmV3IEhhc2hNYXA8U3RyaW5nLCBPYmplY3Q+KCk7CiAgICAgICAgdHJ5IHsKICAgICAgICAgICAgTWFwPFN0cmluZywgU3RyaW5nW10+IGZvcm0gPSByZXF1ZXN0KCkuYm9keSgpLmFzRm9ybVVybEVuY29kZWQoKTsKICAgICAgICAgICAgVXNlckluZm9FbnRpdHkgdXNlciA9IENvbW1vblV0aWxzLmdldFBsYXlVc2VyKHJlcXVlc3QoKSk7CiAgICAgICAgICAgIFN0cmluZ1tdIGluZm9BcnIgPSBmb3JtLmdldCgiaW5mb0FyciIpOwogICAgICAgICAgICBTdHJpbmdbXSBzdHJBcnIgPSBmb3JtLmdldCgic3RyQXJyIik7CiAgICAgICAgICAgIFN0cmluZ1tdIGNvZGVBcnIgPSBmb3JtLmdldCgiY29kZUFyciIpOwogICAgICAgICAgICBTdHJpbmdbXSBkZWxPcmRlciA9IGZvcm0uZ2V0KCJkZWxPcmRlciIpOwoKICAgICAgICAgICAgLy/ojrflj5bkuIrkvKDmlofku7bnsbvlnovvvIzlpoLmnpzmmK/lh7rlupPlkozmlbTmiZjlh7rlupPpnIDopoHliKTmlq3nu4/plIDllYbnvJbnoIHmmK/lkKbmraPluLggIHN0YXJ0CiAgICAgICAgICAgIC8vWyJPcmRlck5vPTAwMCxBPTExMjExMjMxMTEiLCJPcmRlck5vPTAwMCxBPTExMjExMjMxMTEiLCJPcmRlck5vPTAwMCxBPTExMjExMjMxMTEiXQogICAgICAgICAgICBTdHJpbmcgZmlsZVR5cGUgPSAiIjsKICAgICAgICAgICAgZm9yIChpbnQgaSA9IDA7IGkgPCBpbmZvQXJyLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgICAgICBpZiAoaW5mb0FycltpXS5jb250YWlucygiVHlwZSIpKSB7CiAgICAgICAgICAgICAgICAgICAgZmlsZVR5cGUgPSBpbmZvQXJyW2ldLnNwbGl0KCI9IilbMV07CiAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgYm9vbGVhbiBmbGFnID0gdHJ1ZTsKICAgICAgICAgICAgaWYgKCJNYXJrZXQiLmVxdWFscyhmaWxlVHlwZSkgfHwgIlBhbGxldCIuZXF1YWxzKGZpbGVUeXBlKSkgewogICAgICAgICAgICAgICAgTGlzdDxTdHJpbmc+IGN1c3RMaXN0ID0gbmV3IEFycmF5TGlzdDxTdHJpbmc+KCk7CiAgICAgICAgICAgICAgICBmb3IgKGludCBpID0gMDsgaSA8IHN0ckFyci5sZW5ndGg7IGkrKykgewogICAgICAgICAgICAgICAgICAgIGlmIChFbXB0eVV0aWwuaXNOb3RFbXB0eShkZWxPcmRlcikgJiYgQXJyYXlzLmFzTGlzdChkZWxPcmRlcikuY29udGFpbnMoU3RyaW5nLnZhbHVlT2YoaSkpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBTdHJpbmdbXSBzQXJyID0gc3RyQXJyW2ldLnNwbGl0KCIsIik7CiAgICAgICAgICAgICAgICAgICAgU3RyaW5nIEEgPSAiIjsKICAgICAgICAgICAgICAgICAgICBmb3IgKGludCBrID0gMDsgayA8IHNBcnIubGVuZ3RoOyBrKyspIHsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNBcnJba10uY29udGFpbnMoIkEiKSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgQSA9IHNBcnJba10uc3BsaXQoIj0iKVsxXTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIGlmICghQ29tbW9uVXRpbHMuaXNOdW1lcmljKEEpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGZsYWcgPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFjdXN0TGlzdC5jb250YWlucyhBKSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VzdExpc3QuYWRkKEEpOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgaWYgKGZsYWcgJiYgY3VzdExpc3Quc2l6ZSgpID4gMCkgewogICAgICAgICAgICAgICAgICAgIGludCBjb3VudCA9IHNlcnZpY2UuY2hlY2tDdXN0Q29kZShjdXN0TGlzdCk7CiAgICAgICAgICAgICAgICAgICAgaWYgKGNvdW50ICE9IGN1c3RMaXN0LnNpemUoKSkgewogICAgICAgICAgICAgICAgICAgICAgICBmbGFnID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIC8v6I635Y+W5LiK5Lyg5paH5Lu257G75Z6L77yM5aaC5p6c5piv5Ye65bqT5ZKM5pW05omY5Ye65bqT6ZyA6KaB5Yik5pat57uP6ZSA5ZWG57yW56CB5piv5ZCm5q2j5bi4ICBlbmQKCjw8PDw8PDwgSEVBRAogICAgICAgICAgICBpZihmbGFnKXsKICAgICAgICAgICAgICAgIHJlc3VsdC5wdXQoIm1zZyIsIFN0cmluZy52YWx1ZU9mKHNlcnZpY2UudXBsb2FkRGF0YSh1c2VyLHN0b3JlSWQsaW5mb0FycixzdHJBcnIsY29kZUFycixkZWxPcmRlciwzKS5nZXQoInJldHVyblN0cmluZyIpKSk7Cj09PT09PT0KICAgICAgICAgICAgaWYgKGZsYWcpIHsKICAgICAgICAgICAgICAgIHJlc3VsdC5wdXQoIm1zZyIsIFN0cmluZy52YWx1ZU9mKHNlcnZpY2UudXBsb2FkRGF0YSh1c2VyLCBzdG9yZUlkLCBpbmZvQXJyLCBzdHJBcnIsIGNvZGVBcnIsIGRlbE9yZGVyKS5nZXQoInJldHVyblN0cmluZyIpKSk7Cj4+Pj4+Pj4gdXBzdHJlYW0vbWFzdGVyCiAgICAgICAgICAgICAgICByZXN1bHQucHV0KElDb250ZW50cy5TVUNDRVNTLCB0cnVlKTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIHJlc3VsdC5wdXQoIm1zZyIsICLlj5HnjrDmnInnu4/plIDllYbnvJbnoIHplJnor6/vvIzor7fliLfmlrDpobXpnaLph43or5UiKTsKICAgICAgICAgICAgICAgIHJlc3VsdC5wdXQoSUNvbnRlbnRzLlNVQ0NFU1MsIGZhbHNlKTsKICAgICAgICAgICAgfQogICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7CiAgICAgICAgICAgIHJlc3VsdC5wdXQoSUNvbnRlbnRzLlNVQ0NFU1MsIGZhbHNlKTsKICAgICAgICAgICAgTG9nZ2VyLmVycm9yKCJpbnZlbnRvcnlDb250cm9sbGVyLXVwbG9hZERhdGE65LiK5LygUFQ4NTDlh7rlupPmlbDmja7lvILluLgiLCBlKTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIG9rKEpzb24udG9Kc29uKHJlc3VsdCkpOwogICAgfQoKPDw8PDw8PCBIRUFECgkvKioKCSAqIOe7j+mUgOWVhuS4iuS8oFBUODUw5Ye65bqT5pWw5o2uCgkgKgoKCSAqIEByZXR1cm4KCSAqLwoJcHVibGljIFJlc3VsdCB1cGxvYWRDdXN0RGF0YSgpIHsKCQlNYXA8U3RyaW5nLCBPYmplY3Q+IHJlc3VsdCA9IG5ldyBIYXNoTWFwPFN0cmluZywgT2JqZWN0PigpOwoJCXRyeSB7CgkJCU1hcDxTdHJpbmcsIFN0cmluZ1tdPiBmb3JtID0gcmVxdWVzdCgpLmJvZHkoKS5hc0Zvcm1VcmxFbmNvZGVkKCk7CgkJCUN1c3RvbWVyRW50aXR5IGN1c3RvbWVyID0gQ29tbW9uVXRpbHMuZ2V0UGxheUN1c3RvbWVyKHJlcXVlc3QoKSk7CgkJCS8vIOWktOS/oeaBr++8jFR5cGXjgIFEYXRl44CBU2Nhbm5lck5vCgkJCVN0cmluZ1tdIGluZm9BcnIgPSBmb3JtLmdldCgiaW5mb0FyciIpOwoJCQkvLyDkuLvkv6Hmga/vvIxPcmRlck5v44CBQeOAgVAKCQkJU3RyaW5nW10gc3RyQXJyID0gZm9ybS5nZXQoInN0ckFyciIpOwoJCQkvLyDnianmtYHnoIHkv6Hmga8KCQkJU3RyaW5nW10gY29kZUFyciA9IGZvcm0uZ2V0KCJjb2RlQXJyIik7CgkJCVN0cmluZ1tdIGRlbE9yZGVyID0gZm9ybS5nZXQoImRlbE9yZGVyIik7CgkJCXJlc3VsdC5wdXQoIm1zZyIsIFN0cmluZy52YWx1ZU9mKHNlcnZpY2UudXBsb2FkRGF0YShjdXN0b21lciwgaW5mb0Fyciwgc3RyQXJyLCBjb2RlQXJyLCBkZWxPcmRlciwzKS5nZXQoInJldHVyblN0cmluZyIpKSk7CgkJCXJlc3VsdC5wdXQoSUNvbnRlbnRzLlNVQ0NFU1MsIHRydWUpOwoJCX0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7CgkJCXJlc3VsdC5wdXQoSUNvbnRlbnRzLlNVQ0NFU1MsIGZhbHNlKTsKCQkJTG9nZ2VyLmVycm9yKCJpbnZlbnRvcnlDb250cm9sbGVyLXVwbG9hZEN1c3REYXRhOue7j+mUgOWVhuS4iuS8oFBUODUw5Ye65bqT5pWw5o2u5byC5bi4IiwgZSk7CgkJfQoJCXJldHVybiBvayhKc29uLnRvSnNvbihyZXN1bHQpKTsKCX0KPT09PT09PQogICAgLyoqCiAgICAgKiDnu4/plIDllYbkuIrkvKBQVDg1MOWHuuW6k+aVsOaNrgogICAgICoKICAgICAqIEByZXR1cm4KICAgICAqLwogICAgcHVibGljIFJlc3VsdCB1cGxvYWRDdXN0RGF0YSgpIHsKICAgICAgICBNYXA8U3RyaW5nLCBPYmplY3Q+IHJlc3VsdCA9IG5ldyBIYXNoTWFwPFN0cmluZywgT2JqZWN0PigpOwogICAgICAgIHRyeSB7CiAgICAgICAgICAgIE1hcDxTdHJpbmcsIFN0cmluZ1tdPiBmb3JtID0gcmVxdWVzdCgpLmJvZHkoKS5hc0Zvcm1VcmxFbmNvZGVkKCk7CiAgICAgICAgICAgIEN1c3RvbWVyRW50aXR5IGN1c3RvbWVyID0gQ29tbW9uVXRpbHMuZ2V0UGxheUN1c3RvbWVyKHJlcXVlc3QoKSk7CiAgICAgICAgICAgIC8vIOWktOS/oeaBr++8jFR5cGXjgIFEYXRl44CBU2Nhbm5lck5vCiAgICAgICAgICAgIFN0cmluZ1tdIGluZm9BcnIgPSBmb3JtLmdldCgiaW5mb0FyciIpOwogICAgICAgICAgICAvLyDkuLvkv6Hmga/vvIxPcmRlck5v44CBQeOAgVAKICAgICAgICAgICAgU3RyaW5nW10gc3RyQXJyID0gZm9ybS5nZXQoInN0ckFyciIpOwogICAgICAgICAgICAvLyDnianmtYHnoIHkv6Hmga8KICAgICAgICAgICAgU3RyaW5nW10gY29kZUFyciA9IGZvcm0uZ2V0KCJjb2RlQXJyIik7CiAgICAgICAgICAgIFN0cmluZ1tdIGRlbE9yZGVyID0gZm9ybS5nZXQoImRlbE9yZGVyIik7CiAgICAgICAgICAgIHJlc3VsdC5wdXQoIm1zZyIsIFN0cmluZy52YWx1ZU9mKHNlcnZpY2UudXBsb2FkRGF0YShjdXN0b21lciwgaW5mb0Fyciwgc3RyQXJyLCBjb2RlQXJyLCBkZWxPcmRlcikuZ2V0KCJyZXR1cm5TdHJpbmciKSkpOwogICAgICAgICAgICByZXN1bHQucHV0KElDb250ZW50cy5TVUNDRVNTLCB0cnVlKTsKICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gZSkgewogICAgICAgICAgICByZXN1bHQucHV0KElDb250ZW50cy5TVUNDRVNTLCBmYWxzZSk7CiAgICAgICAgICAgIExvZ2dlci5lcnJvcigiaW52ZW50b3J5Q29udHJvbGxlci11cGxvYWRDdXN0RGF0YTrnu4/plIDllYbkuIrkvKBQVDg1MOWHuuW6k+aVsOaNruW8guW4uCIsIGUpOwogICAgICAgIH0KICAgICAgICByZXR1cm4gb2soSnNvbi50b0pzb24ocmVzdWx0KSk7CiAgICB9Cj4+Pj4+Pj4gdXBzdHJlYW0vbWFzdGVyCgoKICAgIC8qKgogICAgICogUFQ4NTDkuIrkvKDmlbDmja7kuK3ovazpobXpnaIKICAgICAqCiAgICAgKiBAcGFyYW0gZmlsZVR5cGUKICAgICAqIEByZXR1cm4KICAgICAqLwogICAgcHVibGljIFJlc3VsdCByZW5kZXJQYWdlRGF0YShTdHJpbmcgZmlsZU5hbWUpIHsKICAgICAgICBNYXA8U3RyaW5nLCBPYmplY3Q+IHJlc3VsdCA9IG5ldyBIYXNoTWFwPFN0cmluZywgT2JqZWN0PigpOwogICAgICAgIC8v5L+d5a2Y5omr5o+P55qE5q+P5Liq5Lqn5ZOB55qE54mp5rWB56CB5L+h5oGvCiAgICAgICAgTGlzdDxNYXA8U3RyaW5nLCBTdHJpbmc+PiBsaXN0ID0gbmV3IEFycmF5TGlzdDxNYXA8U3RyaW5nLCBTdHJpbmc+PigpOwogICAgICAgIC8v5L+d5a2Y5paH5Lu25L+h5oGvCiAgICAgICAgTWFwPFN0cmluZywgU3RyaW5nPiBtYXAgPSBuZXcgSGFzaE1hcDxTdHJpbmcsIFN0cmluZz4oKTsKICAgICAgICBtYXAucHV0KCJmaWxlTmFtZSIsIGZpbGVOYW1lKTsKICAgICAgICAvL+aWh+S7tuexu+WeiwogICAgICAgIFN0cmluZyBmaWxlVHlwZSA9ICIiOwogICAgICAgIHRyeSB7CiAgICAgICAgICAgIE1hcDxTdHJpbmcsIFN0cmluZ1tdPiBmb3JtID0gcmVxdWVzdCgpLmJvZHkoKS5hc0Zvcm1VcmxFbmNvZGVkKCk7CiAgICAgICAgICAgIFN0cmluZ1tdIGluZm9BcnIgPSBmb3JtLmdldCgiaW5mb0FyciIpOwogICAgICAgICAgICBTdHJpbmdbXSBzdHJBcnIgPSBmb3JtLmdldCgic3RyQXJyIik7CiAgICAgICAgICAgIFN0cmluZ1tdIGNvZGVBcnIgPSBmb3JtLmdldCgiY29kZUFyciIpOwogICAgICAgICAgICBmb3IgKGludCBpID0gMDsgaSA8IGluZm9BcnIubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgICAgIGlmIChpbmZvQXJyW2ldLmNvbnRhaW5zKCJEYXRlIikpIHsKICAgICAgICAgICAgICAgICAgICBtYXAucHV0KCJkYXRlIiwgaW5mb0FycltpXS5zcGxpdCgiPSIpWzFdKTsKICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoaW5mb0FycltpXS5jb250YWlucygiVHlwZSIpKSB7CiAgICAgICAgICAgICAgICAgICAgZmlsZVR5cGUgPSBpbmZvQXJyW2ldLnNwbGl0KCI9IilbMV07CiAgICAgICAgICAgICAgICAgICAgbWFwLnB1dCgiZmlsZVR5cGUiLCBmaWxlVHlwZSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZm9yIChpbnQgaSA9IDA7IGkgPCBzdHJBcnIubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgICAgIE1hcDxTdHJpbmcsIFN0cmluZz4gb2JqID0gbmV3IEhhc2hNYXA8U3RyaW5nLCBTdHJpbmc+KCk7CiAgICAgICAgICAgICAgICAvL+S4u+S/oeaBr++8jE9yZGVyTm/jgIFB44CBUAogICAgICAgICAgICAgICAgU3RyaW5nW10gc0FyciA9IHN0ckFycltpXS5zcGxpdCgiLCIpOwogICAgICAgICAgICAgICAgLy/nianmtYHnoIHmlbDph48KICAgICAgICAgICAgICAgIG9iai5wdXQoInNpemUiLCBTdHJpbmcudmFsdWVPZihjb2RlQXJyW2ldLnNwbGl0KCIsIikubGVuZ3RoKSk7CiAgICAgICAgICAgICAgICBmb3IgKGludCBrID0gMDsgayA8IHNBcnIubGVuZ3RoOyBrKyspIHsKICAgICAgICAgICAgICAgICAgICBpZiAoc0FycltrXS5jb250YWlucygiT3JkZXJObyIpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIG9iai5wdXQoIm9yZGVyTm8iLCBzQXJyW2tdLnNwbGl0KCI9IikubGVuZ3RoID4gMSA/IHNBcnJba10uc3BsaXQoIj0iKVsxXSA6ICIiKTsKICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHNBcnJba10uY29udGFpbnMoIlAiKSkgewogICAgICAgICAgICAgICAgICAgICAgICBvYmoucHV0KCJQIiwgc0FycltrXS5zcGxpdCgiPSIpLmxlbmd0aCA+IDEgPyBzQXJyW2tdLnNwbGl0KCI9IilbMV0gOiAiIik7CiAgICAgICAgICAgICAgICAgICAgICAgIC8v546w5Zyo57yW56CB5a+55bqU55qE5Lqn5ZOB5L+h5oGvCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzQXJyW2tdLnNwbGl0KCI9IikubGVuZ3RoID4gMSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgTGlzdDxNYXA8U3RyaW5nLCBTdHJpbmc+PiBwcm9MaXN0ID0gc2VydmljZS5nZXRQcm9kdWN0SW5mbyhzQXJyW2tdLnNwbGl0KCI9IilbMV0pOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKEVtcHR5VXRpbC5pc05vdEVtcHR5KHByb0xpc3QpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTWFwPFN0cmluZywgU3RyaW5nPiBwcm9PYmogPSBzZXJ2aWNlLmdldFByb2R1Y3RJbmZvKHNBcnJba10uc3BsaXQoIj0iKVsxXSkuZ2V0KDApOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9iai5wdXQoInByb09iaiIsIHByb09iai5nZXQoImZpbmFuY2Vjb2RlIikgKyAiIC0gIiArIHByb09iai5nZXQoInByb2R1Y3RuYW1lIikpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYmoucHV0KCJwcm9PYmoiLCAiIik7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYmoucHV0KCJwcm9PYmoiLCAiIik7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHNBcnJba10uY29udGFpbnMoIkEiKSkgewogICAgICAgICAgICAgICAgICAgICAgICBvYmoucHV0KCJBIiwgc0FycltrXS5zcGxpdCgiPSIpLmxlbmd0aCA+IDEgPyBzQXJyW2tdLnNwbGl0KCI9IilbMV0gOiAiIik7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgbGlzdC5hZGQob2JqKTsKICAgICAgICAgICAgfQogICAgICAgICAgICByZXN1bHQucHV0KElDb250ZW50cy5TVUNDRVNTLCB0cnVlKTsKICAgICAgICAgICAgcmVzdWx0LnB1dCgibWFwIiwgbWFwKTsKICAgICAgICAgICAgcmVzdWx0LnB1dCgiaW5mbyIsIGxpc3QpOwogICAgICAgICAgICBpZiAoZmlsZVR5cGUuY29udGFpbnMoIkkiKSkgewogICAgICAgICAgICAgICAgcmVzdWx0LnB1dCgicGFyTGlzdCIsIHNlcnZpY2UuZ2V0UHJvZHVjdEluZm8obnVsbCkpOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgcmVzdWx0LnB1dCgicGFyTGlzdCIsIHNlcnZpY2UuZ2V0Q3VzdG9tZXJJbmZvKCkpOwogICAgICAgICAgICB9CiAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHsKICAgICAgICAgICAgcmVzdWx0LnB1dChJQ29udGVudHMuU1VDQ0VTUywgZmFsc2UpOwogICAgICAgICAgICBMb2dnZXIuZXJyb3IoImludmVudG9yeUNvbnRyb2xsZXItcmVuZGVyUGFnZTpQVDg1MOS4iuS8oOiOt+WPluaVsOaNruW8guW4uCIsIGUpOwogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIG9rKEpzb24udG9Kc29uKHJlc3VsdCkpOwogICAgfQoKICAgIC8qKgogICAgICogUFQ4NTDnu4/plIDllYbkuIrkvKDmlbDmja7kuK3ovazpobXpnaIKICAgICAqCiAgICAgKiBAcGFyYW0gZmlsZVR5cGUKICAgICAqIEByZXR1cm4KICAgICAqLwogICAgcHVibGljIFJlc3VsdCByZW5kZXJDdXN0UGFnZURhdGEoU3RyaW5nIGZpbGVOYW1lKSB7CiAgICAgICAgTWFwPFN0cmluZywgT2JqZWN0PiByZXN1bHQgPSBuZXcgSGFzaE1hcDxTdHJpbmcsIE9iamVjdD4oKTsKICAgICAgICAvLyDkv53lrZjmiavmj4/nmoTmr4/kuKrkuqflk4HnmoTnianmtYHnoIHkv6Hmga8KICAgICAgICBMaXN0PE1hcDxTdHJpbmcsIFN0cmluZz4+IGxpc3QgPSBuZXcgQXJyYXlMaXN0PE1hcDxTdHJpbmcsIFN0cmluZz4+KCk7CiAgICAgICAgLy8g5L+d5a2Y5paH5Lu25L+h5oGvCiAgICAgICAgTWFwPFN0cmluZywgU3RyaW5nPiBtYXAgPSBuZXcgSGFzaE1hcDxTdHJpbmcsIFN0cmluZz4oKTsKICAgICAgICBtYXAucHV0KCJmaWxlTmFtZSIsIGZpbGVOYW1lKTsKICAgICAgICAvLyDmlofku7bnsbvlnosKICAgICAgICBTdHJpbmcgZmlsZVR5cGUgPSAiIjsKICAgICAgICB0cnkgewogICAgICAgICAgICBNYXA8U3RyaW5nLCBTdHJpbmdbXT4gZm9ybSA9IHJlcXVlc3QoKS5ib2R5KCkuYXNGb3JtVXJsRW5jb2RlZCgpOwogICAgICAgICAgICBTdHJpbmdbXSBpbmZvQXJyID0gZm9ybS5nZXQoImluZm9BcnIiKTsKICAgICAgICAgICAgU3RyaW5nW10gc3RyQXJyID0gZm9ybS5nZXQoInN0ckFyciIpOwogICAgICAgICAgICBTdHJpbmdbXSBjb2RlQXJyID0gZm9ybS5nZXQoImNvZGVBcnIiKTsKICAgICAgICAgICAgZm9yIChpbnQgaSA9IDA7IGkgPCBpbmZvQXJyLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgICAgICBpZiAoaW5mb0FycltpXS5jb250YWlucygiRGF0ZSIpKSB7CiAgICAgICAgICAgICAgICAgICAgbWFwLnB1dCgiZGF0ZSIsIGluZm9BcnJbaV0uc3BsaXQoIj0iKVsxXSk7CiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGluZm9BcnJbaV0uY29udGFpbnMoIlR5cGUiKSkgewogICAgICAgICAgICAgICAgICAgIGZpbGVUeXBlID0gaW5mb0FycltpXS5zcGxpdCgiPSIpWzFdOwogICAgICAgICAgICAgICAgICAgIG1hcC5wdXQoImZpbGVUeXBlIiwgZmlsZVR5cGUpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIGZvciAoaW50IGkgPSAwOyBpIDwgc3RyQXJyLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgICAgICBNYXA8U3RyaW5nLCBTdHJpbmc+IG9iaiA9IG5ldyBIYXNoTWFwPFN0cmluZywgU3RyaW5nPigpOwogICAgICAgICAgICAgICAgLy8g5Li75L+h5oGv77yMT3JkZXJOb+OAgUHjgIFQCiAgICAgICAgICAgICAgICBTdHJpbmdbXSBzQXJyID0gc3RyQXJyW2ldLnNwbGl0KCIsIik7CiAgICAgICAgICAgICAgICAvLyDnianmtYHnoIHmlbDph48KICAgICAgICAgICAgICAgIG9iai5wdXQoInNpemUiLCBTdHJpbmcudmFsdWVPZihjb2RlQXJyW2ldLnNwbGl0KCIsIikubGVuZ3RoKSk7CiAgICAgICAgICAgICAgICBmb3IgKGludCBrID0gMDsgayA8IHNBcnIubGVuZ3RoOyBrKyspIHsKICAgICAgICAgICAgICAgICAgICBpZiAoc0FycltrXS5jb250YWlucygiT3JkZXJObyIpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIG9iai5wdXQoIm9yZGVyTm8iLCBzQXJyW2tdLnNwbGl0KCI9IikubGVuZ3RoID4gMSA/IHNBcnJba10uc3BsaXQoIj0iKVsxXSA6ICIiKTsKICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHNBcnJba10uY29udGFpbnMoIlAiKSkgewogICAgICAgICAgICAgICAgICAgICAgICBvYmoucHV0KCJQIiwgc0FycltrXS5zcGxpdCgiPSIpLmxlbmd0aCA+IDEgPyBzQXJyW2tdLnNwbGl0KCI9IilbMV0gOiAiIik7CiAgICAgICAgICAgICAgICAgICAgICAgIC8vIOeOsOWcqOe8lueggeWvueW6lOeahOS6p+WTgeS/oeaBrwogICAgICAgICAgICAgICAgICAgICAgICBpZiAoc0FycltrXS5zcGxpdCgiPSIpLmxlbmd0aCA+IDEpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIExpc3Q8TWFwPFN0cmluZywgU3RyaW5nPj4gcHJvTGlzdCA9IHNlcnZpY2UuZ2V0UHJvZHVjdEluZm8oc0FycltrXS5zcGxpdCgiPSIpWzFdKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChFbXB0eVV0aWwuaXNOb3RFbXB0eShwcm9MaXN0KSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE1hcDxTdHJpbmcsIFN0cmluZz4gcHJvT2JqID0gc2VydmljZS5nZXRQcm9kdWN0SW5mbyhzQXJyW2tdLnNwbGl0KCI9IilbMV0pLmdldCgwKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYmoucHV0KCJwcm9PYmoiLCBwcm9PYmouZ2V0KCJmaW5hbmNlY29kZSIpICsgIiAtICIgKyBwcm9PYmouZ2V0KCJwcm9kdWN0bmFtZSIpKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqLnB1dCgicHJvT2JqIiwgIiIpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqLnB1dCgicHJvT2JqIiwgIiIpOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChzQXJyW2tdLmNvbnRhaW5zKCJBIikpIHsKICAgICAgICAgICAgICAgICAgICAgICAgb2JqLnB1dCgiQSIsIHNBcnJba10uc3BsaXQoIj0iKS5sZW5ndGggPiAxID8gc0FycltrXS5zcGxpdCgiPSIpWzFdIDogIiIpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGxpc3QuYWRkKG9iaik7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgcmVzdWx0LnB1dChJQ29udGVudHMuU1VDQ0VTUywgdHJ1ZSk7CiAgICAgICAgICAgIHJlc3VsdC5wdXQoIm1hcCIsIG1hcCk7CiAgICAgICAgICAgIHJlc3VsdC5wdXQoImluZm8iLCBsaXN0KTsKICAgICAgICAgICAgQ3VzdG9tZXJFbnRpdHkgY3VzdG9tZXIgPSBDb21tb25VdGlscy5nZXRQbGF5Q3VzdG9tZXIocmVxdWVzdCgpKTsKICAgICAgICAgICAgaWYgKEVtcHR5VXRpbC5pc05vdEVtcHR5KGN1c3RvbWVyKSAmJiBFbXB0eVV0aWwuaXNOb3RFbXB0eShjdXN0b21lci5nZXRDdXN0SWQoKSkpIHsKICAgICAgICAgICAgICAgIHJlc3VsdC5wdXQoInBhckxpc3QiLCBzZXJ2aWNlLmdldEN1c3RzSW5mbyhjdXN0b21lci5nZXRDdXN0SWQoKSkpOwogICAgICAgICAgICB9CiAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHsKICAgICAgICAgICAgcmVzdWx0LnB1dChJQ29udGVudHMuU1VDQ0VTUywgZmFsc2UpOwogICAgICAgICAgICBMb2dnZXIuZXJyb3IoImludmVudG9yeUNvbnRyb2xsZXItcmVuZGVyUGFnZTpQVDg1MOS4iuS8oOiOt+WPluaVsOaNruW8guW4uCIsIGUpOwogICAgICAgIH0KICAgICAgICByZXR1cm4gb2soSnNvbi50b0pzb24ocmVzdWx0KSk7CiAgICB9CgogICAgLyoqCiAgICAgKiBwdDg1MOi3s+i9rOmhtemdogogICAgICoKICAgICAqIEBwYXJhbSBmaWxlTmFtZQogICAgICogQHJldHVybgogICAgICovCiAgICBwdWJsaWMgUmVzdWx0IHJlbmRlclBhZ2UoSW50ZWdlciB0eXBlLCBTdHJpbmcgZmlsZU5hbWUsIFN0cmluZyBzdG9yZUlkKSB7CiAgICAgICAgaWYgKHR5cGUgPT0gMSkgewogICAgICAgICAgICByZXR1cm4gb2socHQ4NTBTdG9yYWdlQmF0Y2gucmVuZGVyKGZpbGVOYW1lLCBzdG9yZUlkKSk7CiAgICAgICAgfSBlbHNlIGlmICh0eXBlID09IDMpIHsKICAgICAgICAgICAgcmV0dXJuIG9rKHB0ODUwUmV0dXJuLnJlbmRlcihmaWxlTmFtZSwgc3RvcmVJZCkpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHJldHVybiBvayhwdDg1MEludmVudG9yeS5yZW5kZXIoZmlsZU5hbWUsIHN0b3JlSWQpKTsKICAgICAgICB9CiAgICB9CgogICAgLyoqCiAgICAgKiBwdDg1MGN1c3Tot7PovazpobXpnaIKICAgICAqCiAgICAgKiBAcGFyYW0gZmlsZU5hbWUKICAgICAqIEByZXR1cm4KICAgICAqLwogICAgcHVibGljIFJlc3VsdCByZW5kZXJDdXN0UGFnZShTdHJpbmcgZmlsZU5hbWUpIHsKICAgICAgICAvLyDot7Povazlh7rlupPpobXpnaIKICAgICAgICByZXR1cm4gb2socHQ4NTBJbnZlbnRvcnlDdXN0LnJlbmRlcihmaWxlTmFtZSkpOwogICAgfQoKICAgIHB1YmxpYyBSZXN1bHQgcmVuZGVyVEtDdXN0UGFnZShTdHJpbmcgZmlsZU5hbWUpIHsKICAgICAgICAvLyDot7Povazlh7rlupPpobXpnaIKICAgICAgICByZXR1cm4gb2socHQ4NTBSZXR1cm5DdXN0LnJlbmRlcihmaWxlTmFtZSwgIiIpKTsKICAgIH0KCiAgICAvKioKICAgICAqIOWHuuW6k+WIl+ihqAogICAgICoKICAgICAqIEByZXR1cm4gTWFwPFN0cmluZyAgICAgICAsICAgICAgIE9iamVjdD4KICAgICAqIEBkYXRlIDIwMTQtNS0xOQogICAgICogQHNpbmNlIDEuMAogICAgICovCiAgICAvLyAgICBAUmVxdWVzdE1hcHBpbmcobWV0aG9kPVJlcXVlc3RNZXRob2QuR0VUKQogICAgLy8gICAgQFJlc3BvbnNlQm9keQogICAgcHVibGljIFJlc3VsdCBnZXRJbnZlbnRvcnkoKSB7CiAgICAgICAgLy/ov5Tlm57liY3lj7AKICAgICAgICBNYXA8U3RyaW5nLCBPYmplY3Q+IHJlc3VsdCA9IG5ldyBIYXNoTWFwPFN0cmluZywgT2JqZWN0PigpOwogICAgICAgIHRyeSB7CiAgICAgICAgICAgIEZvcm08SW52ZW50b3J5Rm9ybT4gaW52Rm9ybSA9IEZvcm0uZm9ybShJbnZlbnRvcnlGb3JtLmNsYXNzKTsKICAgICAgICAgICAgSW52ZW50b3J5Rm9ybSBmb3JtID0gaW52Rm9ybS5iaW5kRnJvbVJlcXVlc3QoKS5nZXQoKTsKICAgICAgICAgICAgVXNlckluZm9FbnRpdHkgdXNlciA9IENvbW1vblV0aWxzLmdldFBsYXlVc2VyKHJlcXVlc3QoKSk7CiAgICAgICAgICAgIHJlc3VsdC5wdXQoInJvb3QiLCBzZXJ2aWNlLmdldEludmVudG9yeShmb3JtLCB1c2VyKSk7CiAgICAgICAgICAgIHJlc3VsdC5wdXQoInRvdGFsUHJvcGVydHkiLCAxMDAwMDAwMDAwKTsvL3NlcnZpY2UuZ2V0SW52ZW50b3J5Q291bnQoZm9ybSx1c2VyKSk7CiAgICAgICAgICAgIHJlc3VsdC5wdXQoSUNvbnRlbnRzLlNVQ0NFU1MsIHRydWUpOwogICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7CiAgICAgICAgICAgIHJlc3VsdC5wdXQoSUNvbnRlbnRzLlNVQ0NFU1MsIGZhbHNlKTsKICAgICAgICAgICAgTG9nZ2VyLmVycm9yKCJpbnZlbnRvcnlDb250cm9sbGVyLWdldEludmVudG9yeTrliJfooajlvILluLgiLCBlKTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIG9rKEpzb24udG9Kc29uKHJlc3VsdCkpOwogICAgfQoKICAgIC8qKgogICAgICog5Ye65bqT5pON5L2cCiAgICAgKgogICAgICogQHJldHVybiBNYXA8U3RyaW5nICAgICAgICwgICAgICAgT2JqZWN0PgogICAgICogQGRhdGUgMjAxNC01LTE5CiAgICAgKiBAc2luY2UgMS4wCiAgICAgKi8KICAgIC8vICAgIEBSZXF1ZXN0TWFwcGluZyhtZXRob2Q9UmVxdWVzdE1ldGhvZC5QT1NUKQogICAgLy8gICAgQFJlc3BvbnNlQm9keQogICAgcHVibGljIFJlc3VsdCBvdXRJbnZlbnRvcnkoKSB7CiAgICAgICAgLy/ov5Tlm57liY3lj7AKICAgICAgICBNYXA8U3RyaW5nLCBPYmplY3Q+IHJlc3VsdCA9IG5ldyBIYXNoTWFwPFN0cmluZywgT2JqZWN0PigpOwoKICAgICAgICBGb3JtPEludmVudG9yeUZvcm0+IGludkZvcm0gPSBGb3JtLmZvcm0oSW52ZW50b3J5Rm9ybS5jbGFzcyk7CiAgICAgICAgSW52ZW50b3J5Rm9ybSBmb3JtID0gaW52Rm9ybS5iaW5kRnJvbVJlcXVlc3QoKS5nZXQoKTsKICAgICAgICB0cnkgewogICAgICAgICAgICBzZXJ2aWNlLm91dEludmVudG9yeShmb3JtKTsKICAgICAgICAgICAgcmVzdWx0LnB1dChJQ29udGVudHMuU1VDQ0VTUywgdHJ1ZSk7CiAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHsKICAgICAgICAgICAgcmVzdWx0LnB1dChJQ29udGVudHMuU1VDQ0VTUywgZmFsc2UpOwogICAgICAgICAgICBMb2dnZXIuZXJyb3IoImludmVudG9yeUNvbnRyb2xsZXItb3V0SW52ZW50b3J5OuWHuuW6k+aTjeS9nOW8guW4uCIsIGUpOwogICAgICAgIH0KICAgICAgICByZXR1cm4gb2soSnNvbi50b0pzb24ocmVzdWx0KSk7CiAgICB9CgogICAgLyoqCiAgICAgKiDlr7zlh7rlhaXlupPkv6Hmga8KICAgICAqCiAgICAgKiBAcGFyYW0gSW52ZW50b3J5Rm9ybQogICAgICogQHJldHVybiB2b2lkCiAgICAgKiBAZGF0ZSAyMDE0LTUtMjAKICAgICAqIEBzaW5jZSAxLjAKICAgICAqLwogICAgLy8gICAgQFJlcXVlc3RNYXBwaW5nKHZhbHVlPSIvZXhwb3J0IixtZXRob2Q9UmVxdWVzdE1ldGhvZC5HRVQpCiAgICAvLyAgICBAUmVzcG9uc2VCb2R5CiAgICBwdWJsaWMgUmVzdWx0IGV4cG9ydEludmVudG9yeSgpIHsKCiAgICAgICAgLy8g5a6a5LmJ6L+U5Zue5YC8CiAgICAgICAgQnl0ZUFycmF5T3V0cHV0U3RyZWFtIGJhb3MgPSBudWxsOwogICAgICAgIHRyeSB7CiAgICAgICAgICAgIEZvcm08SW52ZW50b3J5Rm9ybT4gaW52Rm9ybSA9IEZvcm0uZm9ybShJbnZlbnRvcnlGb3JtLmNsYXNzKTsKICAgICAgICAgICAgSW52ZW50b3J5Rm9ybSBmb3JtID0gaW52Rm9ybS5iaW5kRnJvbVJlcXVlc3QoKS5nZXQoKTsKICAgICAgICAgICAgVXNlckluZm9FbnRpdHkgdXNlciA9IENvbW1vblV0aWxzLmdldFBsYXlVc2VyKHJlcXVlc3QoKSk7CiAgICAgICAgICAgIExpc3Q8U3RyaW5nPiBoZWFkZXJMaXN0ID0gbmV3IEFycmF5TGlzdDxTdHJpbmc+KCk7CiAgICAgICAgICAgIGhlYWRlckxpc3QuYWRkKCLlh7rlupPljZXlj7ciKTsKICAgICAgICAgICAgaGVhZGVyTGlzdC5hZGQoIuS7k+W6k+WQjeensCIpOwogICAgICAgICAgICBoZWFkZXJMaXN0LmFkZCgi5omr5o+P5pel5pyfIik7CiAgICAgICAgICAgIGhlYWRlckxpc3QuYWRkKCLph4fpm4blmajlj7ciKTsKICAgICAgICAgICAgaGVhZGVyTGlzdC5hZGQoIuWFpeW6k+aVsCIpOwogICAgICAgICAgICBoZWFkZXJMaXN0LmFkZCgi5Ye65bqT5pWwIik7CiAgICAgICAgICAgIHV0aWwuZXhjZWwuRXhwb3J0RXhjZWwgZWUgPSBuZXcgdXRpbC5leGNlbC5FeHBvcnRFeGNlbCgi5Ye65bqT5L+h5oGv5oql6KGoIiwgaGVhZGVyTGlzdCk7CiAgICAgICAgICAgIExpc3Q8TWFwPFN0cmluZywgT2JqZWN0Pj4gZGF0YUxpc3QgPSBzZXJ2aWNlLmdldEludmVudG9yeShmb3JtLCB1c2VyKTsKCiAgICAgICAgICAgIGZvciAoaW50IGkgPSAwOyBpIDwgZGF0YUxpc3Quc2l6ZSgpOyBpKyspIHsKICAgICAgICAgICAgICAgIFJvdyByb3cgPSBlZS5hZGRSb3coKTsKICAgICAgICAgICAgICAgIGVlLmFkZENlbGwocm93LCAwLCBTdHJpbmcudmFsdWVPZihkYXRhTGlzdC5nZXQoaSkuZ2V0KCJvcmRlck5vIikpKTsKICAgICAgICAgICAgICAgIGVlLmFkZENlbGwocm93LCAxLCBTdHJpbmcudmFsdWVPZihkYXRhTGlzdC5nZXQoaSkuZ2V0KCJzdG9yYWdlTmFtZSIpKSk7CiAgICAgICAgICAgICAgICBlZS5hZGRDZWxsKHJvdywgMiwgU3RyaW5nLnZhbHVlT2YoZGF0YUxpc3QuZ2V0KGkpLmdldCgic2NhblRpbWUiKSkpOwogICAgICAgICAgICAgICAgZWUuYWRkQ2VsbChyb3csIDMsIFN0cmluZy52YWx1ZU9mKGRhdGFMaXN0LmdldChpKS5nZXQoInNjYW5uZXJObyIpKSk7CiAgICAgICAgICAgICAgICBlZS5hZGRDZWxsKHJvdywgNCwgU3RyaW5nLnZhbHVlT2YoZGF0YUxpc3QuZ2V0KGkpLmdldCgiaW5JbnZlbnRvcnlDb3VudCIpKSk7CiAgICAgICAgICAgICAgICBlZS5hZGRDZWxsKHJvdywgNSwgU3RyaW5nLnZhbHVlT2YoZGF0YUxpc3QuZ2V0KGkpLmdldCgib3V0SW52ZW50b3J5Q291bnQiKSkpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHJlc3BvbnNlKCkuc2V0SGVhZGVyKCJDb250ZW50LURpc3Bvc2l0aW9uIiwKICAgICAgICAgICAgICAgICAgICAiYXR0YWNobWVudDsgZmlsZW5hbWU9XCIiICsgbmV3IFN0cmluZygi5Ye65bqT5L+h5oGv5oql6KGoIi5nZXRCeXRlcygiZ2IxODAzMCIpLCAiSVNPODg1OS0xIikgKyAiLnhsc3giICsgIlwiIik7CiAgICAgICAgICAgIGJhb3MgPSBuZXcgQnl0ZUFycmF5T3V0cHV0U3RyZWFtKCk7CiAgICAgICAgICAgIGVlLndyaXRlKGJhb3MpOwogICAgICAgICAgICByZXR1cm4gb2sobmV3IEJ5dGVBcnJheUlucHV0U3RyZWFtKGJhb3MudG9CeXRlQXJyYXkoKSkpOwogICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7CiAgICAgICAgICAgIExvZ2dlci5kZWJ1ZygiSW52ZW50b3J5Q29udHJvbGxlciBleHBvcnRQcmljZURhdGE65a+85Ye65Ye65bqT5pWw5o2uIiwgZSk7CiAgICAgICAgICAgIHJldHVybiBvaygiZXJyb3IiKTsKICAgICAgICB9IGZpbmFsbHkgewogICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgYmFvcy5jbG9zZSgpOwogICAgICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gZSkgewogICAgICAgICAgICAgICAgTG9nZ2VyLmVycm9yKCLlhbPpl63mtYHlvILluLgiLCBlKTsKICAgICAgICAgICAgfQogICAgICAgIH0KCiAgICB9CgogICAgLyoqCiAgICAgKiDlh7rlupPor6bnu4YKICAgICAqCiAgICAgKiBAcGFyYW0gSW50ZWdlcgogICAgICogQHJldHVybiB2b2lkCiAgICAgKiBAZGF0ZSAyMDE0LTUtMjAKICAgICAqIEBzaW5jZSAxLjAKICAgICAqLwogICAgLy8gICAgQFJlcXVlc3RNYXBwaW5nKHZhbHVlPSIvZGV0YWlsIixtZXRob2Q9UmVxdWVzdE1ldGhvZC5HRVQpCiAgICAvLyAgICBAUmVzcG9uc2VCb2R5CiAgICBwdWJsaWMgUmVzdWx0IGdldEludmVudG9yeURldGFpbChJbnRlZ2VyIGludmVudG9yeUlkKSB7CiAgICAgICAgTWFwPFN0cmluZywgT2JqZWN0PiByZXN1bHQgPSBuZXcgSGFzaE1hcDxTdHJpbmcsIE9iamVjdD4oKTsKICAgICAgICB0cnkgewogICAgICAgICAgICByZXN1bHQucHV0KCJyb290Iiwgc2VydmljZS5nZXRJbnZlbnRvcnlEZXRhaWwoaW52ZW50b3J5SWQpKTsKICAgICAgICAgICAgcmVzdWx0LnB1dChJQ29udGVudHMuU1VDQ0VTUywgdHJ1ZSk7CiAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHsKICAgICAgICAgICAgcmVzdWx0LnB1dChJQ29udGVudHMuU1VDQ0VTUywgZmFsc2UpOwogICAgICAgICAgICBMb2dnZXIuZXJyb3IoImludmVudG9yeUNvbnRyb2xsZXItZ2V0SW52ZW50b3J5RGV0YWlsOuWHuuW6k+ivpue7huW8guW4uCIsIGUpOwogICAgICAgIH0KICAgICAgICByZXR1cm4gb2soSnNvbi50b0pzb24ocmVzdWx0KSk7CiAgICB9CgogICAgLyoqCiAgICAgKiDkv67mlLnlh7rlupPkv6Hmga8KICAgICAqCiAgICAgKiBAcGFyYW0gSW52ZW50b3J5Rm9ybQogICAgICogQHJldHVybiB2b2lkCiAgICAgKiBAZGF0ZSAyMDE0LTUtMjAKICAgICAqIEBzaW5jZSAxLjAKICAgICAqLwogICAgLy8gICAgQFJlcXVlc3RNYXBwaW5nKG1ldGhvZD1SZXF1ZXN0TWV0aG9kLlBVVCkKICAgIC8vICAgIEBSZXNwb25zZUJvZHkKICAgIHB1YmxpYyBSZXN1bHQgdXBkSW52ZW50b3J5KCkgewogICAgICAgIE1hcDxTdHJpbmcsIE9iamVjdD4gcmVzdWx0ID0gbmV3IEhhc2hNYXA8U3RyaW5nLCBPYmplY3Q+KCk7CiAgICAgICAgdHJ5IHsKICAgICAgICAgICAgRm9ybTxJbnZlbnRvcnlGb3JtPiBpbnZGb3JtID0gRm9ybS5mb3JtKEludmVudG9yeUZvcm0uY2xhc3MpOwogICAgICAgICAgICBJbnZlbnRvcnlGb3JtIGZvcm0gPSBpbnZGb3JtLmJpbmRGcm9tUmVxdWVzdCgpLmdldCgpOwogICAgICAgICAgICBzZXJ2aWNlLnVwZEludmVudG9yeShmb3JtKTsKICAgICAgICAgICAgcmVzdWx0LnB1dChJQ29udGVudHMuU1VDQ0VTUywgdHJ1ZSk7CiAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHsKICAgICAgICAgICAgcmVzdWx0LnB1dChJQ29udGVudHMuU1VDQ0VTUywgZmFsc2UpOwogICAgICAgICAgICBMb2dnZXIuZXJyb3IoImludmVudG9yeUNvbnRyb2xsZXItdXBkSW52ZW50b3J5OuS/ruaUueWHuuW6k+S/oeaBr+W8guW4uCIsIGUpOwogICAgICAgIH0KICAgICAgICByZXR1cm4gb2soSnNvbi50b0pzb24ocmVzdWx0KSk7CiAgICB9CgogICAgLyoqCiAgICAgKiDplJnor6/pobXpnaLot7PovawKICAgICAqCiAgICAgKiBAcmV0dXJuCiAgICAgKiBAZGF0ZSAyMDE05bm0NuaciDMw5pelCiAgICAgKiBAc2luY2UgMS4wCiAgICAgKi8KICAgIHB1YmxpYyBSZXN1bHQgZXJyb3JzKCkgewogICAgICAgIHJldHVybiBvayhlcnJvcnMucmVuZGVyKCkpOwogICAgfQoKICAgIC8qKgogICAgICog6I635b6X5YWl5bqT5pyq56Gu5a6a5pWw6YePCiAgICAgKgogICAgICogQHBhcmFtIGludm9JZCDlh7rlupNpZAogICAgICogQHJldHVybgogICAgICogQHRocm93cyBFeGNlcHRpb24KICAgICAqIEBkYXRlIDIwMTTlubQ55pyIMTDml6UKICAgICAqIEBzaW5jZSAxLjAKICAgICAqLwogICAgcHVibGljIFJlc3VsdCBnZXRPdXRGbGFnKEludGVnZXIgaW52b0lkKSB7CiAgICAgICAgTWFwPFN0cmluZywgT2JqZWN0PiByZXN1bHQgPSBuZXcgSGFzaE1hcDxTdHJpbmcsIE9iamVjdD4oKTsKICAgICAgICB0cnkgewogICAgICAgICAgICByZXN1bHQucHV0KElDb250ZW50cy5TVUNDRVNTLCB0cnVlKTsKICAgICAgICAgICAgcmVzdWx0LnB1dCgiZGF0YSIsIHNlcnZpY2UuZ2V0T3V0RmxhZyhpbnZvSWQpKTsKICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gZSkgewogICAgICAgICAgICBMb2dnZXIuZXJyb3IoImludmVudG9yeUNvbnRyb2xsZXIuZ2V0T3V0RmxhZ++8muiOt+WPluWFpeW6k+aVsOmHj+W8guW4uCIsIGUpOwogICAgICAgICAgICByZXN1bHQucHV0KElDb250ZW50cy5TVUNDRVNTLCBmYWxzZSk7CiAgICAgICAgfQogICAgICAgIHJldHVybiBvayhKc29uLnRvSnNvbihyZXN1bHQpKTsKICAgIH0KCiAgICAvKioKICAgICAqIOiOt+WPlueUqOaIt+S7o+eQhuS6p+WTgeS/oeaBrwogICAgICoKICAgICAqIEBwYXJhbSBpbnZvSWQKICAgICAqIEByZXR1cm4KICAgICAqIEBkYXRlIDIwMTTlubQ55pyIMjjml6UKICAgICAqIEBzaW5jZSAxLjAKICAgICAqLwogICAgcHVibGljIFJlc3VsdCBnZXROT093blByb0NvdW50KEludGVnZXIgaW52b0lkKSB7CiAgICAgICAgTWFwPFN0cmluZywgT2JqZWN0PiByZXN1bHQgPSBuZXcgSGFzaE1hcDxTdHJpbmcsIE9iamVjdD4oKTsKICAgICAgICB0cnkgewogICAgICAgICAgICByZXN1bHQucHV0KElDb250ZW50cy5TVUNDRVNTLCB0cnVlKTsKICAgICAgICAgICAgcmVzdWx0LnB1dCgiZGF0YSIsIHNlcnZpY2UuZ2V0Tk9Pd25Qcm9Db3VudChpbnZvSWQpKTsKICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gZSkgewogICAgICAgICAgICBMb2dnZXIuZXJyb3IoImludmVudG9yeUNvbnRyb2xsZXIuZ2V0Tk9Pd25Qcm9Db3VudO+8muiOt+WPlueUqOaIt+S7o+eQhuS6p+WTgeW8guW4uCIsIGUpOwogICAgICAgICAgICByZXN1bHQucHV0KElDb250ZW50cy5TVUNDRVNTLCBmYWxzZSk7CiAgICAgICAgfQogICAgICAgIHJldHVybiBvayhKc29uLnRvSnNvbihyZXN1bHQpKTsKICAgIH0KCiAgICAvKioKICAgICAqIOihpeW9lQogICAgICoKICAgICAqIEByZXR1cm4KICAgICAqLwogICAgcHVibGljIFJlc3VsdCBibHVlcygpIHsKICAgICAgICBpbnQgbWVudUlkID0gMjM7CiAgICAgICAgU3RyaW5nIGxvZ18xID0gImxvZ18xIjsKICAgICAgICBTdHJpbmcgaW5mbyA9IHJlcXVlc3QoKS5nZXRRdWVyeVN0cmluZygiaW5mbyIpOwogICAgICAgIEludGVnZXIgbGcgPSBJbnRlZ2VyLnZhbHVlT2YocmVxdWVzdCgpLmdldFF1ZXJ5U3RyaW5nKCJsZyIpKTsKICAgICAgICBMaXN0PFN0cmluZz4gbHMgPSBuZXcgQXJyYXlMaXN0PFN0cmluZz4oKTsKICAgICAgICBVc2VySW5mb0VudGl0eSB1c2VySW5mb0VudGl0eSA9IENvbW1vblV0aWxzLmdldFBsYXlVc2VyKHJlcXVlc3QoKSk7CgogICAgICAgIC8v5oiq5Y+WCiAgICAgICAgUGF0dGVybiBwYXR0ZXJuID0gbnVsbDsKICAgICAgICBpZiAobGcgPT0gMSkgewogICAgICAgICAgICBwYXR0ZXJuID0gUGF0dGVybi5jb21waWxlKCIoPzw957yW56CB5pyq56Gu6K6k5YWl5bqTOiBbMC05XXswLDl9ICzkuLogXFxbKSguKz8pKD89XSAs6ZSZ6K+v57yW56CBKSIpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHBhdHRlcm4gPSBQYXR0ZXJuLmNvbXBpbGUoIig/PD3nvJbnoIHmnKrlr7nlupTlh7rlupM6IFswLTldezAsOX0gLOS4uiBcXFspKC4rPykoPz1dICzplJnor6/nvJbnoIEpIik7CiAgICAgICAgfQoKICAgICAgICBNYXRjaGVyIG1hdGNoZXIgPSBwYXR0ZXJuLm1hdGNoZXIoaW5mbyk7CiAgICAgICAgd2hpbGUgKG1hdGNoZXIuZmluZCgpKSB7CiAgICAgICAgICAgIGxzLmFkZChtYXRjaGVyLmdyb3VwKCkpOwogICAgICAgIH0KPDw8PDw8PCBIRUFECiAgICAgICAgU3RyaW5nIGludGVyZmxvd2NvZGU9bHMuZ2V0KDApOwogICAgICAgIGludCBpbj1pbnRlcmZsb3djb2RlLnNwbGl0KCIsIikubGVuZ3RoOwovLyAgICAgICAgdHJ5IHsKLy8gICAgICAgICAgICBzZXJ2aWNlLmluZm9fdXAoaW5mbyxsZyk7Ci8vICAgICAgICB9Y2F0Y2ggKEV4Y2VwdGlvbiBlKXsKLy8gICAgICAgICAgICBlLnByaW50U3RhY2tUcmFjZSgpOwovLyAgICAgICAgfQoKICAgICAgICBpZiAobGc9PTEpewogICAgICAgICAgICByZXR1cm4gb2sobWFudWFsSW5CYXRjaC5yZW5kZXIobWVudUlkLHVzZXJJbmZvRW50aXR5LmdldFVzZXJOYW1lKCksIiIsaW50ZXJmbG93Y29kZSxsb2dfMSxpbmZvLGxnKSk7CiAgICAgICAgfQogICAgICAgIHJldHVybiBvayhzaW5nbGVJbnZlbnRvcnlJbmZvLnJlbmRlcigyNSx1c2VySW5mb0VudGl0eS5nZXRVc2VyTmFtZSgpLCIiLGludGVyZmxvd2NvZGUsbG9nXzEsaW4saW5mbyxsZykpOwo9PT09PT09CiAgICAgICAgU3RyaW5nIGludGVyZmxvd2NvZGUgPSBscy5nZXQoMCk7CiAgICAgICAgaW50IGluID0gaW50ZXJmbG93Y29kZS5zcGxpdCgiLCIpLmxlbmd0aDsKICAgICAgICB0cnkgewogICAgICAgICAgICBzZXJ2aWNlLmluZm9fdXAoaW5mbywgbGcpOwogICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7CiAgICAgICAgICAgIGUucHJpbnRTdGFja1RyYWNlKCk7CiAgICAgICAgfQoKICAgICAgICBpZiAobGcgPT0gMSkgewogICAgICAgICAgICByZXR1cm4gb2sobWFudWFsSW5CYXRjaC5yZW5kZXIobWVudUlkLCB1c2VySW5mb0VudGl0eS5nZXRVc2VyTmFtZSgpLCAiIiwgaW50ZXJmbG93Y29kZSwgbG9nXzEpKTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIG9rKHNpbmdsZUludmVudG9yeUluZm8ucmVuZGVyKDI1LCB1c2VySW5mb0VudGl0eS5nZXRVc2VyTmFtZSgpLCAiIiwgaW50ZXJmbG93Y29kZSwgbG9nXzEsIGluKSk7Cj4+Pj4+Pj4gdXBzdHJlYW0vbWFzdGVyCiAgICB9Cgp9Cg==</text>
      </register>
      <register name="1" type="2">
        <text encoding="base64">PT09PT09PQogICAgICAgICAgICBTdHJpbmcgaW50ZXJmbG93Y29kZSA9IGxzLmdldCgwKTsKICAgICAgICAgICAgaW50IGluID0gaW50ZXJmbG93Y29kZS5zcGxpdCgiLCIpLmxlbmd0aDsKICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgIHNlcnZpY2UuaW5mb191cChpbmZvLCBsZyk7CiAgICAgICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7CiAgICAgICAgICAgICAgICBlLnByaW50U3RhY2tUcmFjZSgpOwogICAgICAgICAgICB9CgogICAgICAgICAgICBpZiAobGcgPT0gMSkgewogICAgICAgICAgICAgICAgcmV0dXJuIG9rKG1hbnVhbEluQmF0Y2gucmVuZGVyKG1lbnVJZCwgdXNlckluZm9FbnRpdHkuZ2V0VXNlck5hbWUoKSwgIiIsIGludGVyZmxvd2NvZGUsIGxvZ18xKSk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgcmV0dXJuIG9rKHNpbmdsZUludmVudG9yeUluZm8ucmVuZGVyKDI1LCB1c2VySW5mb0VudGl0eS5nZXRVc2VyTmFtZSgpLCAiIiwgaW50ZXJmbG93Y29kZSwgbG9nXzEsIGluKSk7Cj4+Pj4+Pj4gdXBzdHJlYW0vbWFzdGVyCg==</text>
      </register>
      <register name="2" type="2">
        <text encoding="base64">PDw8PDw8PCBIRUFECg==</text>
      </register>
      <register name="3" type="2">
        <text encoding="base64">PT09PT09PQogICAgICAgIC8qKgogICAgICAgICAqIOe7j+mUgOWVhuS4iuS8oFBUODUw5Ye65bqT5pWw5o2uCiAgICAgICAgICoKICAgICAgICAgKiBAcmV0dXJuCiAgICAgICAgICovCiAgICAgICAgcHVibGljIFJlc3VsdCB1cGxvYWRDdXN0RGF0YSgpIHsKICAgICAgICAgICAgTWFwPFN0cmluZywgT2JqZWN0PiByZXN1bHQgPSBuZXcgSGFzaE1hcDxTdHJpbmcsIE9iamVjdD4oKTsKICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgIE1hcDxTdHJpbmcsIFN0cmluZ1tdPiBmb3JtID0gcmVxdWVzdCgpLmJvZHkoKS5hc0Zvcm1VcmxFbmNvZGVkKCk7CiAgICAgICAgICAgICAgICBDdXN0b21lckVudGl0eSBjdXN0b21lciA9IENvbW1vblV0aWxzLmdldFBsYXlDdXN0b21lcihyZXF1ZXN0KCkpOwogICAgICAgICAgICAgICAgLy8g5aS05L+h5oGv77yMVHlwZeOAgURhdGXjgIFTY2FubmVyTm8KICAgICAgICAgICAgICAgIFN0cmluZ1tdIGluZm9BcnIgPSBmb3JtLmdldCgiaW5mb0FyciIpOwogICAgICAgICAgICAgICAgLy8g5Li75L+h5oGv77yMT3JkZXJOb+OAgUHjgIFQCiAgICAgICAgICAgICAgICBTdHJpbmdbXSBzdHJBcnIgPSBmb3JtLmdldCgic3RyQXJyIik7CiAgICAgICAgICAgICAgICAvLyDnianmtYHnoIHkv6Hmga8KICAgICAgICAgICAgICAgIFN0cmluZ1tdIGNvZGVBcnIgPSBmb3JtLmdldCgiY29kZUFyciIpOwogICAgICAgICAgICAgICAgU3RyaW5nW10gZGVsT3JkZXIgPSBmb3JtLmdldCgiZGVsT3JkZXIiKTsKICAgICAgICAgICAgICAgIHJlc3VsdC5wdXQoIm1zZyIsIFN0cmluZy52YWx1ZU9mKHNlcnZpY2UudXBsb2FkRGF0YShjdXN0b21lciwgaW5mb0Fyciwgc3RyQXJyLCBjb2RlQXJyLCBkZWxPcmRlcikuZ2V0KCJyZXR1cm5TdHJpbmciKSkpOwogICAgICAgICAgICAgICAgcmVzdWx0LnB1dChJQ29udGVudHMuU1VDQ0VTUywgdHJ1ZSk7CiAgICAgICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7CiAgICAgICAgICAgICAgICByZXN1bHQucHV0KElDb250ZW50cy5TVUNDRVNTLCBmYWxzZSk7CiAgICAgICAgICAgICAgICBMb2dnZXIuZXJyb3IoImludmVudG9yeUNvbnRyb2xsZXItdXBsb2FkQ3VzdERhdGE657uP6ZSA5ZWG5LiK5LygUFQ4NTDlh7rlupPmlbDmja7lvILluLgiLCBlKTsKICAgICAgICAgICAgfQogICAgICAgICAgICByZXR1cm4gb2soSnNvbi50b0pzb24ocmVzdWx0KSk7CiAgICAgICAgfQo+Pj4+Pj4+IHVwc3RyZWFtL21hc3Rlcgo=</text>
      </register>
      <register name="4" type="2">
        <text encoding="base64">PDw8PDw8PCBIRUFECg==</text>
      </register>
      <register name="5" type="2">
        <text encoding="base64">PT09PT09PQogICAgICAgICAgICAgICAgaWYgKGZsYWcpIHsKICAgICAgICAgICAgICAgICAgICByZXN1bHQucHV0KCJtc2ciLCBTdHJpbmcudmFsdWVPZihzZXJ2aWNlLnVwbG9hZERhdGEodXNlciwgc3RvcmVJZCwgaW5mb0Fyciwgc3RyQXJyLCBjb2RlQXJyLCBkZWxPcmRlcikuZ2V0KCJyZXR1cm5TdHJpbmciKSkpOwo+Pj4+Pj4+IHVwc3RyZWFtL21hc3Rlcgo=</text>
      </register>
      <register name="6" type="2">
        <text encoding="base64">PDw8PDw8PCBIRUFECg==</text>
      </register>
      <register name="7" type="2">
        <text encoding="base64">cGFja2FnZSBjb250cm9sbGVycy5pbnZlbnRvcnk7CgppbXBvcnQgamF2YS5pby5CeXRlQXJyYXlJbnB1dFN0cmVhbTsKaW1wb3J0IGphdmEuaW8uQnl0ZUFycmF5T3V0cHV0U3RyZWFtOwppbXBvcnQgamF2YS5pby5JbnB1dFN0cmVhbTsKaW1wb3J0IGphdmEudXRpbC5BcnJheUxpc3Q7CmltcG9ydCBqYXZhLnV0aWwuQXJyYXlzOwppbXBvcnQgamF2YS51dGlsLkhhc2hNYXA7CmltcG9ydCBqYXZhLnV0aWwuTGlzdDsKaW1wb3J0IGphdmEudXRpbC5NYXA7CmltcG9ydCBqYXZhLnV0aWwucmVnZXguTWF0Y2hlcjsKaW1wb3J0IGphdmEudXRpbC5yZWdleC5QYXR0ZXJuOwoKaW1wb3J0IGphdmF4LmFubm90YXRpb24uUmVzb3VyY2U7CgppbXBvcnQgbW9kZWxzLkN1c3RvbWVyRW50aXR5OwppbXBvcnQgbW9kZWxzLlVzZXJJbmZvRW50aXR5OwoKaW1wb3J0IG9yZy5hcGFjaGUucG9pLmhzc2YudXNlcm1vZGVsLkhTU0ZXb3JrYm9vazsKaW1wb3J0IG9yZy5hcGFjaGUucG9pLnNzLnVzZXJtb2RlbC5Sb3c7CgppbXBvcnQgcGxheS5Mb2dnZXI7CmltcG9ydCBwbGF5LmRhdGEuRm9ybTsKaW1wb3J0IHBsYXkubGlicy5Kc29uOwppbXBvcnQgcGxheS5tdmMuQ29udHJvbGxlcjsKaW1wb3J0IHBsYXkubXZjLlJlc3VsdDsKaW1wb3J0IHNlcnZpY2UuSW52ZW50b3J5U2VydmljZTsKaW1wb3J0IHV0aWwuQ29tbW9uVXRpbHM7CmltcG9ydCB1dGlsLkNvbmZpZ1V0aWw7CmltcG9ydCB1dGlsLkZ0cFNlcnZlclV0aWw7CmltcG9ydCB1dGlsLklDb250ZW50czsKaW1wb3J0IHZpZXdzLmh0bWwuKjsKCmltcG9ydCBjb20uZWlnaHRzcGFjZS5zZXJ2ZXIuY29tbW9uLmNvbnZlcnQuRW1wdHlVdGlsOwoKaW1wb3J0IGZvcm0uSW52ZW50b3J5Rm9ybTsKCi8qKgogKiDlh7rlupPnrqHnkIbmjqfliLblsYIKICoKCiAqIEBkYXRlIDIwMTQtNS0xOQogKiBAc2luY2UgMS4wCiAqLwpAb3JnLnNwcmluZ2ZyYW1ld29yay5zdGVyZW90eXBlLkNvbnRyb2xsZXIKcHVibGljIGNsYXNzIEludmVudG9yeUNvbnRyb2xsZXIgZXh0ZW5kcyBDb250cm9sbGVyewogICAgLy/ms6jlhaVzZXJ2aWNlCiAgICBAUmVzb3VyY2UobmFtZT0iaW52ZW50b3J5U2VydmljZUltcGwiKQogICAgcHJpdmF0ZSBJbnZlbnRvcnlTZXJ2aWNlIHNlcnZpY2U7CgogICAgLyoqCiAgICAgKgogICAgICog6I635b6X5Ye65bqT6aG16Z2iCiAgICAgKgoKICAgICAqIEBkYXRlIDIwMTTlubQ25pyIMjfml6UKICAgICAqIEBwYXJhbSBtZW51SWQg6I+c5Y2VaWQKICAgICAqIEByZXR1cm4KICAgICAqIEBzaW5jZSAxLjAKICAgICAqLwogICAgcHVibGljIFJlc3VsdCBpbml0KEludGVnZXIgbWVudUlkKSB7CiAgICAgICAgVXNlckluZm9FbnRpdHkgdXNlckluZm9FbnRpdHkgPSBDb21tb25VdGlscy5nZXRQbGF5VXNlcihyZXF1ZXN0KCkpOwogIAkJcmV0dXJuIG9rKGludmVudG9yeUluZm8ucmVuZGVyKG1lbnVJZCwgdXNlckluZm9FbnRpdHkuZ2V0VXNlck5hbWUoKSkpOwogIAl9CgogICAgcHVibGljIFJlc3VsdCB1cGxvYWRSZW5kZXIoSW50ZWdlciBtZW51SWQpewogICAgICAgIEludGVnZXIgZmxhZyA9IDI7CiAgICAgICAgSW50ZWdlciBhbnRpcm9sZWlkPW51bGw7CiAgICAgICAgdHJ5IHsKICAgICAgICAgICAgVXNlckluZm9FbnRpdHkgdXNlciA9IENvbW1vblV0aWxzLmdldFBsYXlVc2VyKHJlcXVlc3QoKSk7CiAgICAgICAgICAgIGFudGlyb2xlaWQ9dXNlci5nZXRBbnRpcm9sZWlkKCk7CiAgICAgICAgICAgIGlmKEVtcHR5VXRpbC5pc0VtcHR5KHVzZXIuZ2V0VXNlck5hbWUoKSkpewogICAgICAgICAgICAgICAgZmxhZyA9IDE7CiAgICAgICAgICAgIH0KICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gZSkgewogICAgICAgICAgICBMb2dnZXIuZXJyb3IoInVwbG9hZFJlbmRlcu+8muafpeeci+S4iuS8oOaXpeW/l+W8guW4uCIsIGUpOwogICAgICAgIH0KICAgICAgICByZXR1cm4gb2sodXBsb2FkTG9nLnJlbmRlcihtZW51SWQsIGZsYWcsYW50aXJvbGVpZCkpOwogICAgfQoKICAgIC8qKgogICAgICog6Lez6L2s55qEUFQ4NTDkuIrkvKDmlbDmja7pobXpnaIKICAgICAqIEBwYXJhbSBtZW51SWQKICAgICAqIEByZXR1cm4KICAgICAqLwogICAgcHVibGljIFJlc3VsdCBnZXRQdERhdGEoSW50ZWdlciBtZW51SWQpewogICAgICAgIFN0cmluZyBhcGFjaGVTdHIgPSAiIjsKICAgICAgICBMaXN0PE1hcDxTdHJpbmcsIFN0cmluZz4+IGxpc3QgPSBudWxsOwogICAgICAgIHRyeSB7CiAgICAgICAgICAgIGFwYWNoZVN0ciA9IENvbmZpZ1V0aWwuZ2V0U3lzQ2ZnUHJvcCgiYXBhY2hlLmhvc3RuYW1lIik7CiAgICAgICAgICAgIGxpc3QgPSBzZXJ2aWNlLmdldFN0b3Jlc0luZm8oKTsKICAgICAgICB9Y2F0Y2ggKEV4Y2VwdGlvbiBlKSB7CiAgICAgICAgICAgIExvZ2dlci5lcnJvcigiZ2V0UHREYXRh77ya6I635Y+W5LuT5bqT5L+h5oGv5byC5bi4IiwgZSk7CiAgICAgICAgfQogICAgICAgICAgIHJldHVybiBvayhwdDg1MC5yZW5kZXIoYXBhY2hlU3RyLGxpc3QpKTsKICAgIH0KCgkvKioKCSAqIOi3s+i9rOeahFBUODUw5LiK5Lyg5pWw5o2u6aG16Z2iCgkgKgoKCSAqIEBwYXJhbSBtZW51SWQKCSAqIEByZXR1cm4KCSAqLwoJcHVibGljIFJlc3VsdCBnZXRQdEN1c3REYXRhKEludGVnZXIgbWVudUlkKSB7CgkJU3RyaW5nIGFwYWNoZVN0ciA9ICIiOwoJCXRyeSB7CgkJCWFwYWNoZVN0ciA9IENvbmZpZ1V0aWwuZ2V0U3lzQ2ZnUHJvcCgiYXBhY2hlLmhvc3RuYW1lIik7CgkJfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHsKCQkJTG9nZ2VyLmVycm9yKCJnZXRQdEN1c3REYXRh77ya6I635Y+W5LiL57qn5YiG6ZSA5ZWG5YiX6KGo5L+h5oGv5byC5bi4IiwgZSk7CgkJfQoJCXJldHVybiBvayhwdDg1MGN1c3QucmVuZGVyKGFwYWNoZVN0cikpOwoJfQoKICAgIC8qKgogICAgICog5LiL6L29UFQ4NTDmjqfku7ZVUEZpbGVDb250cm9sLmV4ZQogICAgICogQHJldHVybgogICAgICovCiAgICBwdWJsaWMgUmVzdWx0IGdldFVQRmlsZUNvbnRyb2woKXsKICAgICAgICBieXRlW10gYnkgPSBudWxsOwogICAgICAgIHRyeSB7CiAgICAgICAgICAgIElucHV0U3RyZWFtIGZpcyA9IEZ0cFNlcnZlclV0aWwuZ2V0RmlsZVN0cmVhbSgib2ZmaWNlRmlsZS9VUEZpbGVDb250cm9sLmV4ZSIpOwogICAgICAgICAgICBCeXRlQXJyYXlPdXRwdXRTdHJlYW0gYm9zID0gbmV3IEJ5dGVBcnJheU91dHB1dFN0cmVhbSgxMDAwKTsKICAgICAgICAgICAgYnl0ZVtdIGIgPSBuZXcgYnl0ZVsxMDAwXTsKICAgICAgICAgICAgaW50IG47CiAgICAgICAgICAgIHdoaWxlICgobiA9IGZpcy5yZWFkKGIpKSAhPSAtMSkgewogICAgICAgICAgICAgICBib3Mud3JpdGUoYiwgMCwgbik7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYoZmlzICE9IG51bGwpewogICAgICAgICAgICAgICAgZmlzLmNsb3NlKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgYm9zLmNsb3NlKCk7CiAgICAgICAgICAgIGJ5ID0gYm9zLnRvQnl0ZUFycmF5KCk7CiAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHsKICAgICAgICAgICAgTG9nZ2VyLmVycm9yKCJnZXRVUEZpbGVDb250cm9s77ya5LiL6L295o6n5Lu2IiwgZSk7CiAgICAgICAgfQogICAgICAgIHJldHVybiBvayhieSk7CiAgICB9CgogICAgLyoqCiAgICAgKiDkuIvovb1QVDg1MOeahDMy5L2N57O757uf6amx5YqodWRwX2FuZF92Y29tX2Rydi4xLjcuMy5TZXR1cC5leGUKICAgICAqIEByZXR1cm4KICAgICAqLwogICAgcHVibGljIFJlc3VsdCBnZXQzMkJpdERyaXZlcigpewogICAgICAgIGJ5dGVbXSBieSA9IG51bGw7CiAgICAgICAgdHJ5IHsKICAgICAgICAgICAgSW5wdXRTdHJlYW0gZmlzID0gRnRwU2VydmVyVXRpbC5nZXRGaWxlU3RyZWFtKCJvZmZpY2VGaWxlL3VkcF9hbmRfdmNvbV9kcnYuMS43LjMuU2V0dXAuZXhlIik7CiAgICAgICAgICAgIEJ5dGVBcnJheU91dHB1dFN0cmVhbSBib3MgPSBuZXcgQnl0ZUFycmF5T3V0cHV0U3RyZWFtKDEwMDApOwogICAgICAgICAgICBieXRlW10gYiA9IG5ldyBieXRlWzEwMDBdOwogICAgICAgICAgICBpbnQgbjsKICAgICAgICAgICAgd2hpbGUgKChuID0gZmlzLnJlYWQoYikpICE9IC0xKSB7CiAgICAgICAgICAgICAgIGJvcy53cml0ZShiLCAwLCBuKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBpZihmaXMgIT0gbnVsbCl7CiAgICAgICAgICAgICAgICBmaXMuY2xvc2UoKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBib3MuY2xvc2UoKTsKICAgICAgICAgICAgYnkgPSBib3MudG9CeXRlQXJyYXkoKTsKICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gZSkgewogICAgICAgICAgICBMb2dnZXIuZXJyb3IoImdldDMyQml0RHJpdmVy77ya5LiL6L29UFQ4NTDnmoQzMuS9jeezu+e7n+mpseWKqCIsIGUpOwogICAgICAgIH0KICAgICAgICByZXR1cm4gb2soYnkpOwogICAgfQoKICAgIC8qKgogICAgICog5LiL6L29UFQ4NTDnmoQ2NOS9jeezu+e7n+mpseWKqHVzYl9kcml2ZXJzKDY0KS5yYXIKICAgICAqIEByZXR1cm4KICAgICAqLwogICAgcHVibGljIFJlc3VsdCBnZXQ2NEJpdERyaXZlcigpewogICAgICAgIGJ5dGVbXSBieSA9IG51bGw7CiAgICAgICAgdHJ5IHsKICAgICAgICAgICAgSW5wdXRTdHJlYW0gZmlzID0gRnRwU2VydmVyVXRpbC5nZXRGaWxlU3RyZWFtKCJvZmZpY2VGaWxlL3VzYl9kcml2ZXJzKDY0KS5yYXIiKTsKICAgICAgICAgICAgQnl0ZUFycmF5T3V0cHV0U3RyZWFtIGJvcyA9IG5ldyBCeXRlQXJyYXlPdXRwdXRTdHJlYW0oMTAwMCk7CiAgICAgICAgICAgIGJ5dGVbXSBiID0gbmV3IGJ5dGVbMTAwMF07CiAgICAgICAgICAgIGludCBuOwogICAgICAgICAgICB3aGlsZSAoKG4gPSBmaXMucmVhZChiKSkgIT0gLTEpIHsKICAgICAgICAgICAgICAgYm9zLndyaXRlKGIsIDAsIG4pOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmKGZpcyAhPSBudWxsKXsKICAgICAgICAgICAgICAgIGZpcy5jbG9zZSgpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGJvcy5jbG9zZSgpOwogICAgICAgICAgICBieSA9IGJvcy50b0J5dGVBcnJheSgpOwogICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7CiAgICAgICAgICAgIExvZ2dlci5lcnJvcigiZ2V0NjRCaXREcml2ZXLvvJrkuIvovb1QVDg1MOeahDY05L2N57O757uf6amx5YqoIiwgZSk7CiAgICAgICAgfQogICAgICAgIHJldHVybiBvayhieSk7CiAgICB9CgogICAgcHVibGljIFJlc3VsdCBnZXRJbmZvTGlzdCgpewogICAgICAgIC8v6L+U5Zue5YmN5Y+wCiAgICAgICAgTWFwPFN0cmluZyxPYmplY3Q+IHJlc3VsdCA9IG5ldyBIYXNoTWFwPFN0cmluZywgT2JqZWN0PigpOwogICAgICAgIHRyeSB7CiAgICAgICAgICAgIEZvcm08SW52ZW50b3J5Rm9ybT4gaW52Rm9ybSA9IEZvcm0uZm9ybShJbnZlbnRvcnlGb3JtLmNsYXNzKTsKICAgICAgICAgICAgSW52ZW50b3J5Rm9ybSBmb3JtID0gaW52Rm9ybS5iaW5kRnJvbVJlcXVlc3QoKS5nZXQoKTsKICAgICAgICAgICAgVXNlckluZm9FbnRpdHkgdXNlciA9IENvbW1vblV0aWxzLmdldFBsYXlVc2VyKHJlcXVlc3QoKSk7CiAgICAgICAgICAgIEN1c3RvbWVyRW50aXR5IGN1c3RvbWVyRW50aXR5ID0gbnVsbDsKICAgICAgICAgICAgaWYoRW1wdHlVdGlsLmlzRW1wdHkodXNlci5nZXRVc2VyTmFtZSgpKSl7CiAgICAgICAgICAgICAgICBjdXN0b21lckVudGl0eSA9IENvbW1vblV0aWxzLmdldFBsYXlDdXN0b21lcihyZXF1ZXN0KCkpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHJlc3VsdC5wdXQoInJvb3QiLCBzZXJ2aWNlLmdldFVwbG9hZExvZ0luZm8oZm9ybSx1c2VyLGN1c3RvbWVyRW50aXR5KSk7CiAgICAgICAgICAgIHJlc3VsdC5wdXQoInRvdGFsUHJvcGVydHkiLCBzZXJ2aWNlLmdldFVwbG9hZExvZ0luZm9Db3VudChmb3JtLHVzZXIsY3VzdG9tZXJFbnRpdHkpKTsKICAgICAgICAgICAgcmVzdWx0LnB1dChJQ29udGVudHMuU1VDQ0VTUywgdHJ1ZSk7CiAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHsKICAgICAgICAgICAgcmVzdWx0LnB1dChJQ29udGVudHMuU1VDQ0VTUywgZmFsc2UpOwogICAgICAgICAgICBMb2dnZXIuZXJyb3IoImludmVudG9yeUNvbnRyb2xsZXItZ2V0SW5mb0xpc3Q65YiX6KGo5byC5bi4IixlKTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIG9rKEpzb24udG9Kc29uKHJlc3VsdCkpOwogICAgfQoKICAgIC8qKgogICAgICog5LiK5LygUFQ4NTDlh7rlupPmlbDmja4KICAgICAqIEByZXR1cm4KICAgICAqLwogICAgcHVibGljIFJlc3VsdCB1cGxvYWREYXRhKFN0cmluZyBzdG9yZUlkKXsKICAgICAgICBNYXA8U3RyaW5nLCBPYmplY3Q+IHJlc3VsdCA9IG5ldyBIYXNoTWFwPFN0cmluZywgT2JqZWN0PigpOwogICAgICAgIHRyeSB7CiAgICAgICAgICAgIE1hcDxTdHJpbmcsIFN0cmluZ1tdPiBmb3JtID0gcmVxdWVzdCgpLmJvZHkoKS5hc0Zvcm1VcmxFbmNvZGVkKCk7CiAgICAgICAgICAgIFVzZXJJbmZvRW50aXR5IHVzZXIgPSBDb21tb25VdGlscy5nZXRQbGF5VXNlcihyZXF1ZXN0KCkpOwogICAgICAgICAgICBTdHJpbmdbXSBpbmZvQXJyID0gZm9ybS5nZXQoImluZm9BcnIiKTsKICAgICAgICAgICAgU3RyaW5nW10gc3RyQXJyID0gZm9ybS5nZXQoInN0ckFyciIpOwogICAgICAgICAgICBTdHJpbmdbXSBjb2RlQXJyID0gZm9ybS5nZXQoImNvZGVBcnIiKTsKICAgICAgICAgICAgU3RyaW5nW10gZGVsT3JkZXIgPSBmb3JtLmdldCgiZGVsT3JkZXIiKTsKCiAgICAgICAgICAgIC8v6I635Y+W5LiK5Lyg5paH5Lu257G75Z6L77yM5aaC5p6c5piv5Ye65bqT5ZKM5pW05omY5Ye65bqT6ZyA6KaB5Yik5pat57uP6ZSA5ZWG57yW56CB5piv5ZCm5q2j5bi4ICBzdGFydAogICAgICAgICAgICAvL1siT3JkZXJObz0wMDAsQT0xMTIxMTIzMTExIiwiT3JkZXJObz0wMDAsQT0xMTIxMTIzMTExIiwiT3JkZXJObz0wMDAsQT0xMTIxMTIzMTExIl0KICAgICAgICAgICAgU3RyaW5nIGZpbGVUeXBlID0gIiI7CiAgICAgICAgICAgIGZvcihpbnQgaSA9IDAgOyBpIDwgaW5mb0Fyci5sZW5ndGggOyBpKyspewogICAgICAgICAgICAgICAgaWYoaW5mb0FycltpXS5jb250YWlucygiVHlwZSIpKXsKICAgICAgICAgICAgICAgICAgICBmaWxlVHlwZSA9IGluZm9BcnJbaV0uc3BsaXQoIj0iKVsxXTsKICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICBib29sZWFuICBmbGFnID0gdHJ1ZTsKICAgICAgICAgICAgaWYoIk1hcmtldCIuZXF1YWxzKGZpbGVUeXBlKSB8fCAiUGFsbGV0Ii5lcXVhbHMoZmlsZVR5cGUpKXsKICAgICAgICAgICAgICAgIExpc3Q8U3RyaW5nPiAgY3VzdExpc3QgPSBuZXcgQXJyYXlMaXN0PFN0cmluZz4oKTsKICAgICAgICAgICAgICAgIGZvcihpbnQgaSA9IDAgOyBpIDwgc3RyQXJyLmxlbmd0aCA7IGkrKyl7CiAgICAgICAgICAgICAgICAgICAgaWYoRW1wdHlVdGlsLmlzTm90RW1wdHkoZGVsT3JkZXIpICYmIEFycmF5cy5hc0xpc3QoZGVsT3JkZXIpLmNvbnRhaW5zKFN0cmluZy52YWx1ZU9mKGkpKSl7CiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBTdHJpbmdbXSBzQXJyID0gc3RyQXJyW2ldLnNwbGl0KCIsIik7CiAgICAgICAgICAgICAgICAgICAgU3RyaW5nICBBID0gIiI7CiAgICAgICAgICAgICAgICAgICAgZm9yKGludCBrID0gMCA7IGsgPCBzQXJyLmxlbmd0aCA7IGsrKyl7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmKHNBcnJba10uY29udGFpbnMoIkEiKSl7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEEgPSAgc0FycltrXS5zcGxpdCgiPSIpWzFdOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgaWYoIUNvbW1vblV0aWxzLmlzTnVtZXJpYyhBKSl7CiAgICAgICAgICAgICAgICAgICAgICAgIGZsYWcgPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgfWVsc2V7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmKCFjdXN0TGlzdC5jb250YWlucyhBKSl7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXN0TGlzdC5hZGQoQSk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBpZihmbGFnICYmIGN1c3RMaXN0LnNpemUoKSA+IDApewogICAgICAgICAgICAgICAgICAgIGludCBjb3VudCA9IHNlcnZpY2UuY2hlY2tDdXN0Q29kZShjdXN0TGlzdCk7CiAgICAgICAgICAgICAgICAgICAgaWYoY291bnQgICE9IGN1c3RMaXN0LnNpemUoKSl7CiAgICAgICAgICAgICAgICAgICAgICAgIGZsYWcgPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgLy/ojrflj5bkuIrkvKDmlofku7bnsbvlnovvvIzlpoLmnpzmmK/lh7rlupPlkozmlbTmiZjlh7rlupPpnIDopoHliKTmlq3nu4/plIDllYbnvJbnoIHmmK/lkKbmraPluLggIGVuZAoKICAgICAgICAgICAgaWYoZmxhZyl7CiAgICAgICAgICAgICAgICByZXN1bHQucHV0KCJtc2ciLCBTdHJpbmcudmFsdWVPZihzZXJ2aWNlLnVwbG9hZERhdGEodXNlcixzdG9yZUlkLGluZm9BcnIsc3RyQXJyLGNvZGVBcnIsZGVsT3JkZXIsMykuZ2V0KCJyZXR1cm5TdHJpbmciKSkpOwogICAgICAgICAgICAgICAgcmVzdWx0LnB1dChJQ29udGVudHMuU1VDQ0VTUywgdHJ1ZSk7CiAgICAgICAgICAgIH1lbHNlewogICAgICAgICAgICAgICAgcmVzdWx0LnB1dCgibXNnIiwi5Y+R546w5pyJ57uP6ZSA5ZWG57yW56CB6ZSZ6K+v77yM6K+35Yi35paw6aG16Z2i6YeN6K+VIik7CiAgICAgICAgICAgICAgICByZXN1bHQucHV0KElDb250ZW50cy5TVUNDRVNTLCBmYWxzZSk7CiAgICAgICAgICAgIH0KICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gZSkgewogICAgICAgICAgICByZXN1bHQucHV0KElDb250ZW50cy5TVUNDRVNTLCBmYWxzZSk7CiAgICAgICAgICAgIExvZ2dlci5lcnJvcigiaW52ZW50b3J5Q29udHJvbGxlci11cGxvYWREYXRhOuS4iuS8oFBUODUw5Ye65bqT5pWw5o2u5byC5bi4IixlKTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIG9rKEpzb24udG9Kc29uKHJlc3VsdCkpOwogICAgfQoKCS8qKgoJICog57uP6ZSA5ZWG5LiK5LygUFQ4NTDlh7rlupPmlbDmja4KCSAqCgoJICogQHJldHVybgoJICovCglwdWJsaWMgUmVzdWx0IHVwbG9hZEN1c3REYXRhKCkgewoJCU1hcDxTdHJpbmcsIE9iamVjdD4gcmVzdWx0ID0gbmV3IEhhc2hNYXA8U3RyaW5nLCBPYmplY3Q+KCk7CgkJdHJ5IHsKCQkJTWFwPFN0cmluZywgU3RyaW5nW10+IGZvcm0gPSByZXF1ZXN0KCkuYm9keSgpLmFzRm9ybVVybEVuY29kZWQoKTsKCQkJQ3VzdG9tZXJFbnRpdHkgY3VzdG9tZXIgPSBDb21tb25VdGlscy5nZXRQbGF5Q3VzdG9tZXIocmVxdWVzdCgpKTsKCQkJLy8g5aS05L+h5oGv77yMVHlwZeOAgURhdGXjgIFTY2FubmVyTm8KCQkJU3RyaW5nW10gaW5mb0FyciA9IGZvcm0uZ2V0KCJpbmZvQXJyIik7CgkJCS8vIOS4u+S/oeaBr++8jE9yZGVyTm/jgIFB44CBUAoJCQlTdHJpbmdbXSBzdHJBcnIgPSBmb3JtLmdldCgic3RyQXJyIik7CgkJCS8vIOeJqea1geeggeS/oeaBrwoJCQlTdHJpbmdbXSBjb2RlQXJyID0gZm9ybS5nZXQoImNvZGVBcnIiKTsKCQkJU3RyaW5nW10gZGVsT3JkZXIgPSBmb3JtLmdldCgiZGVsT3JkZXIiKTsKCQkJcmVzdWx0LnB1dCgibXNnIiwgU3RyaW5nLnZhbHVlT2Yoc2VydmljZS51cGxvYWREYXRhKGN1c3RvbWVyLCBpbmZvQXJyLCBzdHJBcnIsIGNvZGVBcnIsIGRlbE9yZGVyLDMpLmdldCgicmV0dXJuU3RyaW5nIikpKTsKCQkJcmVzdWx0LnB1dChJQ29udGVudHMuU1VDQ0VTUywgdHJ1ZSk7CgkJfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHsKCQkJcmVzdWx0LnB1dChJQ29udGVudHMuU1VDQ0VTUywgZmFsc2UpOwoJCQlMb2dnZXIuZXJyb3IoImludmVudG9yeUNvbnRyb2xsZXItdXBsb2FkQ3VzdERhdGE657uP6ZSA5ZWG5LiK5LygUFQ4NTDlh7rlupPmlbDmja7lvILluLgiLCBlKTsKCQl9CgkJcmV0dXJuIG9rKEpzb24udG9Kc29uKHJlc3VsdCkpOwoJfQoKCiAgICAvKioKICAgICAqIFBUODUw5LiK5Lyg5pWw5o2u5Lit6L2s6aG16Z2iCiAgICAgKiBAcGFyYW0gZmlsZVR5cGUKICAgICAqIEByZXR1cm4KICAgICAqLwogICAgcHVibGljIFJlc3VsdCByZW5kZXJQYWdlRGF0YShTdHJpbmcgZmlsZU5hbWUpewogICAgICAgIE1hcDxTdHJpbmcsT2JqZWN0PiByZXN1bHQgPSBuZXcgSGFzaE1hcDxTdHJpbmcsIE9iamVjdD4oKTsKICAgICAgICAvL+S/neWtmOaJq+aPj+eahOavj+S4quS6p+WTgeeahOeJqea1geeggeS/oeaBrwogICAgICAgIExpc3Q8TWFwPFN0cmluZywgU3RyaW5nPj4gbGlzdCA9IG5ldyBBcnJheUxpc3Q8TWFwPFN0cmluZyxTdHJpbmc+PigpOwogICAgICAgIC8v5L+d5a2Y5paH5Lu25L+h5oGvCiAgICAgICAgTWFwPFN0cmluZywgU3RyaW5nPiBtYXAgPSBuZXcgSGFzaE1hcDxTdHJpbmcsIFN0cmluZz4oKTsKICAgICAgICBtYXAucHV0KCJmaWxlTmFtZSIsIGZpbGVOYW1lKTsKICAgICAgICAvL+aWh+S7tuexu+WeiwogICAgICAgIFN0cmluZyBmaWxlVHlwZSA9ICIiOwogICAgICB0cnkgewogICAgICAgICAgICBNYXA8U3RyaW5nLCBTdHJpbmdbXT4gZm9ybSA9IHJlcXVlc3QoKS5ib2R5KCkuYXNGb3JtVXJsRW5jb2RlZCgpOwogICAgICAgICAgICBTdHJpbmdbXSBpbmZvQXJyID0gZm9ybS5nZXQoImluZm9BcnIiKTsKICAgICAgICAgICAgU3RyaW5nW10gc3RyQXJyID0gZm9ybS5nZXQoInN0ckFyciIpOwogICAgICAgICAgICBTdHJpbmdbXSBjb2RlQXJyID0gZm9ybS5nZXQoImNvZGVBcnIiKTsKICAgICAgICAgICAgZm9yKGludCBpID0gMCA7IGkgPCBpbmZvQXJyLmxlbmd0aCA7IGkrKyl7CiAgICAgICAgICAgICAgICBpZihpbmZvQXJyW2ldLmNvbnRhaW5zKCJEYXRlIikpewogICAgICAgICAgICAgICAgICAgIG1hcC5wdXQoImRhdGUiLCBpbmZvQXJyW2ldLnNwbGl0KCI9IilbMV0pOwogICAgICAgICAgICAgICAgfWVsc2UgaWYoaW5mb0FycltpXS5jb250YWlucygiVHlwZSIpKXsKICAgICAgICAgICAgICAgICAgICBmaWxlVHlwZSAgPSBpbmZvQXJyW2ldLnNwbGl0KCI9IilbMV07CiAgICAgICAgICAgICAgICAgICAgbWFwLnB1dCgiZmlsZVR5cGUiLCBmaWxlVHlwZSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZm9yKGludCBpID0gMCA7IGkgPCBzdHJBcnIubGVuZ3RoIDsgaSsrKXsKICAgICAgICAgICAgICAgIE1hcDxTdHJpbmcsIFN0cmluZz4gb2JqID0gbmV3IEhhc2hNYXA8U3RyaW5nLCBTdHJpbmc+KCk7CiAgICAgICAgICAgICAgICAvL+S4u+S/oeaBr++8jE9yZGVyTm/jgIFB44CBUAogICAgICAgICAgICAgICAgU3RyaW5nW10gc0FyciA9IHN0ckFycltpXS5zcGxpdCgiLCIpOwogICAgICAgICAgICAgICAgLy/nianmtYHnoIHmlbDph48KICAgICAgICAgICAgICAgIG9iai5wdXQoInNpemUiLCBTdHJpbmcudmFsdWVPZihjb2RlQXJyW2ldLnNwbGl0KCIsIikubGVuZ3RoKSk7CiAgICAgICAgICAgICAgICBmb3IoaW50IGsgPSAwIDsgayA8IHNBcnIubGVuZ3RoIDsgaysrKXsKICAgICAgICAgICAgICAgICAgICBpZihzQXJyW2tdLmNvbnRhaW5zKCJPcmRlck5vIikpewogICAgICAgICAgICAgICAgICAgICAgICBvYmoucHV0KCJvcmRlck5vIiwgc0FycltrXS5zcGxpdCgiPSIpLmxlbmd0aD4gMSA/ICBzQXJyW2tdLnNwbGl0KCI9IilbMV0gOiAiIik7CiAgICAgICAgICAgICAgICAgICAgfWVsc2UgaWYoc0FycltrXS5jb250YWlucygiUCIpKXsKICAgICAgICAgICAgICAgICAgICAgICAgb2JqLnB1dCgiUCIsIHNBcnJba10uc3BsaXQoIj0iKS5sZW5ndGg+IDEgPyAgc0FycltrXS5zcGxpdCgiPSIpWzFdIDogIiIpOwogICAgICAgICAgICAgICAgICAgICAgICAvL+eOsOWcqOe8lueggeWvueW6lOeahOS6p+WTgeS/oeaBrwogICAgICAgICAgICAgICAgICAgICAgICBpZihzQXJyW2tdLnNwbGl0KCI9IikubGVuZ3RoPiAxKXsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIExpc3Q8TWFwPFN0cmluZywgU3RyaW5nPj4gcHJvTGlzdCA9IHNlcnZpY2UuZ2V0UHJvZHVjdEluZm8oc0FycltrXS5zcGxpdCgiPSIpWzFdKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKEVtcHR5VXRpbC5pc05vdEVtcHR5KHByb0xpc3QpKXsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBNYXA8U3RyaW5nLCBTdHJpbmc+IHByb09iaiA9ICBzZXJ2aWNlLmdldFByb2R1Y3RJbmZvKHNBcnJba10uc3BsaXQoIj0iKVsxXSkuZ2V0KDApOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9iai5wdXQoInByb09iaiIsIHByb09iai5nZXQoImZpbmFuY2Vjb2RlIikrIiAtICIrIHByb09iai5nZXQoInByb2R1Y3RuYW1lIikpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfWVsc2V7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqLnB1dCgicHJvT2JqIiwgIiIpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICB9ZWxzZXsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9iai5wdXQoInByb09iaiIsICIiKTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH1lbHNlIGlmKHNBcnJba10uY29udGFpbnMoIkEiKSl7CiAgICAgICAgICAgICAgICAgICAgICAgIG9iai5wdXQoIkEiLCBzQXJyW2tdLnNwbGl0KCI9IikubGVuZ3RoPiAxID8gIHNBcnJba10uc3BsaXQoIj0iKVsxXSA6ICIiKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBsaXN0LmFkZChvYmopOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHJlc3VsdC5wdXQoSUNvbnRlbnRzLlNVQ0NFU1MsIHRydWUpOwogICAgICAgICAgICByZXN1bHQucHV0KCJtYXAiLCBtYXApOwogICAgICAgICAgICByZXN1bHQucHV0KCJpbmZvIiwgbGlzdCk7CiAgICAgICAgICAgIGlmKGZpbGVUeXBlLmNvbnRhaW5zKCJJIikpewogICAgICAgICAgICAgICAgcmVzdWx0LnB1dCgicGFyTGlzdCIsIHNlcnZpY2UuZ2V0UHJvZHVjdEluZm8obnVsbCkpOwogICAgICAgICAgICB9ZWxzZSB7CiAgICAgICAgICAgICAgICByZXN1bHQucHV0KCJwYXJMaXN0Iiwgc2VydmljZS5nZXRDdXN0b21lckluZm8oKSk7CiAgICAgICAgICAgIH0KICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gZSkgewogICAgICAgICAgICByZXN1bHQucHV0KElDb250ZW50cy5TVUNDRVNTLCBmYWxzZSk7CiAgICAgICAgICAgIExvZ2dlci5lcnJvcigiaW52ZW50b3J5Q29udHJvbGxlci1yZW5kZXJQYWdlOlBUODUw5LiK5Lyg6I635Y+W5pWw5o2u5byC5bi4IixlKTsKICAgICAgICB9CgogICAgICByZXR1cm4gb2soSnNvbi50b0pzb24ocmVzdWx0KSk7CiAgICB9CgoJLyoqCgkgKiBQVDg1MOe7j+mUgOWVhuS4iuS8oOaVsOaNruS4rei9rOmhtemdogoJICoKCgkgKiBAcGFyYW0gZmlsZVR5cGUKCSAqIEByZXR1cm4KCSAqLwoJcHVibGljIFJlc3VsdCByZW5kZXJDdXN0UGFnZURhdGEoU3RyaW5nIGZpbGVOYW1lKSB7CgkJTWFwPFN0cmluZywgT2JqZWN0PiByZXN1bHQgPSBuZXcgSGFzaE1hcDxTdHJpbmcsIE9iamVjdD4oKTsKCQkvLyDkv53lrZjmiavmj4/nmoTmr4/kuKrkuqflk4HnmoTnianmtYHnoIHkv6Hmga8KCQlMaXN0PE1hcDxTdHJpbmcsIFN0cmluZz4+IGxpc3QgPSBuZXcgQXJyYXlMaXN0PE1hcDxTdHJpbmcsIFN0cmluZz4+KCk7CgkJLy8g5L+d5a2Y5paH5Lu25L+h5oGvCgkJTWFwPFN0cmluZywgU3RyaW5nPiBtYXAgPSBuZXcgSGFzaE1hcDxTdHJpbmcsIFN0cmluZz4oKTsKCQltYXAucHV0KCJmaWxlTmFtZSIsIGZpbGVOYW1lKTsKCQkvLyDmlofku7bnsbvlnosKCQlTdHJpbmcgZmlsZVR5cGUgPSAiIjsKCQl0cnkgewoJCQlNYXA8U3RyaW5nLCBTdHJpbmdbXT4gZm9ybSA9IHJlcXVlc3QoKS5ib2R5KCkuYXNGb3JtVXJsRW5jb2RlZCgpOwoJCQlTdHJpbmdbXSBpbmZvQXJyID0gZm9ybS5nZXQoImluZm9BcnIiKTsKCQkJU3RyaW5nW10gc3RyQXJyID0gZm9ybS5nZXQoInN0ckFyciIpOwoJCQlTdHJpbmdbXSBjb2RlQXJyID0gZm9ybS5nZXQoImNvZGVBcnIiKTsKCQkJZm9yIChpbnQgaSA9IDA7IGkgPCBpbmZvQXJyLmxlbmd0aDsgaSsrKSB7CgkJCQlpZiAoaW5mb0FycltpXS5jb250YWlucygiRGF0ZSIpKSB7CgkJCQkJbWFwLnB1dCgiZGF0ZSIsIGluZm9BcnJbaV0uc3BsaXQoIj0iKVsxXSk7CgkJCQl9IGVsc2UgaWYgKGluZm9BcnJbaV0uY29udGFpbnMoIlR5cGUiKSkgewoJCQkJCWZpbGVUeXBlID0gaW5mb0FycltpXS5zcGxpdCgiPSIpWzFdOwoJCQkJCW1hcC5wdXQoImZpbGVUeXBlIiwgZmlsZVR5cGUpOwoJCQkJfQoJCQl9CgkJCWZvciAoaW50IGkgPSAwOyBpIDwgc3RyQXJyLmxlbmd0aDsgaSsrKSB7CgkJCQlNYXA8U3RyaW5nLCBTdHJpbmc+IG9iaiA9IG5ldyBIYXNoTWFwPFN0cmluZywgU3RyaW5nPigpOwoJCQkJLy8g5Li75L+h5oGv77yMT3JkZXJOb+OAgUHjgIFQCgkJCQlTdHJpbmdbXSBzQXJyID0gc3RyQXJyW2ldLnNwbGl0KCIsIik7CgkJCQkvLyDnianmtYHnoIHmlbDph48KCQkJCW9iai5wdXQoInNpemUiLCBTdHJpbmcudmFsdWVPZihjb2RlQXJyW2ldLnNwbGl0KCIsIikubGVuZ3RoKSk7CgkJCQlmb3IgKGludCBrID0gMDsgayA8IHNBcnIubGVuZ3RoOyBrKyspIHsKCQkJCQlpZiAoc0FycltrXS5jb250YWlucygiT3JkZXJObyIpKSB7CgkJCQkJCW9iai5wdXQoIm9yZGVyTm8iLCBzQXJyW2tdLnNwbGl0KCI9IikubGVuZ3RoID4gMSA/IHNBcnJba10uc3BsaXQoIj0iKVsxXSA6ICIiKTsKCQkJCQl9IGVsc2UgaWYgKHNBcnJba10uY29udGFpbnMoIlAiKSkgewoJCQkJCQlvYmoucHV0KCJQIiwgc0FycltrXS5zcGxpdCgiPSIpLmxlbmd0aCA+IDEgPyBzQXJyW2tdLnNwbGl0KCI9IilbMV0gOiAiIik7CgkJCQkJCS8vIOeOsOWcqOe8lueggeWvueW6lOeahOS6p+WTgeS/oeaBrwoJCQkJCQlpZiAoc0FycltrXS5zcGxpdCgiPSIpLmxlbmd0aCA+IDEpIHsKCQkJCQkJCUxpc3Q8TWFwPFN0cmluZywgU3RyaW5nPj4gcHJvTGlzdCA9IHNlcnZpY2UuZ2V0UHJvZHVjdEluZm8oc0FycltrXS5zcGxpdCgiPSIpWzFdKTsKCQkJCQkJCWlmIChFbXB0eVV0aWwuaXNOb3RFbXB0eShwcm9MaXN0KSkgewoJCQkJCQkJCU1hcDxTdHJpbmcsIFN0cmluZz4gcHJvT2JqID0gc2VydmljZS5nZXRQcm9kdWN0SW5mbyhzQXJyW2tdLnNwbGl0KCI9IilbMV0pLmdldCgwKTsKCQkJCQkJCQlvYmoucHV0KCJwcm9PYmoiLCBwcm9PYmouZ2V0KCJmaW5hbmNlY29kZSIpICsgIiAtICIgKyBwcm9PYmouZ2V0KCJwcm9kdWN0bmFtZSIpKTsKCQkJCQkJCX0gZWxzZSB7CgkJCQkJCQkJb2JqLnB1dCgicHJvT2JqIiwgIiIpOwoJCQkJCQkJfQoJCQkJCQl9IGVsc2UgewoJCQkJCQkJb2JqLnB1dCgicHJvT2JqIiwgIiIpOwoJCQkJCQl9CgkJCQkJfSBlbHNlIGlmIChzQXJyW2tdLmNvbnRhaW5zKCJBIikpIHsKCQkJCQkJb2JqLnB1dCgiQSIsIHNBcnJba10uc3BsaXQoIj0iKS5sZW5ndGggPiAxID8gc0FycltrXS5zcGxpdCgiPSIpWzFdIDogIiIpOwoJCQkJCX0KCQkJCX0KCQkJCWxpc3QuYWRkKG9iaik7CgkJCX0KCQkJcmVzdWx0LnB1dChJQ29udGVudHMuU1VDQ0VTUywgdHJ1ZSk7CgkJCXJlc3VsdC5wdXQoIm1hcCIsIG1hcCk7CgkJCXJlc3VsdC5wdXQoImluZm8iLCBsaXN0KTsKCQkJQ3VzdG9tZXJFbnRpdHkgY3VzdG9tZXIgPSBDb21tb25VdGlscy5nZXRQbGF5Q3VzdG9tZXIocmVxdWVzdCgpKTsKCQkJaWYgKEVtcHR5VXRpbC5pc05vdEVtcHR5KGN1c3RvbWVyKSAmJiBFbXB0eVV0aWwuaXNOb3RFbXB0eShjdXN0b21lci5nZXRDdXN0SWQoKSkpIHsKCQkJCXJlc3VsdC5wdXQoInBhckxpc3QiLCBzZXJ2aWNlLmdldEN1c3RzSW5mbyhjdXN0b21lci5nZXRDdXN0SWQoKSkpOwoJCQl9CgkJfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHsKCQkJcmVzdWx0LnB1dChJQ29udGVudHMuU1VDQ0VTUywgZmFsc2UpOwoJCQlMb2dnZXIuZXJyb3IoImludmVudG9yeUNvbnRyb2xsZXItcmVuZGVyUGFnZTpQVDg1MOS4iuS8oOiOt+WPluaVsOaNruW8guW4uCIsIGUpOwoJCX0KCQlyZXR1cm4gb2soSnNvbi50b0pzb24ocmVzdWx0KSk7Cgl9CgogICAgLyoqCiAgICAgKiBwdDg1MOi3s+i9rOmhtemdogogICAgICogQHBhcmFtIGZpbGVOYW1lCiAgICAgKiBAcmV0dXJuCiAgICAgKi8KICAgIHB1YmxpYyBSZXN1bHQgcmVuZGVyUGFnZShJbnRlZ2VyIHR5cGUgLCBTdHJpbmcgZmlsZU5hbWUgLFN0cmluZyBzdG9yZUlkKXsKICAgICAgICBpZih0eXBlID09IDEpewogICAgICAgICAgICByZXR1cm4gb2socHQ4NTBTdG9yYWdlQmF0Y2gucmVuZGVyKGZpbGVOYW1lICwgc3RvcmVJZCkpOwogICAgICAgIH1lbHNlIGlmKHR5cGUgPT0gMyl7CiAgICAgICAgICAgIHJldHVybiBvayhwdDg1MFJldHVybi5yZW5kZXIoZmlsZU5hbWUgLCBzdG9yZUlkKSk7CiAgICAgICAgfWVsc2V7CiAgICAgICAgICAgIHJldHVybiBvayhwdDg1MEludmVudG9yeS5yZW5kZXIoZmlsZU5hbWUgLCBzdG9yZUlkKSk7CiAgICAgICAgfQogICAgfQoKCS8qKgoJICogcHQ4NTBjdXN06Lez6L2s6aG16Z2iCgkgKgoKCSAqIEBwYXJhbSBmaWxlTmFtZQoJICogQHJldHVybgoJICovCglwdWJsaWMgUmVzdWx0IHJlbmRlckN1c3RQYWdlKFN0cmluZyBmaWxlTmFtZSkgewoJCS8vIOi3s+i9rOWHuuW6k+mhtemdogoJCXJldHVybiBvayhwdDg1MEludmVudG9yeUN1c3QucmVuZGVyKGZpbGVOYW1lKSk7Cgl9CgoJICAgcHVibGljIFJlc3VsdCByZW5kZXJUS0N1c3RQYWdlKFN0cmluZyBmaWxlTmFtZSkgewoJICAgICAgICAvLyDot7Povazlh7rlupPpobXpnaIKCSAgICAgICAgcmV0dXJuIG9rKHB0ODUwUmV0dXJuQ3VzdC5yZW5kZXIoZmlsZU5hbWUsIiIpKTsKCSAgICB9CgogICAgLyoqCiAgICAgKiDlh7rlupPliJfooagKICAgICAqCgogICAgICogQGRhdGUgMjAxNC01LTE5CiAgICAgKiBAcmV0dXJuIE1hcDxTdHJpbmcsT2JqZWN0PgogICAgICogQHNpbmNlIDEuMAogICAgICovCi8vICAgIEBSZXF1ZXN0TWFwcGluZyhtZXRob2Q9UmVxdWVzdE1ldGhvZC5HRVQpCi8vICAgIEBSZXNwb25zZUJvZHkKICAgIHB1YmxpYyBSZXN1bHQgZ2V0SW52ZW50b3J5KCl7CiAgICAgICAgLy/ov5Tlm57liY3lj7AKICAgICAgICBNYXA8U3RyaW5nLE9iamVjdD4gcmVzdWx0ID0gbmV3IEhhc2hNYXA8U3RyaW5nLCBPYmplY3Q+KCk7CiAgICAgICAgdHJ5IHsKICAgICAgICAJRm9ybTxJbnZlbnRvcnlGb3JtPiBpbnZGb3JtID0gRm9ybS5mb3JtKEludmVudG9yeUZvcm0uY2xhc3MpOwogICAgICAgIAlJbnZlbnRvcnlGb3JtIGZvcm0gPSBpbnZGb3JtLmJpbmRGcm9tUmVxdWVzdCgpLmdldCgpOwogICAgICAgIAlVc2VySW5mb0VudGl0eSB1c2VyID0gQ29tbW9uVXRpbHMuZ2V0UGxheVVzZXIocmVxdWVzdCgpKTsKICAgICAgICAgICAgcmVzdWx0LnB1dCgicm9vdCIsIHNlcnZpY2UuZ2V0SW52ZW50b3J5KGZvcm0sdXNlcikpOwogICAgICAgICAgICByZXN1bHQucHV0KCJ0b3RhbFByb3BlcnR5IiwgMTAwMDAwMDAwMCk7Ly9zZXJ2aWNlLmdldEludmVudG9yeUNvdW50KGZvcm0sdXNlcikpOwogICAgICAgICAgICByZXN1bHQucHV0KElDb250ZW50cy5TVUNDRVNTLCB0cnVlKTsKICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gZSkgewogICAgICAgICAgICByZXN1bHQucHV0KElDb250ZW50cy5TVUNDRVNTLCBmYWxzZSk7CiAgICAgICAgICAgIExvZ2dlci5lcnJvcigiaW52ZW50b3J5Q29udHJvbGxlci1nZXRJbnZlbnRvcnk65YiX6KGo5byC5bi4IixlKTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIG9rKEpzb24udG9Kc29uKHJlc3VsdCkpOwogICAgfQogICAgLyoqCiAgICAgKiDlh7rlupPmk43kvZwKICAgICAqCgogICAgICogQGRhdGUgMjAxNC01LTE5CiAgICAgKiBAcmV0dXJuIE1hcDxTdHJpbmcsT2JqZWN0PgogICAgICogQHNpbmNlIDEuMAogICAgICovCi8vICAgIEBSZXF1ZXN0TWFwcGluZyhtZXRob2Q9UmVxdWVzdE1ldGhvZC5QT1NUKQovLyAgICBAUmVzcG9uc2VCb2R5CiAgICBwdWJsaWMgUmVzdWx0IG91dEludmVudG9yeSgpewogICAgICAgIC8v6L+U5Zue5YmN5Y+wCiAgICAgICAgTWFwPFN0cmluZyxPYmplY3Q+IHJlc3VsdCA9IG5ldyBIYXNoTWFwPFN0cmluZywgT2JqZWN0PigpOwoKICAgICAgICBGb3JtPEludmVudG9yeUZvcm0+IGludkZvcm0gPSBGb3JtLmZvcm0oSW52ZW50b3J5Rm9ybS5jbGFzcyk7CiAgICAJSW52ZW50b3J5Rm9ybSBmb3JtID0gaW52Rm9ybS5iaW5kRnJvbVJlcXVlc3QoKS5nZXQoKTsKICAgICAgICB0cnkgewogICAgICAgICAgICBzZXJ2aWNlLm91dEludmVudG9yeShmb3JtKTsKICAgICAgICAgICAgcmVzdWx0LnB1dChJQ29udGVudHMuU1VDQ0VTUywgdHJ1ZSk7CiAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHsKICAgICAgICAgICAgcmVzdWx0LnB1dChJQ29udGVudHMuU1VDQ0VTUywgZmFsc2UpOwogICAgICAgICAgICBMb2dnZXIuZXJyb3IoImludmVudG9yeUNvbnRyb2xsZXItb3V0SW52ZW50b3J5OuWHuuW6k+aTjeS9nOW8guW4uCIsZSk7CiAgICAgICAgfQogICAgICAgIHJldHVybiBvayhKc29uLnRvSnNvbihyZXN1bHQpKTsKICAgIH0KCiAgICAvKioKICAgICAqIOWvvOWHuuWFpeW6k+S/oeaBrwogICAgICoKCiAgICAgKiBAZGF0ZSAyMDE0LTUtMjAKICAgICAqIEByZXR1cm4gdm9pZAogICAgICogQHBhcmFtIEludmVudG9yeUZvcm0KICAgICAqIEBzaW5jZSAxLjAKICAgICAqLwovLyAgICBAUmVxdWVzdE1hcHBpbmcodmFsdWU9Ii9leHBvcnQiLG1ldGhvZD1SZXF1ZXN0TWV0aG9kLkdFVCkKLy8gICAgQFJlc3BvbnNlQm9keQogICAgcHVibGljIFJlc3VsdCBleHBvcnRJbnZlbnRvcnkoKXsKCiAgICAJIC8vIOWumuS5iei/lOWbnuWAvAogICAgICAgIEJ5dGVBcnJheU91dHB1dFN0cmVhbSBiYW9zID0gbnVsbDsKICAgICAgICB0cnkgewogICAgICAgICAgICBGb3JtPEludmVudG9yeUZvcm0+IGludkZvcm0gPSBGb3JtLmZvcm0oSW52ZW50b3J5Rm9ybS5jbGFzcyk7CiAgICAgICAgICAgIEludmVudG9yeUZvcm0gZm9ybSA9IGludkZvcm0uYmluZEZyb21SZXF1ZXN0KCkuZ2V0KCk7CiAgICAgICAgICAgIFVzZXJJbmZvRW50aXR5IHVzZXIgPSBDb21tb25VdGlscy5nZXRQbGF5VXNlcihyZXF1ZXN0KCkpOwogICAgICAgICAgICBMaXN0PFN0cmluZz4gaGVhZGVyTGlzdCA9IG5ldyBBcnJheUxpc3Q8U3RyaW5nPigpOwogICAgICAgICAgICBoZWFkZXJMaXN0LmFkZCgi5Ye65bqT5Y2V5Y+3Iik7CiAgICAgICAgICAgIGhlYWRlckxpc3QuYWRkKCLku5PlupPlkI3np7AiKTsKICAgICAgICAgICAgaGVhZGVyTGlzdC5hZGQoIuaJq+aPj+aXpeacnyIpOwogICAgICAgICAgICBoZWFkZXJMaXN0LmFkZCgi6YeH6ZuG5Zmo5Y+3Iik7CiAgICAgICAgICAgIGhlYWRlckxpc3QuYWRkKCLlhaXlupPmlbAiKTsKICAgICAgICAgICAgaGVhZGVyTGlzdC5hZGQoIuWHuuW6k+aVsCIpOwogICAgICAgICAgICB1dGlsLmV4Y2VsLkV4cG9ydEV4Y2VsIGVlID0gbmV3IHV0aWwuZXhjZWwuRXhwb3J0RXhjZWwoIuWHuuW6k+S/oeaBr+aKpeihqCIgLCBoZWFkZXJMaXN0KTsKICAgICAgICAgICAgTGlzdDxNYXA8U3RyaW5nLCBPYmplY3Q+PiBkYXRhTGlzdCA9ICBzZXJ2aWNlLmdldEludmVudG9yeShmb3JtICwgdXNlcik7CgogICAgICAgICAgICBmb3IgKGludCBpID0gMDsgaSA8IGRhdGFMaXN0LnNpemUoKTsgaSsrKSB7CiAgICAgICAgICAgICAgICBSb3cgcm93ID0gZWUuYWRkUm93KCk7CiAgICAgICAgICAgICAgICBlZS5hZGRDZWxsKHJvdywgMCAsIFN0cmluZy52YWx1ZU9mKGRhdGFMaXN0LmdldChpKS5nZXQoIm9yZGVyTm8iKSkpOwogICAgICAgICAgICAgICAgZWUuYWRkQ2VsbChyb3csIDEgLCBTdHJpbmcudmFsdWVPZihkYXRhTGlzdC5nZXQoaSkuZ2V0KCJzdG9yYWdlTmFtZSIpKSk7CiAgICAgICAgICAgICAgICBlZS5hZGRDZWxsKHJvdywgMiAsIFN0cmluZy52YWx1ZU9mKGRhdGFMaXN0LmdldChpKS5nZXQoInNjYW5UaW1lIikpKTsKICAgICAgICAgICAgICAgIGVlLmFkZENlbGwocm93LCAzICwgU3RyaW5nLnZhbHVlT2YoZGF0YUxpc3QuZ2V0KGkpLmdldCgic2Nhbm5lck5vIikpKTsKICAgICAgICAgICAgICAgIGVlLmFkZENlbGwocm93LCA0ICwgU3RyaW5nLnZhbHVlT2YoZGF0YUxpc3QuZ2V0KGkpLmdldCgiaW5JbnZlbnRvcnlDb3VudCIpKSk7CiAgICAgICAgICAgICAgICBlZS5hZGRDZWxsKHJvdywgNSAsIFN0cmluZy52YWx1ZU9mKGRhdGFMaXN0LmdldChpKS5nZXQoIm91dEludmVudG9yeUNvdW50IikpKTsKICAgICAgICAgICAgfQogICAgICAgICAgICByZXNwb25zZSgpLnNldEhlYWRlcigiQ29udGVudC1EaXNwb3NpdGlvbiIsCiAgICAgICAgICAgICAgICAgICAgImF0dGFjaG1lbnQ7IGZpbGVuYW1lPVwiIiArIG5ldyBTdHJpbmcoIuWHuuW6k+S/oeaBr+aKpeihqCIuZ2V0Qnl0ZXMoImdiMTgwMzAiKSwgIklTTzg4NTktMSIpICsgIi54bHN4IiArICJcIiIpOwogICAgICAgICAgICBiYW9zID0gbmV3IEJ5dGVBcnJheU91dHB1dFN0cmVhbSgpOwogICAgICAgICAgICBlZS53cml0ZShiYW9zKTsKICAgICAgICAgICAgcmV0dXJuIG9rKG5ldyBCeXRlQXJyYXlJbnB1dFN0cmVhbShiYW9zLnRvQnl0ZUFycmF5KCkpKTsKICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gZSkgewogICAgICAgICAgICBMb2dnZXIuZGVidWcoIkludmVudG9yeUNvbnRyb2xsZXIgZXhwb3J0UHJpY2VEYXRhOuWvvOWHuuWHuuW6k+aVsOaNriIsIGUpOwogICAgICAgICAgICByZXR1cm4gb2soImVycm9yIik7CiAgICAgICAgfWZpbmFsbHl7CiAgICAgICAgICB0cnkgewogICAgICAgIAkgIGJhb3MuY2xvc2UoKTsKICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHsKICAgIAkgIExvZ2dlci5lcnJvcigi5YWz6Zet5rWB5byC5bi4IixlKTsKICAgICAgfQogICAgfQoKICAgIH0KCiAgICAvKioKICAgICAq5Ye65bqT6K+m57uGCiAgICAgKgoKICAgICAqIEBkYXRlIDIwMTQtNS0yMAogICAgICogQHJldHVybiB2b2lkCiAgICAgKiBAcGFyYW0gSW50ZWdlcgogICAgICogQHNpbmNlIDEuMAogICAgICovCi8vICAgIEBSZXF1ZXN0TWFwcGluZyh2YWx1ZT0iL2RldGFpbCIsbWV0aG9kPVJlcXVlc3RNZXRob2QuR0VUKQovLyAgICBAUmVzcG9uc2VCb2R5CiAgICBwdWJsaWMgUmVzdWx0IGdldEludmVudG9yeURldGFpbChJbnRlZ2VyIGludmVudG9yeUlkKXsKICAgICAgICBNYXA8U3RyaW5nLE9iamVjdD4gcmVzdWx0ID0gbmV3IEhhc2hNYXA8U3RyaW5nLCBPYmplY3Q+KCk7CiAgICAgICAgdHJ5IHsKICAgICAgICAgICAgcmVzdWx0LnB1dCgicm9vdCIsIHNlcnZpY2UuZ2V0SW52ZW50b3J5RGV0YWlsKGludmVudG9yeUlkKSk7CiAgICAgICAgICAgIHJlc3VsdC5wdXQoSUNvbnRlbnRzLlNVQ0NFU1MsIHRydWUpOwogICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7CiAgICAgICAgICAgIHJlc3VsdC5wdXQoSUNvbnRlbnRzLlNVQ0NFU1MsIGZhbHNlKTsKICAgICAgICAgICAgTG9nZ2VyLmVycm9yKCJpbnZlbnRvcnlDb250cm9sbGVyLWdldEludmVudG9yeURldGFpbDrlh7rlupPor6bnu4blvILluLgiLGUpOwogICAgICAgIH0KICAgICAgICByZXR1cm4gb2soSnNvbi50b0pzb24ocmVzdWx0KSk7CiAgICB9CiAgICAvKioKICAgICAq5L+u5pS55Ye65bqT5L+h5oGvCiAgICAgKgoKICAgICAqIEBkYXRlIDIwMTQtNS0yMAogICAgICogQHJldHVybiB2b2lkCiAgICAgKiBAcGFyYW0gSW52ZW50b3J5Rm9ybQogICAgICogQHNpbmNlIDEuMAogICAgICovCi8vICAgIEBSZXF1ZXN0TWFwcGluZyhtZXRob2Q9UmVxdWVzdE1ldGhvZC5QVVQpCi8vICAgIEBSZXNwb25zZUJvZHkKICAgIHB1YmxpYyBSZXN1bHQgdXBkSW52ZW50b3J5KCl7CiAgICAgICAgTWFwPFN0cmluZyxPYmplY3Q+IHJlc3VsdCA9IG5ldyBIYXNoTWFwPFN0cmluZywgT2JqZWN0PigpOwogICAgICAgIHRyeSB7CiAgICAgICAgCUZvcm08SW52ZW50b3J5Rm9ybT4gaW52Rm9ybSA9IEZvcm0uZm9ybShJbnZlbnRvcnlGb3JtLmNsYXNzKTsKICAgICAgICAJSW52ZW50b3J5Rm9ybSBmb3JtID0gaW52Rm9ybS5iaW5kRnJvbVJlcXVlc3QoKS5nZXQoKTsKICAgICAgICAgICAgc2VydmljZS51cGRJbnZlbnRvcnkoZm9ybSk7CiAgICAgICAgICAgIHJlc3VsdC5wdXQoSUNvbnRlbnRzLlNVQ0NFU1MsIHRydWUpOwogICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7CiAgICAgICAgICAgIHJlc3VsdC5wdXQoSUNvbnRlbnRzLlNVQ0NFU1MsIGZhbHNlKTsKICAgICAgICAgICAgTG9nZ2VyLmVycm9yKCJpbnZlbnRvcnlDb250cm9sbGVyLXVwZEludmVudG9yeTrkv67mlLnlh7rlupPkv6Hmga/lvILluLgiLGUpOwogICAgICAgIH0KICAgICAgICByZXR1cm4gb2soSnNvbi50b0pzb24ocmVzdWx0KSk7CiAgICB9CgogICAgLyoqCiAgICAgKgogICAgICrplJnor6/pobXpnaLot7PovawKICAgICAqCgogICAgICogQGRhdGUgMjAxNOW5tDbmnIgzMOaXpQogICAgICogQHJldHVybgogICAgICogQHNpbmNlIDEuMAogICAgICovCiAgICBwdWJsaWMgUmVzdWx0IGVycm9ycygpewogICAgCXJldHVybiBvayhlcnJvcnMucmVuZGVyKCkpOwogICAgfQoKICAgIC8qKgogICAgICoKICAgICAqIOiOt+W+l+WFpeW6k+acquehruWumuaVsOmHjwogICAgICoKCiAgICAgKiBAZGF0ZSAyMDE05bm0OeaciDEw5pelCiAgICAgKiBAcGFyYW0gaW52b0lkIOWHuuW6k2lkCiAgICAgKiBAcmV0dXJuCiAgICAgKiBAdGhyb3dzIEV4Y2VwdGlvbgogICAgICogQHNpbmNlIDEuMAogICAgICovCiAgICBwdWJsaWMgUmVzdWx0IGdldE91dEZsYWcoSW50ZWdlciBpbnZvSWQpIHsKICAgIAlNYXA8U3RyaW5nLCBPYmplY3Q+IHJlc3VsdCA9IG5ldyBIYXNoTWFwPFN0cmluZywgT2JqZWN0PigpOwogICAgICAgIHRyeSB7CiAgICAgICAgICAgIHJlc3VsdC5wdXQoSUNvbnRlbnRzLlNVQ0NFU1MsIHRydWUpOwogICAgICAgICAgICByZXN1bHQucHV0KCJkYXRhIiwgc2VydmljZS5nZXRPdXRGbGFnKGludm9JZCkpOwogICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7CiAgICAgICAgICAgIExvZ2dlci5lcnJvcigiaW52ZW50b3J5Q29udHJvbGxlci5nZXRPdXRGbGFn77ya6I635Y+W5YWl5bqT5pWw6YeP5byC5bi4IiwgZSk7CiAgICAgICAgICAgIHJlc3VsdC5wdXQoSUNvbnRlbnRzLlNVQ0NFU1MsIGZhbHNlKTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIG9rKEpzb24udG9Kc29uKHJlc3VsdCkpOwogICAgfQoKICAgIC8qKgogICAgICoKICAgICAqIOiOt+WPlueUqOaIt+S7o+eQhuS6p+WTgeS/oeaBrwogICAgICoKCiAgICAgKiBAZGF0ZSAyMDE05bm0OeaciDI45pelCiAgICAgKiBAcGFyYW0gaW52b0lkCiAgICAgKiBAcmV0dXJuCiAgICAgKiBAc2luY2UgMS4wCiAgICAgKi8KICAgIHB1YmxpYyBSZXN1bHQgZ2V0Tk9Pd25Qcm9Db3VudChJbnRlZ2VyIGludm9JZCkgewogICAgCU1hcDxTdHJpbmcsIE9iamVjdD4gcmVzdWx0ID0gbmV3IEhhc2hNYXA8U3RyaW5nLCBPYmplY3Q+KCk7CiAgICAgICAgdHJ5IHsKICAgICAgICAgICAgcmVzdWx0LnB1dChJQ29udGVudHMuU1VDQ0VTUywgdHJ1ZSk7CiAgICAgICAgICAgIHJlc3VsdC5wdXQoImRhdGEiLCBzZXJ2aWNlLmdldE5PT3duUHJvQ291bnQoaW52b0lkKSk7CiAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHsKICAgICAgICAgICAgTG9nZ2VyLmVycm9yKCJpbnZlbnRvcnlDb250cm9sbGVyLmdldE5PT3duUHJvQ291bnTvvJrojrflj5bnlKjmiLfku6PnkIbkuqflk4HlvILluLgiLCBlKTsKICAgICAgICAgICAgcmVzdWx0LnB1dChJQ29udGVudHMuU1VDQ0VTUywgZmFsc2UpOwogICAgICAgIH0KICAgICAgICByZXR1cm4gb2soSnNvbi50b0pzb24ocmVzdWx0KSk7CiAgICB9CgogICAgLyoqCiAgICAgKiDooaXlvZUKICAgICAqIEByZXR1cm4KICAgICAqLwogICAgcHVibGljIFJlc3VsdCBibHVlcyAoKXsKICAgICAgICBpbnQgbWVudUlkPTIzOwogICAgICAgIFN0cmluZyBsb2dfMT0ibG9nXzEiOwogICAgICAgIFN0cmluZyBpbmZvPXJlcXVlc3QoKS5nZXRRdWVyeVN0cmluZygiaW5mbyIpOwogICAgICAgIEludGVnZXIgbGc9IEludGVnZXIudmFsdWVPZihyZXF1ZXN0KCkuZ2V0UXVlcnlTdHJpbmcoImxnIikpOwogICAgICAgIExpc3Q8U3RyaW5nPiBscz1uZXcgQXJyYXlMaXN0PFN0cmluZz4oKTsKICAgICAgICBVc2VySW5mb0VudGl0eSB1c2VySW5mb0VudGl0eSA9IENvbW1vblV0aWxzLmdldFBsYXlVc2VyKHJlcXVlc3QoKSk7CgogICAgICAgIC8v5oiq5Y+WCiAgICAgICAgUGF0dGVybiBwYXR0ZXJuPW51bGw7CiAgICAgICAgaWYgKGxnPT0xKXsKICAgICAgICAgICAgcGF0dGVybiA9IFBhdHRlcm4uY29tcGlsZSgiKD88Pee8lueggeacquehruiupOWFpeW6kzogWzAtOV17MCw5fSAs5Li6IFxcWykoLis/KSg/PV0gLOmUmeivr+e8lueggSkiKTsKICAgICAgICB9ZWxzZSB7CiAgICAgICAgICAgIHBhdHRlcm4gPSBQYXR0ZXJuLmNvbXBpbGUoIig/PD3nvJbnoIHmnKrlr7nlupTlh7rlupM6IFswLTldezAsOX0gLOS4uiBcXFspKC4rPykoPz1dICzplJnor6/nvJbnoIEpIik7CiAgICAgICAgfQoKICAgICAgICBNYXRjaGVyIG1hdGNoZXIgPSBwYXR0ZXJuLm1hdGNoZXIoaW5mbyk7CiAgICAgICAgd2hpbGUgKG1hdGNoZXIuZmluZCgpKSB7CiAgICAgICAgICAgIGxzLmFkZChtYXRjaGVyLmdyb3VwKCkpOwogICAgICAgIH0KICAgICAgICBTdHJpbmcgaW50ZXJmbG93Y29kZT1scy5nZXQoMCk7CiAgICAgICAgaW50IGluPWludGVyZmxvd2NvZGUuc3BsaXQoIiwiKS5sZW5ndGg7Ci8vICAgICAgICB0cnkgewovLyAgICAgICAgICAgIHNlcnZpY2UuaW5mb191cChpbmZvLGxnKTsKLy8gICAgICAgIH1jYXRjaCAoRXhjZXB0aW9uIGUpewovLyAgICAgICAgICAgIGUucHJpbnRTdGFja1RyYWNlKCk7Ci8vICAgICAgICB9CgogICAgICAgIGlmIChsZz09MSl7CiAgICAgICAgICAgIHJldHVybiBvayhtYW51YWxJbkJhdGNoLnJlbmRlcihtZW51SWQsdXNlckluZm9FbnRpdHkuZ2V0VXNlck5hbWUoKSwiIixpbnRlcmZsb3djb2RlLGxvZ18xLGluZm8sbGcpKTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIG9rKHNpbmdsZUludmVudG9yeUluZm8ucmVuZGVyKDI1LHVzZXJJbmZvRW50aXR5LmdldFVzZXJOYW1lKCksIiIsaW50ZXJmbG93Y29kZSxsb2dfMSxpbixpbmZvLGxnKSk7CiAgICB9Cgp9Cg==</text>
      </register>
      <register name="8" type="2">
        <text encoding="base64">Cg==</text>
      </register>
      <register name="9" type="2">
        <text encoding="base64">Cg==</text>
      </register>
      <register name=":" type="4">
        <text>w</text>
      </register>
    </registers>
    <search>
      <last-search>list1</last-search>
      <last-offset />
      <last-pattern>list1</last-pattern>
      <last-replace />
      <last-substitute>\\&quot;</last-substitute>
      <last-dir>1</last-dir>
      <show-last>true</show-last>
    </search>
    <history>
      <history-search>
        <entry>user_name</entry>
        <entry encoding="base64">XDxjaTJcPg==</entry>
        <entry>spend</entry>
        <entry encoding="base64">XDxzZXJpYWxjb2RlXD4=</entry>
        <entry>need</entry>
        <entry>请求</entry>
        <entry>tb_user</entry>
        <entry>保存并设置过期时间失败</entry>
        <entry encoding="base64">XDxpcFw+</entry>
        <entry>添加奖卡</entry>
        <entry>添加</entry>
        <entry>scanEvent</entry>
        <entry>scala</entry>
        <entry>makeCode</entry>
        <entry>distributorRenderSfcSum</entry>
        <entry>distr</entry>
        <entry>list</entry>
        <entry>head</entry>
        <entry>HEAD</entry>
        <entry>list1</entry>
      </history-search>
      <history-cmd>
        <entry encoding="base64">JzwsJz5zL1xcdC8gL2c=</entry>
        <entry encoding="base64">JzwsJz5zL1xcbi8gL2c=</entry>
        <entry encoding="base64">JzwsJz5zLzsvL2c=</entry>
        <entry encoding="base64">JzwsJz5zL3dscS8/L2c=</entry>
        <entry>W</entry>
        <entry>vsp</entry>
        <entry>se nu</entry>
        <entry encoding="base64">JzwsJz5zL2NjZW50ZXJfY29yZS9jb3JlL2c=</entry>
        <entry encoding="base64">JzwsJz5zL2AvXFwiL2c=</entry>
        <entry>action AceAction</entry>
        <entry encoding="base64">JzwsJz5zL3RiX2JhdGNoX3J1bGVzL3RiX3J1bGUvZw==</entry>
        <entry encoding="base64">JzwsJz5zL3ByaXZhdGUvcHVibGljL2c=</entry>
        <entry>noh</entry>
        <entry encoding="base64">JzwsJz5zL1xcLy9n</entry>
        <entry encoding="base64">JzwsJz5zLykvL2c=</entry>
        <entry encoding="base64">JzwsJz5zLygvL2c=</entry>
        <entry encoding="base64">JzwsJz5zL1xcIi8vZw==</entry>
        <entry>wq</entry>
        <entry>action $Redo</entry>
        <entry>w</entry>
      </history-cmd>
      <history-expr />
      <history-input />
    </history>
    <shortcut-conflicts>
      <shortcut-conflict owner="ide">
        <text>ctrl pressed D</text>
      </shortcut-conflict>
      <shortcut-conflict owner="vim">
        <text>ctrl pressed F</text>
      </shortcut-conflict>
      <shortcut-conflict owner="ide">
        <text>ctrl pressed B</text>
      </shortcut-conflict>
      <shortcut-conflict owner="vim">
        <text>ctrl pressed N</text>
      </shortcut-conflict>
      <shortcut-conflict owner="ide">
        <text>ctrl pressed R</text>
      </shortcut-conflict>
      <shortcut-conflict owner="vim">
        <text>ctrl pressed A</text>
      </shortcut-conflict>
      <shortcut-conflict owner="ide">
        <text>ctrl pressed T</text>
      </shortcut-conflict>
      <shortcut-conflict owner="vim">
        <text>ctrl pressed I</text>
      </shortcut-conflict>
      <shortcut-conflict owner="vim">
        <text>ctrl pressed V</text>
      </shortcut-conflict>
      <shortcut-conflict owner="vim">
        <text>ctrl pressed H</text>
      </shortcut-conflict>
      <shortcut-conflict owner="ide">
        <text>ctrl pressed O</text>
      </shortcut-conflict>
      <shortcut-conflict owner="vim">
        <text>ctrl pressed P</text>
      </shortcut-conflict>
      <shortcut-conflict owner="vim">
        <text>ctrl pressed M</text>
      </shortcut-conflict>
      <shortcut-conflict owner="vim">
        <text>ctrl pressed E</text>
      </shortcut-conflict>
      <shortcut-conflict owner="ide">
        <text>shift ctrl pressed 2</text>
      </shortcut-conflict>
      <shortcut-conflict owner="ide">
        <text>ctrl pressed 2</text>
      </shortcut-conflict>
      <shortcut-conflict owner="ide">
        <text>ctrl pressed Q</text>
      </shortcut-conflict>
      <shortcut-conflict owner="vim">
        <text>ctrl pressed G</text>
      </shortcut-conflict>
    </shortcut-conflicts>
  </component>
</application>