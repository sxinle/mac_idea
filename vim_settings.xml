<application>
  <component name="RelativeLineNumbersSettings">
    <option name="enabled" value="false" />
  </component>
  <component name="VimSettings">
    <state version="4" enabled="true" />
    <globalmarks />
    <filemarks>
      <file name="$USER_HOME$/workspace/jinhui/Bitbucket/crm/public/statics/app/view/panel/customer/CusTreeView.js" timestamp="1505873406244">
        <mark key="'" line="43" column="26" />
      </file>
      <file name="/DispatchOrderServiceImpl.java" timestamp="1507623660438">
        <mark key="'" line="66" column="45" />
      </file>
      <file name="$USER_HOME$/workspace/demo/spider/src/main/java/com/acenode/spider/util/ExceptionHandler.java" timestamp="1505632323380">
        <mark key="[" line="17" column="13" />
        <mark key="]" line="17" column="18" />
        <mark key="." line="17" column="18" />
        <mark key="^" line="17" column="18" />
      </file>
      <file name="$USER_HOME$/workspace/demo/zest/src/main/java/http/Test.java" timestamp="1505811863929">
        <mark key="[" line="9" column="8" />
        <mark key="]" line="9" column="18" />
        <mark key="^" line="9" column="18" />
        <mark key="." line="9" column="18" />
      </file>
      <file name="$USER_HOME$/workspace/jinhui/Bitbucket/order-dealer/app/views/orderProduct.scala.html" timestamp="1505467311992">
        <mark key="[" line="132" column="41" />
        <mark key="]" line="132" column="40" />
        <mark key="." line="132" column="40" />
        <mark key="^" line="132" column="40" />
      </file>
      <file name="$USER_HOME$/workspace/jinhui/sync_data/app/Global.java" timestamp="1507605791307">
        <mark key="'" line="81" column="10" />
        <mark key="[" line="101" column="141" />
        <mark key="]" line="101" column="141" />
        <mark key="." line="101" column="141" />
      </file>
      <file name="$USER_HOME$/workspace/ddParse/base_service/mbp_server/app/commonutil/ConfMongo.java" timestamp="1507519304133">
        <mark key="'" line="15" column="25" />
        <mark key="[" line="102" column="58" />
        <mark key="]" line="102" column="60" />
        <mark key="." line="102" column="60" />
        <mark key="^" line="102" column="60" />
      </file>
      <file name="$USER_HOME$/workspace/jinhui/crm/public/statics/app/controller/PccrController.js" timestamp="1505792482287">
        <mark key="'" line="66" column="47" />
      </file>
      <file name="$USER_HOME$/workspace/jinhui/Bitbucket/order-producer/app/controllers/Test.java" timestamp="1505810380056">
        <mark key="[" line="8" column="69" />
        <mark key="]" line="8" column="69" />
        <mark key="." line="8" column="69" />
        <mark key="^" line="8" column="69" />
      </file>
      <file name="$USER_HOME$/workspace/jinhui/pointshub/app/util/CommonSend.java" timestamp="1506670980935">
        <mark key="'" line="143" column="21" />
      </file>
      <file name="$USER_HOME$/workspace/jinhui/Bitbucket/order-dealer/public/static/commonHeader.js" timestamp="1505467047062">
        <mark key="'" line="175" column="0" />
      </file>
      <file name="$USER_HOME$/workspace/jinhui/Bitbucket/order-dealer/public/page/addr.js" timestamp="1505455706018">
        <mark key="[" line="474" column="50" />
        <mark key="]" line="474" column="62" />
        <mark key="^" line="474" column="62" />
        <mark key="." line="474" column="62" />
      </file>
      <file name="$USER_HOME$/workspace/demo/spider/src/main/java/com/acenode/spider/service/TianMaoService.java" timestamp="1505635268349">
        <mark key="[" line="9" column="41" />
        <mark key="]" line="9" column="52" />
        <mark key="^" line="9" column="52" />
        <mark key="." line="9" column="52" />
      </file>
      <file name="$USER_HOME$/workspace/jinhui/Bitbucket/order-producer/app/controllers/logistics/LogisticsController.java" timestamp="1505784398717">
        <mark key="'" line="225" column="0" />
      </file>
      <file name="$USER_HOME$/workspace/jinhui/Bitbucket/order-dealer/conf/sql/OrderDetail.xml" timestamp="1505285553390">
        <mark key="[" line="21" column="16" />
        <mark key="]" line="21" column="24" />
        <mark key="^" line="21" column="24" />
        <mark key="." line="21" column="24" />
      </file>
      <file name="$USER_HOME$/workspace/jinhui/Bitbucket/order-dealer/conf/sql/bank.xml" timestamp="1505270663092">
        <mark key="[" line="31" column="28" />
        <mark key="]" line="31" column="28" />
        <mark key="." line="31" column="66" />
        <mark key="^" line="31" column="28" />
      </file>
      <file name="$USER_HOME$/workspace/jinhui/anti/conf/application.conf" timestamp="1506301557642">
        <mark key="'" line="23" column="40" />
      </file>
      <file name="$USER_HOME$/workspace/jinhui/crm/app/form/UserForm.java" timestamp="1506302625388">
        <mark key="'" line="208" column="33" />
      </file>
      <file name="$USER_HOME$/workspace/jinhui/pointshub/app/controllers/console/PrizeManager.java" timestamp="1507622620292">
        <mark key="[" line="461" column="31" />
        <mark key="]" line="461" column="31" />
        <mark key="^" line="461" column="97" />
        <mark key="." line="461" column="31" />
      </file>
      <file name="$USER_HOME$/workspace/jinhui/Bitbucket/order-dealer/app/models/Order.java" timestamp="1505457903426">
        <mark key="'" line="180" column="37" />
      </file>
      <file name="$USER_HOME$/workspace/ddParse/base_service/mbp_server/app/dao/AppHandler.java" timestamp="1507530221701">
        <mark key="[" line="34" column="56" />
        <mark key="]" line="34" column="57" />
        <mark key="." line="34" column="57" />
        <mark key="^" line="34" column="54" />
      </file>
      <file name="$USER_HOME$/workspace/jinhui/pointshub/app/views/mobCalls.scala.html" timestamp="1506677233030">
        <mark key="'" line="602" column="57" />
      </file>
      <file name="$USER_HOME$/workspace/demo/spider/src/main/java/com/acenode/spider/util/CookieStorage.java" timestamp="1505621924098">
        <mark key="[" line="9" column="39" />
        <mark key="]" line="9" column="55" />
        <mark key="^" line="9" column="55" />
        <mark key="." line="9" column="55" />
      </file>
      <file name="$USER_HOME$/workspace/jinhui/Bitbucket/order-producer/public/statics/orderHistory.js" timestamp="1505368972713">
        <mark key="'" line="34" column="45" />
      </file>
      <file name="$USER_HOME$/workspace/jinhui/pointshub/app/service/impl/AwardOrderServiceImpl.java" timestamp="1507622438782" />
      <file name="$USER_HOME$/workspace/demo/spider/logs/dev_app.log.1" timestamp="1505635667876">
        <mark key="'" line="13" column="86" />
      </file>
      <file name="$USER_HOME$/workspace/jinhui/crm/public/statics/ext.js" timestamp="1506303956598">
        <mark key="'" line="35" column="63" />
      </file>
      <file name="$USER_HOME$/workspace/jinhui/Bitbucket/order-producer/app/service/impl/PaperServiceImpl.java" timestamp="1505783449286">
        <mark key="'" line="215" column="0" />
      </file>
      <file name="$USER_HOME$/workspace/ddParse/base_service/mbp_server/conf/log4j.properties" timestamp="1507527253648">
        <mark key="[" line="17" column="30" />
        <mark key="]" line="17" column="34" />
        <mark key="." line="17" column="34" />
        <mark key="^" line="17" column="34" />
      </file>
      <file name="$USER_HOME$/workspace/ddParse/base_service/mbp_server/conf/routes" timestamp="1507529764099">
        <mark key="'" line="446" column="141" />
      </file>
      <file name="$USER_HOME$/workspace/jinhui/Bitbucket/order-producer/app/service/impl/JbpmManagerImpl.java" timestamp="1505783377017">
        <mark key="'" line="386" column="0" />
      </file>
      <file name="$USER_HOME$/workspace/jinhui/crm/conf/routes" timestamp="1505905235169">
        <mark key="'" line="6" column="0" />
      </file>
      <file name="$USER_HOME$/workspace/demo/spider/src/main/java/com/acenode/spider/util/FluentMap.java" timestamp="1505621724183">
        <mark key="[" line="4" column="40" />
        <mark key="]" line="7" column="7" />
        <mark key="." line="7" column="7" />
        <mark key="^" line="7" column="7" />
      </file>
      <file name="$USER_HOME$/workspace/jinhui/Bitbucket/order-producer/conf/jdbc.properties" timestamp="1505790234698">
        <mark key="'" line="0" column="0" />
      </file>
      <file name="$USER_HOME$/workspace/jinhui/Bitbucket/order-producer/conf/routes" timestamp="1507532414086">
        <mark key="'" line="77" column="128" />
        <mark key="[" line="27" column="12" />
        <mark key="]" line="27" column="28" />
        <mark key="^" line="55" column="0" />
        <mark key="." line="178" column="1" />
      </file>
      <file name="$USER_HOME$/workspace/jinhui/Bitbucket/order-producer/conf/application-beans.xml" timestamp="1505804665450">
        <mark key="'" line="7" column="53" />
      </file>
      <file name="$USER_HOME$/workspace/demo/jcalaBlog/src/main/resources/logback-spring.xml" timestamp="1505629215526">
        <mark key="'" line="4" column="33" />
      </file>
      <file name="$USER_HOME$/workspace/jinhui/Bitbucket/order-producer/app/service/impl/PaperNewServiceImpl.java" timestamp="1505783435450">
        <mark key="'" line="223" column="0" />
      </file>
      <file name="$USER_HOME$/workspace/jinhui/sync_data/app/BindPrizes.java" timestamp="1507534660396">
        <mark key="[" line="64" column="50" />
        <mark key="]" line="64" column="49" />
        <mark key="." line="64" column="49" />
        <mark key="^" line="64" column="49" />
      </file>
      <file name="$USER_HOME$/workspace/jinhui/Bitbucket/order-producer/app/models/TaskFLowBean.java" timestamp="1505287342495">
        <mark key="[" line="21" column="40" />
        <mark key="]" line="21" column="47" />
        <mark key="^" line="21" column="47" />
        <mark key="." line="21" column="47" />
      </file>
      <file name="$USER_HOME$/workspace/jinhui/Bitbucket/order-producer/app/service/CommonService.java" timestamp="1505783966257">
        <mark key="'" line="217" column="0" />
      </file>
      <file name="$USER_HOME$/workspace/jinhui/pointshub/conf/sql/AwardOrder.xml" timestamp="1507539073168">
        <mark key="'" line="244" column="32" />
      </file>
      <file name="$USER_HOME$/workspace/jinhui/Bitbucket/order-producer/public/javascripts/bpmn/bpmn-modeler.js" timestamp="1505805081640">
        <mark key="'" line="14942" column="0" />
      </file>
      <file name="$USER_HOME$/workspace/jinhui/Bitbucket/order-dealer/app/controllers/pay/BankController.java" timestamp="1505892466656">
        <mark key="'" line="249" column="0" />
      </file>
      <file name="$USER_HOME$/workspace/demo/jcalaBlog/build.gradle" timestamp="1505630080956">
        <mark key="'" line="4" column="4" />
      </file>
      <file name="$USER_HOME$/workspace/demo/zest/src/main/java/http/RechargeUtil.java" timestamp="1507295043541">
        <mark key="[" line="6" column="36" />
        <mark key="]" line="6" column="44" />
        <mark key="^" line="6" column="39" />
        <mark key="." line="6" column="36" />
      </file>
      <file name="$USER_HOME$/workspace/jinhui/pointshub/app/models/ScanPrizeDetail.java" timestamp="1507614059875">
        <mark key="'" line="43" column="12" />
        <mark key="[" line="37" column="0" />
        <mark key="]" line="37" column="0" />
        <mark key="." line="37" column="0" />
        <mark key="^" line="27" column="8" />
      </file>
      <file name="$USER_HOME$/workspace/jinhui/Bitbucket/order-producer/conf/jbpm.cfg.xml" timestamp="1505796153884">
        <mark key="'" line="1" column="0" />
      </file>
      <file name="$USER_HOME$/workspace/jinhui/Bitbucket/order-producer/public/statics/salesorderDetail.js" timestamp="1505706274661">
        <mark key="[" line="59" column="30" />
        <mark key="]" line="59" column="31" />
        <mark key="^" line="59" column="32" />
        <mark key="." line="59" column="31" />
      </file>
      <file name="$USER_HOME$/workspace/jinhui/Bitbucket/order-producer/app/service/impl/DispatchOrderServiceImpl.java" timestamp="1507623637262">
        <mark key="'" line="31" column="13" />
      </file>
      <file name="$USER_HOME$/workspace/jinhui/Bitbucket/order-producer/app/views/salesOrderDetail.scala.html" timestamp="1507623625246">
        <mark key="'" line="30" column="25" />
      </file>
      <file name="/Library/Java/JavaVirtualMachines/jdk1.7.0_71.jdk/Contents/Home/src.zip!/java/lang/String.java" timestamp="1505783883802">
        <mark key="'" line="107" column="19" />
      </file>
      <file name="$USER_HOME$/workspace/ddParse/base_service/mbp_server/app/controllers/api/util/Contents.java" timestamp="1507521437079">
        <mark key="[" line="6" column="0" />
        <mark key="]" line="6" column="0" />
        <mark key="." line="6" column="0" />
        <mark key="^" line="109" column="45" />
      </file>
      <file name="$USER_HOME$/workspace/jinhui/Bitbucket/order-producer/conf/sql/user.xml" timestamp="1505890539852">
        <mark key="[" line="62" column="16" />
        <mark key="]" line="62" column="49" />
        <mark key="." line="62" column="43" />
        <mark key="^" line="62" column="43" />
      </file>
      <file name="$USER_HOME$/workspace/jinhui/Bitbucket/order-producer/app/service/LogisticsService.java" timestamp="1505784381505">
        <mark key="'" line="0" column="0" />
      </file>
      <file name="$USER_HOME$/workspace/jinhui/Bitbucket/order-dealer/conf/routes" timestamp="1505712216554">
        <mark key="'" line="130" column="128" />
      </file>
      <file name="$USER_HOME$/workspace/jinhui/crm/app/controllers/customer/CustomerController.java" timestamp="1506331910267">
        <mark key="[" line="88" column="42" />
        <mark key="]" line="88" column="55" />
        <mark key="." line="88" column="55" />
        <mark key="^" line="88" column="55" />
      </file>
      <file name="$USER_HOME$/workspace/jinhui/pointshub/app/views/console/scanEvent.scala.html" timestamp="1507538580079">
        <mark key="'" line="179" column="51" />
      </file>
      <file name="$USER_HOME$/workspace/jinhui/Bitbucket/order-producer/app/service/BPMNService.java" timestamp="1505701476507">
        <mark key="[" line="22" column="34" />
        <mark key="]" line="22" column="60" />
        <mark key="." line="22" column="24" />
        <mark key="^" line="22" column="54" />
      </file>
      <file name="$MAVEN_REPOSITORY$/cn/wanghaomiao/JsoupXpath/0.3.2/JsoupXpath-0.3.2-sources.jar!/cn/wanghaomiao/xpath/model/JXDocument.java" timestamp="1505576326428">
        <mark key="'" line="65" column="11" />
      </file>
      <file name="$USER_HOME$/workspace/jinhui/pointshub/target/scala-2.10/src_managed/main/views/html/mobCalls.template.scala" timestamp="1506674018488">
        <mark key="'" line="1148" column="4" />
      </file>
      <file name="$USER_HOME$/workspace/ddParse/base_service/mbp_server/app/service/site/SettingService.java" timestamp="1507519368661">
        <mark key="[" line="38" column="69" />
        <mark key="]" line="38" column="70" />
        <mark key="." line="38" column="70" />
        <mark key="^" line="38" column="59" />
      </file>
      <file name="$USER_HOME$/workspace/demo/spider/src/main/java/com/acenode/spider/mapping/ShopMapper.java" timestamp="1505631017649">
        <mark key="[" line="11" column="7" />
        <mark key="]" line="11" column="15" />
        <mark key="." line="13" column="34" />
        <mark key="^" line="11" column="15" />
      </file>
      <file name="$USER_HOME$/workspace/jinhui/Bitbucket/producer_bigbucket/order-producer/app/service/impl/DispatchOrderServiceImpl.java" timestamp="1507623962730">
        <mark key="'" line="0" column="0" />
      </file>
      <file name="$USER_HOME$/workspace/jinhui/Bitbucket/order-producer/app/controllers/interflow/InterFlowController.java" timestamp="1505784415301">
        <mark key="'" line="0" column="0" />
      </file>
      <file name="$USER_HOME$/workspace/demo/spider/src/main/resources/application-prod.yml" timestamp="1505628980080">
        <mark key="[" line="38" column="26" />
        <mark key="]" line="38" column="50" />
        <mark key="." line="38" column="50" />
        <mark key="^" line="38" column="50" />
      </file>
      <file name="$USER_HOME$/workspace/jinhui/Bitbucket/order-producer/app/controllers/paper/PaperNewController.java" timestamp="1505784447924">
        <mark key="'" line="0" column="0" />
      </file>
      <file name="$USER_HOME$/workspace/jinhui/anti/app/views/areaInfo.scala.html" timestamp="1507537277611">
        <mark key="'" line="84" column="21" />
      </file>
      <file name="$USER_HOME$/workspace/ddParse/base_service/mbp_server/app/commonutil/R.java" timestamp="1507519135123">
        <mark key="[" line="131" column="46" />
        <mark key="]" line="131" column="47" />
        <mark key="." line="131" column="47" />
        <mark key="^" line="131" column="36" />
      </file>
      <file name="$USER_HOME$/workspace/jinhui/Bitbucket/order-producer/app/views/orderDetail.scala.html" timestamp="1505703406529">
        <mark key="'" line="167" column="16" />
      </file>
      <file name="$USER_HOME$/workspace/demo/spider/src/main/java/com/acenode/spider/controller/ApiController.java" timestamp="1505637043584">
        <mark key="[" line="26" column="36" />
        <mark key="]" line="26" column="38" />
        <mark key="." line="26" column="38" />
        <mark key="^" line="26" column="38" />
      </file>
      <file name="$USER_HOME$/workspace/jinhui/crm/public/statics/app/controller/UserInfoController.js" timestamp="1506302479942">
        <mark key="'" line="18" column="21" />
      </file>
      <file name="$USER_HOME$/workspace/ddParse/dd_service/neunner_service/conf/routes" timestamp="1506739514268">
        <mark key="'" line="0" column="0" />
      </file>
      <file name="$USER_HOME$/workspace/ddParse/base_service/mbp_server/app/commonutil/FileCommonUtil.java" timestamp="1507518315633">
        <mark key="'" line="61" column="27" />
        <mark key="[" line="61" column="17" />
        <mark key="]" line="61" column="20" />
        <mark key="." line="61" column="26" />
        <mark key="^" line="61" column="20" />
      </file>
      <file name="$USER_HOME$/.ivy2/cache/xerces/xercesImpl/srcs/xercesImpl-2.11.0-sources.jar!/org/apache/xerces/impl/XMLNSDocumentScannerImpl.java" timestamp="1505806374417">
        <mark key="'" line="123" column="22" />
      </file>
      <file name="$USER_HOME$/workspace/demo/spider/src/main/java/com/acenode/spider/util/Const.java" timestamp="1505632790864">
        <mark key="[" line="5" column="4" />
        <mark key="]" line="5" column="4" />
        <mark key="^" line="3" column="3" />
        <mark key="." line="5" column="4" />
      </file>
      <file name="$USER_HOME$/workspace/demo/spider/src/main/java/com/acenode/spider/SpiderApplication.java" timestamp="1505629329200">
        <mark key="[" line="20" column="30" />
        <mark key="]" line="20" column="46" />
        <mark key="." line="20" column="46" />
        <mark key="^" line="20" column="46" />
      </file>
      <file name="$USER_HOME$/workspace/jinhui/pointshub/conf/routes" timestamp="1507606744185">
        <mark key="'" line="15" column="28" />
      </file>
      <file name="$USER_HOME$/workspace/jinhui/Bitbucket/order-producer/app/views/salesOrderSum.scala.html" timestamp="1505281680392">
        <mark key="[" line="10" column="38" />
        <mark key="]" line="10" column="37" />
        <mark key="." line="10" column="37" />
        <mark key="^" line="10" column="37" />
      </file>
      <file name="$USER_HOME$/workspace/jinhui/Bitbucket/order-producer/app/service/JbpmManager.java" timestamp="1505783367499">
        <mark key="'" line="226" column="0" />
      </file>
      <file name="$USER_HOME$/workspace/jinhui/Bitbucket/order-producer/conf/sql/Common.xml" timestamp="1505890577831">
        <mark key="[" line="203" column="95" />
        <mark key="]" line="204" column="7" />
        <mark key="^" line="204" column="7" />
        <mark key="." line="204" column="7" />
      </file>
      <file name="/Dummy.txt" timestamp="1507622671447">
        <mark key="[" line="0" column="0" />
        <mark key="]" line="0" column="0" />
        <mark key="." line="0" column="0" />
        <mark key="^" line="0" column="4" />
      </file>
      <file name="$USER_HOME$/workspace/demo/spider/src/main/java/com/acenode/spider/util/GlobalExceptionHandler.java" timestamp="1505635802274">
        <mark key="[" line="20" column="9" />
        <mark key="]" line="21" column="7" />
        <mark key="^" line="21" column="7" />
        <mark key="." line="21" column="7" />
      </file>
      <file name="$USER_HOME$/workspace/jinhui/Bitbucket/order-producer/app/controllers/paper/PaperController.java" timestamp="1505784454721">
        <mark key="'" line="0" column="0" />
      </file>
      <file name="$USER_HOME$/workspace/jinhui/Bitbucket/order-producer/app/service/RegionalService.java" timestamp="1505783590612">
        <mark key="[" line="78" column="73" />
        <mark key="]" line="79" column="3" />
        <mark key="^" line="79" column="3" />
        <mark key="." line="79" column="3" />
      </file>
      <file name="$USER_HOME$/workspace/ddParse/base_service/mbp_server/app/commonutil/MongodbPool.java" timestamp="1506742457171">
        <mark key="[" line="54" column="8" />
        <mark key="]" line="54" column="13" />
        <mark key="^" line="54" column="13" />
        <mark key="." line="54" column="13" />
      </file>
      <file name="$USER_HOME$/workspace/demo/spider/src/main/java/com/acenode/spider/mapping/TianMaoProductMapper.java" timestamp="1505636311228">
        <mark key="[" line="20" column="136" />
        <mark key="]" line="20" column="24" />
        <mark key="." line="20" column="137" />
        <mark key="^" line="20" column="24" />
      </file>
      <file name="$USER_HOME$/workspace/jinhui/Bitbucket/order-dealer/app/service/impl/OrderDetailServiceImpl.java" timestamp="1505710849571">
        <mark key="[" line="202" column="34" />
        <mark key="]" line="202" column="41" />
        <mark key="." line="202" column="41" />
        <mark key="^" line="202" column="41" />
      </file>
      <file name="$USER_HOME$/workspace/jinhui/Bitbucket/order-dealer/conf/sql/Distribute.xml" timestamp="1505458443117">
        <mark key="[" line="76" column="76" />
        <mark key="]" line="76" column="77" />
        <mark key="." line="76" column="77" />
        <mark key="^" line="76" column="77" />
      </file>
      <file name="$USER_HOME$/workspace/jinhui/pointshub/app/views/console/scanEventStatistics.scala.html" timestamp="1507525283420">
        <mark key="'" line="0" column="15" />
      </file>
      <file name="$USER_HOME$/workspace/jinhui/Bitbucket/order-producer/conf/jbpm.spring.default.cfg.xml" timestamp="1505796171480">
        <mark key="'" line="69" column="0" />
      </file>
      <file name="$USER_HOME$/workspace/jinhui/crm/public/statics/ext/plugins/LabelEditor.js" timestamp="1506307839282">
        <mark key="'" line="3" column="11" />
      </file>
      <file name="/fragment.java" timestamp="1507619223245">
        <mark key="[" line="0" column="0" />
        <mark key="]" line="0" column="29" />
        <mark key="^" line="0" column="29" />
        <mark key="." line="0" column="29" />
      </file>
      <file name="/PrizeManager.java" timestamp="1507623142989">
        <mark key="[" line="422" column="0" />
        <mark key="]" line="564" column="4" />
      </file>
    </filemarks>
    <jumps>
      <jump line="277" column="124" filename="$USER_HOME$/workspace/ddParse/base_service/mbp_server/conf/routes" />
      <jump line="278" column="135" filename="$USER_HOME$/workspace/ddParse/base_service/mbp_server/conf/routes" />
      <jump line="284" column="32" filename="$USER_HOME$/workspace/ddParse/base_service/mbp_server/conf/routes" />
      <jump line="285" column="32" filename="$USER_HOME$/workspace/ddParse/base_service/mbp_server/conf/routes" />
      <jump line="288" column="32" filename="$USER_HOME$/workspace/ddParse/base_service/mbp_server/conf/routes" />
      <jump line="289" column="32" filename="$USER_HOME$/workspace/ddParse/base_service/mbp_server/conf/routes" />
      <jump line="291" column="32" filename="$USER_HOME$/workspace/ddParse/base_service/mbp_server/conf/routes" />
      <jump line="292" column="32" filename="$USER_HOME$/workspace/ddParse/base_service/mbp_server/conf/routes" />
      <jump line="324" column="147" filename="$USER_HOME$/workspace/ddParse/base_service/mbp_server/conf/routes" />
      <jump line="325" column="147" filename="$USER_HOME$/workspace/ddParse/base_service/mbp_server/conf/routes" />
      <jump line="330" column="150" filename="$USER_HOME$/workspace/ddParse/base_service/mbp_server/conf/routes" />
      <jump line="336" column="137" filename="$USER_HOME$/workspace/ddParse/base_service/mbp_server/conf/routes" />
      <jump line="337" column="137" filename="$USER_HOME$/workspace/ddParse/base_service/mbp_server/conf/routes" />
      <jump line="338" column="137" filename="$USER_HOME$/workspace/ddParse/base_service/mbp_server/conf/routes" />
      <jump line="339" column="187" filename="$USER_HOME$/workspace/ddParse/base_service/mbp_server/conf/routes" />
      <jump line="340" column="137" filename="$USER_HOME$/workspace/ddParse/base_service/mbp_server/conf/routes" />
      <jump line="341" column="137" filename="$USER_HOME$/workspace/ddParse/base_service/mbp_server/conf/routes" />
      <jump line="342" column="137" filename="$USER_HOME$/workspace/ddParse/base_service/mbp_server/conf/routes" />
      <jump line="348" column="184" filename="$USER_HOME$/workspace/ddParse/base_service/mbp_server/conf/routes" />
      <jump line="351" column="143" filename="$USER_HOME$/workspace/ddParse/base_service/mbp_server/conf/routes" />
      <jump line="359" column="143" filename="$USER_HOME$/workspace/ddParse/base_service/mbp_server/conf/routes" />
      <jump line="363" column="126" filename="$USER_HOME$/workspace/ddParse/base_service/mbp_server/conf/routes" />
      <jump line="364" column="126" filename="$USER_HOME$/workspace/ddParse/base_service/mbp_server/conf/routes" />
      <jump line="365" column="126" filename="$USER_HOME$/workspace/ddParse/base_service/mbp_server/conf/routes" />
      <jump line="419" column="32" filename="$USER_HOME$/workspace/ddParse/base_service/mbp_server/conf/routes" />
      <jump line="421" column="144" filename="$USER_HOME$/workspace/ddParse/base_service/mbp_server/conf/routes" />
      <jump line="422" column="144" filename="$USER_HOME$/workspace/ddParse/base_service/mbp_server/conf/routes" />
      <jump line="423" column="142" filename="$USER_HOME$/workspace/ddParse/base_service/mbp_server/conf/routes" />
      <jump line="432" column="143" filename="$USER_HOME$/workspace/ddParse/base_service/mbp_server/conf/routes" />
      <jump line="433" column="141" filename="$USER_HOME$/workspace/ddParse/base_service/mbp_server/conf/routes" />
      <jump line="435" column="138" filename="$USER_HOME$/workspace/ddParse/base_service/mbp_server/conf/routes" />
      <jump line="436" column="141" filename="$USER_HOME$/workspace/ddParse/base_service/mbp_server/conf/routes" />
      <jump line="437" column="138" filename="$USER_HOME$/workspace/ddParse/base_service/mbp_server/conf/routes" />
      <jump line="438" column="142" filename="$USER_HOME$/workspace/ddParse/base_service/mbp_server/conf/routes" />
      <jump line="439" column="143" filename="$USER_HOME$/workspace/ddParse/base_service/mbp_server/conf/routes" />
      <jump line="441" column="138" filename="$USER_HOME$/workspace/ddParse/base_service/mbp_server/conf/routes" />
      <jump line="443" column="142" filename="$USER_HOME$/workspace/ddParse/base_service/mbp_server/conf/routes" />
      <jump line="445" column="141" filename="$USER_HOME$/workspace/ddParse/base_service/mbp_server/conf/routes" />
      <jump line="446" column="141" filename="$USER_HOME$/workspace/ddParse/base_service/mbp_server/conf/routes" />
      <jump line="148" column="15" filename="$USER_HOME$/workspace/jinhui/pointshub/conf/sql/AwardOrder.xml" />
      <jump line="42" column="64" filename="$USER_HOME$/workspace/jinhui/pointshub/conf/routes" />
      <jump line="179" column="51" filename="$USER_HOME$/workspace/jinhui/pointshub/app/views/console/scanEvent.scala.html" />
      <jump line="53" column="138" filename="$USER_HOME$/workspace/jinhui/pointshub/conf/routes" />
      <jump line="223" column="144" filename="$USER_HOME$/workspace/jinhui/pointshub/conf/routes" />
      <jump line="224" column="123" filename="$USER_HOME$/workspace/jinhui/pointshub/conf/routes" />
      <jump line="225" column="123" filename="$USER_HOME$/workspace/jinhui/pointshub/conf/routes" />
      <jump line="226" column="123" filename="$USER_HOME$/workspace/jinhui/pointshub/conf/routes" />
      <jump line="227" column="123" filename="$USER_HOME$/workspace/jinhui/pointshub/conf/routes" />
      <jump line="193" column="15" filename="$USER_HOME$/workspace/jinhui/pointshub/conf/sql/AwardOrder.xml" />
      <jump line="248" column="20" filename="$USER_HOME$/workspace/jinhui/pointshub/conf/sql/AwardOrder.xml" />
      <jump line="259" column="60" filename="$USER_HOME$/workspace/jinhui/pointshub/conf/sql/AwardOrder.xml" />
      <jump line="260" column="29" filename="$USER_HOME$/workspace/jinhui/pointshub/conf/sql/AwardOrder.xml" />
      <jump line="265" column="20" filename="$USER_HOME$/workspace/jinhui/pointshub/conf/sql/AwardOrder.xml" />
      <jump line="276" column="60" filename="$USER_HOME$/workspace/jinhui/pointshub/conf/sql/AwardOrder.xml" />
      <jump line="277" column="29" filename="$USER_HOME$/workspace/jinhui/pointshub/conf/sql/AwardOrder.xml" />
      <jump line="483" column="33" filename="$USER_HOME$/workspace/jinhui/pointshub/conf/sql/AwardOrder.xml" />
      <jump line="488" column="43" filename="$USER_HOME$/workspace/jinhui/pointshub/conf/sql/AwardOrder.xml" />
      <jump line="489" column="45" filename="$USER_HOME$/workspace/jinhui/pointshub/conf/sql/AwardOrder.xml" />
      <jump line="490" column="48" filename="$USER_HOME$/workspace/jinhui/pointshub/conf/sql/AwardOrder.xml" />
      <jump line="501" column="41" filename="$USER_HOME$/workspace/jinhui/pointshub/conf/sql/AwardOrder.xml" />
      <jump line="504" column="88" filename="$USER_HOME$/workspace/jinhui/pointshub/conf/sql/AwardOrder.xml" />
      <jump line="18" column="19" filename="$USER_HOME$/workspace/jinhui/pointshub/conf/sql/AwardOrder.xml" />
      <jump line="51" column="32" filename="$USER_HOME$/workspace/jinhui/pointshub/conf/sql/AwardOrder.xml" />
      <jump line="83" column="19" filename="$USER_HOME$/workspace/jinhui/pointshub/conf/sql/AwardOrder.xml" />
      <jump line="116" column="32" filename="$USER_HOME$/workspace/jinhui/pointshub/conf/sql/AwardOrder.xml" />
      <jump line="164" column="15" filename="$USER_HOME$/workspace/jinhui/pointshub/conf/sql/AwardOrder.xml" />
      <jump line="204" column="46" filename="$USER_HOME$/workspace/jinhui/pointshub/conf/sql/AwardOrder.xml" />
      <jump line="209" column="20" filename="$USER_HOME$/workspace/jinhui/pointshub/conf/sql/AwardOrder.xml" />
      <jump line="220" column="26" filename="$USER_HOME$/workspace/jinhui/pointshub/conf/sql/AwardOrder.xml" />
      <jump line="221" column="23" filename="$USER_HOME$/workspace/jinhui/pointshub/conf/sql/AwardOrder.xml" />
      <jump line="228" column="20" filename="$USER_HOME$/workspace/jinhui/pointshub/conf/sql/AwardOrder.xml" />
      <jump line="239" column="26" filename="$USER_HOME$/workspace/jinhui/pointshub/conf/sql/AwardOrder.xml" />
      <jump line="240" column="23" filename="$USER_HOME$/workspace/jinhui/pointshub/conf/sql/AwardOrder.xml" />
      <jump line="244" column="32" filename="$USER_HOME$/workspace/jinhui/pointshub/conf/sql/AwardOrder.xml" />
      <jump line="82" column="24" filename="$USER_HOME$/workspace/jinhui/pointshub/conf/routes" />
      <jump line="61" column="136" filename="$USER_HOME$/workspace/jinhui/pointshub/conf/routes" />
      <jump line="15" column="28" filename="$USER_HOME$/workspace/jinhui/pointshub/conf/routes" />
      <jump line="417" column="86" filename="$USER_HOME$/workspace/jinhui/pointshub/app/controllers/console/PrizeManager.java" />
      <jump line="410" column="30" filename="$USER_HOME$/workspace/jinhui/pointshub/app/controllers/console/PrizeManager.java" />
      <jump line="443" column="20" filename="$USER_HOME$/workspace/jinhui/pointshub/app/controllers/console/PrizeManager.java" />
      <jump line="39" column="0" filename="$USER_HOME$/workspace/jinhui/pointshub/app/models/ScanPrizeDetail.java" />
      <jump line="419" column="29" filename="$USER_HOME$/workspace/jinhui/pointshub/app/models/ScanPrizeDetail.java" />
      <jump line="43" column="12" filename="$USER_HOME$/workspace/jinhui/pointshub/app/models/ScanPrizeDetail.java" />
      <jump line="450" column="32" filename="$USER_HOME$/workspace/jinhui/pointshub/app/controllers/console/PrizeManager.java" />
      <jump line="451" column="53" filename="$USER_HOME$/workspace/jinhui/pointshub/app/controllers/console/PrizeManager.java" />
      <jump line="366" column="24" filename="$USER_HOME$/workspace/jinhui/pointshub/app/controllers/console/PrizeManager.java" />
      <jump line="141" column="12" filename="$USER_HOME$/workspace/jinhui/pointshub/app/controllers/console/PrizeManager.java" />
      <jump line="1094" column="4" filename="$USER_HOME$/workspace/jinhui/pointshub/app/controllers/console/PrizeManager.java" />
      <jump line="430" column="60" filename="$USER_HOME$/workspace/jinhui/pointshub/app/controllers/console/PrizeManager.java" />
      <jump line="435" column="31" filename="$USER_HOME$/workspace/jinhui/pointshub/app/controllers/console/PrizeManager.java" />
      <jump line="491" column="34" filename="$USER_HOME$/workspace/jinhui/pointshub/app/controllers/console/PrizeManager.java" />
      <jump line="504" column="16" filename="$USER_HOME$/workspace/jinhui/pointshub/app/controllers/console/PrizeManager.java" />
      <jump line="506" column="33" filename="$USER_HOME$/workspace/jinhui/pointshub/app/controllers/console/PrizeManager.java" />
      <jump line="510" column="31" filename="$USER_HOME$/workspace/jinhui/pointshub/app/controllers/console/PrizeManager.java" />
      <jump line="490" column="33" filename="$USER_HOME$/workspace/jinhui/pointshub/app/controllers/console/PrizeManager.java" />
      <jump line="0" column="0" filename="$USER_HOME$/workspace/jinhui/pointshub/app/controllers/console/PrizeManager.java" />
      <jump line="30" column="25" filename="$USER_HOME$/workspace/jinhui/Bitbucket/order-producer/app/views/salesOrderDetail.scala.html" />
      <jump line="31" column="13" filename="$USER_HOME$/workspace/jinhui/Bitbucket/order-producer/app/service/impl/DispatchOrderServiceImpl.java" />
      <jump line="66" column="45" filename="/DispatchOrderServiceImpl.java" />
      <jump line="0" column="0" filename="$USER_HOME$/workspace/jinhui/Bitbucket/producer_bigbucket/order-producer/app/service/impl/DispatchOrderServiceImpl.java" />
    </jumps>
    <registers>
      <register name="&quot;" type="4">
        <text>基本废物......</text>
      </register>
      <register name="*" type="4">
        <text>''</text>
      </register>
      <register name="-" type="4">
        <text>(</text>
      </register>
      <register name="/" type="4">
        <text encoding="base64">XDxwcml6ZUluZm9zXD4=</text>
      </register>
      <register name="0" type="2">
        <text encoding="base64">ICAgIC8qKgogICAgICogQHBhcmFtIHB6IOWlluWTgWpzb24KICAgICAqIEBwYXJhbSBwcm9kdWN0TnVtIOaKleWlluaVsAogICAgICogQHBhcmFtIHNjYW5JZCDmipXlpZZpZAogICAgICogQHBhcmFtIHNpemUg6KeE5qC8CiAgICAgKiBAcmV0dXJuCiAgICAgKiBAYXV0aG9yIHN1bmwKICAgICAqLwogICAgcHJpdmF0ZSBMaXN0PFNjYW5Qcml6ZURldGFpbD4gZ2V0UHJpemVzKExpc3Q8UHJpemVJbmZvPiBwSW5mb3MsIEludGVnZXIgcHJvZHVjdE51bSwgSW50ZWdlciBzY2FuSWQsIEludGVnZXIgc2l6ZSkgewogICAgICAgIC8v5q+P566x5aWW5Y2h57uT5ZCICiAgICAgICAgTGlzdDxTY2FuUHJpemVEZXRhaWw+IGJhc2ljU2NhblByaXplRGV0YWlsID0gbmV3IEFycmF5TGlzdDxTY2FuUHJpemVEZXRhaWw+KCk7CiAgICAgICAgLy/liankvZnpm4blkIgKICAgICAgICBMaXN0PFNjYW5Qcml6ZURldGFpbD4gcGVhckxpc3QgPSBuZXcgQXJyYXlMaXN0PFNjYW5Qcml6ZURldGFpbD4oKTsKICAgICAgICBmb3IgKFByaXplSW5mbyBwSW5mbyA6IHBJbmZvcykgewogICAgICAgICAgICAvL+S4reWlluS4quaVsAogICAgICAgICAgICBJbnRlZ2VyIGNvdW50ID0gcEluZm8uZ2V0QXdhcmROdW0oKTsKICAgICAgICAgICAgLy/nrrHmlbAKICAgICAgICAgICAgSW50ZWdlciBib3hOdW0gPSBwSW5mby5nZXRCb3hOdW0oKTsKICAgICAgICAgICAgaWYgKGNvdW50ID49IGJveE51bSAmJiAxMCAhPSBwSW5mby5nZXRMZXZlbCgpKSB7CiAgICAgICAgICAgICAgICAvL+avj+euseS4reeahOS4quaVsAogICAgICAgICAgICAgICAgSW50ZWdlciBwZWFyID0gY291bnQgLyBib3hOdW07CiAgICAgICAgICAgICAgICAvL+S9meaVsOWkhOeQhgogICAgICAgICAgICAgICAgaWYoY291bnQlYm94TnVtIT0wKXsKICAgICAgICAgICAgICAgICAgaW50IHBlYXJOdW0gPSBwSW5mby5nZXROdW0oKSAtIHBlYXIqcHJvZHVjdE51bS9zaXplOwogICAgICAgICAgICAgICAgICBmb3IgKGludCBpID0gMDsgaSA8cGVhck51bTsgaSsrKSB7CiAgICAgICAgICAgICAgICAgICAgU2NhblByaXplRGV0YWlsIGVudGl0eSA9IG5ldyBTY2FuUHJpemVEZXRhaWwoKTsKICAgICAgICAgICAgICAgICAgICBlbnRpdHkuc2V0QWRkRmxhZygwKTsKICAgICAgICAgICAgICAgICAgICBlbnRpdHkuc2V0TGV2ZWwocEluZm8uZ2V0TGV2ZWwoKSk7CiAgICAgICAgICAgICAgICAgICAgZW50aXR5LnNldFByaXplKHBJbmZvLmdldFByaXplKCkpOwogICAgICAgICAgICAgICAgICAgIGVudGl0eS5zZXRTY2FuSWQocEluZm8uZ2V0U2NhbklkKCkpOwogICAgICAgICAgICAgICAgICAgIGVudGl0eS5zZXRTZW5kVHlwZShwSW5mby5nZXRTZW5kVHlwZSgpKTsKICAgICAgICAgICAgICAgICAgICBlbnRpdHkuc2V0U2NhbkZsYWcoMCk7CiAgICAgICAgICAgICAgICAgICAgZW50aXR5LnNldFJlY2VpdmVGbGFnKDApOwogICAgICAgICAgICAgICAgICAgIHBlYXJMaXN0LmFkZChlbnRpdHkpOwogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgZm9yIChpbnQgaSA9IDA7IGkgPCBwZWFyOyBpKyspIHsKICAgICAgICAgICAgICAgICAgICBTY2FuUHJpemVEZXRhaWwgZW50aXR5ID0gbmV3IFNjYW5Qcml6ZURldGFpbCgpOwogICAgICAgICAgICAgICAgICAgIGVudGl0eS5zZXRBZGRGbGFnKDApOwogICAgICAgICAgICAgICAgICAgIGVudGl0eS5zZXRMZXZlbChwSW5mby5nZXRMZXZlbCgpKTsKICAgICAgICAgICAgICAgICAgICBlbnRpdHkuc2V0UHJpemUocEluZm8uZ2V0UHJpemUoKSk7CiAgICAgICAgICAgICAgICAgICAgZW50aXR5LnNldFNjYW5JZChwSW5mby5nZXRTY2FuSWQoKSk7CiAgICAgICAgICAgICAgICAgICAgZW50aXR5LnNldFNlbmRUeXBlKHBJbmZvLmdldFNlbmRUeXBlKCkpOwogICAgICAgICAgICAgICAgICAgIGVudGl0eS5zZXRTY2FuRmxhZygwKTsKICAgICAgICAgICAgICAgICAgICBlbnRpdHkuc2V0UmVjZWl2ZUZsYWcoMCk7CiAgICAgICAgICAgICAgICAgICAgYmFzaWNTY2FuUHJpemVEZXRhaWwuYWRkKGVudGl0eSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgLy/mr4/nrrHliankvZnnmoTpg6jliIbkuLrosKLosKLmg6Dpob4KICAgICAgICBJbnRlZ2VyIHN1cnBsdXMgPSBzaXplIC0gYmFzaWNTY2FuUHJpemVEZXRhaWwuc2l6ZSgpOwogICAgICAgIGZvciAoaW50IGkgPSAwOyBpIDwgc3VycGx1czsgaSsrKSB7CiAgICAgICAgICAgIFNjYW5Qcml6ZURldGFpbCB0aGFua1ByaXplID0gbmV3IFNjYW5Qcml6ZURldGFpbCgpOwogICAgICAgICAgICB0aGFua1ByaXplLnNldEFkZEZsYWcoMCk7CiAgICAgICAgICAgIHRoYW5rUHJpemUuc2V0TGV2ZWwoMTApOwogICAgICAgICAgICB0aGFua1ByaXplLnNldFByaXplKCLosKLosKLlk4HlsJ0iKTsKICAgICAgICAgICAgdGhhbmtQcml6ZS5zZXRTY2FuSWQoc2NhbklkKTsKICAgICAgICAgICAgdGhhbmtQcml6ZS5zZXRTZW5kVHlwZSgxKTsKICAgICAgICAgICAgdGhhbmtQcml6ZS5zZXRTY2FuRmxhZygwKTsKICAgICAgICAgICAgdGhhbmtQcml6ZS5zZXRSZWNlaXZlRmxhZygwKTsKICAgICAgICAgICAgYmFzaWNTY2FuUHJpemVEZXRhaWwuYWRkKHRoYW5rUHJpemUpOwogICAgICAgIH0KICAgICAgICAvL+WlluWNoembhuWQiAogICAgICAgIE1hcDxJbnRlZ2VyLCBMaXN0PFNjYW5Qcml6ZURldGFpbD4+IG1hcFByaXplSW5mb3MgPSBuZXcgSGFzaE1hcDxJbnRlZ2VyLCBMaXN0PFNjYW5Qcml6ZURldGFpbD4+KCk7CiAgICAgICAgLy/mr4/nu4TnrrHmlbAKICAgICAgICBJbnRlZ2VyIGdyb3VwTnVtID0gcHJvZHVjdE51bSAvIHNpemU7CiAgICAgICAgLy/nlJ/miJDlpZbljaEKICAgICAgICBmb3IgKGludCBpID0gMDsgaSA8IGdyb3VwTnVtOyBpKyspIHsKICAgICAgICAgICAgTGlzdDxTY2FuUHJpemVEZXRhaWw+IHByaXplSW5mb3MgPSBuZXcgQXJyYXlMaXN0PFNjYW5Qcml6ZURldGFpbD4oKTsKICAgICAgICAgICAgUmFuZG9tIHIgPSBuZXcgUmFuZG9tKCk7CiAgICAgICAgICAgIEludGVnZXIgc2VlZCA9IHIubmV4dEludChzaXplKTsKICAgICAgICAgICAgZm9yIChpbnQgaiA9IHNlZWQ7IGogPCBzZWVkICsgc2l6ZTsgaisrKSB7CiAgICAgICAgICAgICAgICBTY2FuUHJpemVEZXRhaWwgYlByaXplID0gYmFzaWNTY2FuUHJpemVEZXRhaWwuZ2V0KGogJSBzaXplKTsKICAgICAgICAgICAgICAgIFNjYW5Qcml6ZURldGFpbCBuZXdQcml6ZSA9IG5ldyBTY2FuUHJpemVEZXRhaWwoKTsKICAgICAgICAgICAgICAgIG5ld1ByaXplLnNldEFkZEZsYWcoYlByaXplLmdldEFkZEZsYWcoKSk7CiAgICAgICAgICAgICAgICBuZXdQcml6ZS5zZXRMZXZlbChiUHJpemUuZ2V0TGV2ZWwoKSk7CiAgICAgICAgICAgICAgICBuZXdQcml6ZS5zZXRQcml6ZShiUHJpemUuZ2V0UHJpemUoKSk7CiAgICAgICAgICAgICAgICBuZXdQcml6ZS5zZXRTY2FuSWQoYlByaXplLmdldFNjYW5JZCgpKTsKICAgICAgICAgICAgICAgIG5ld1ByaXplLnNldFNlbmRUeXBlKGJQcml6ZS5nZXRTZW5kVHlwZSgpKTsKICAgICAgICAgICAgICAgIG5ld1ByaXplLnNldFNjYW5GbGFnKGJQcml6ZS5nZXRTY2FuRmxhZygpKTsKICAgICAgICAgICAgICAgIG5ld1ByaXplLnNldFJlY2VpdmVGbGFnKGJQcml6ZS5nZXRSZWNlaXZlRmxhZygpKTsKICAgICAgICAgICAgICAgIHByaXplSW5mb3MuYWRkKG5ld1ByaXplKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBtYXBQcml6ZUluZm9zLnB1dChpLCBwcml6ZUluZm9zKTsKICAgICAgICB9CiAgICAgICAgLy/pmo/mnLrliIblj5HlpZblk4EKICAgICAgICBNYXA8SW50ZWdlciwgSW50ZWdlcj4gcmVwZWF0ID0gbmV3IEhhc2hNYXA8SW50ZWdlciwgSW50ZWdlcj4oKTsKICAgICAgICBmb3IgKFByaXplSW5mbyBwSW5mbyA6IHBJbmZvcykgewogICAgICAgICAgICAvL+S4reWlluS4quaVsAogICAgICAgICAgICBJbnRlZ2VyIGNvdW50ID0gcEluZm8uZ2V0QXdhcmROdW0oKTsKICAgICAgICAgICAgLy/nrrHmlbAKICAgICAgICAgICAgSW50ZWdlciBib3hOdW0gPSBwSW5mby5nZXRCb3hOdW0oKTsKICAgICAgICAgICAgaWYgKGNvdW50IDwgYm94TnVtICYmIDEwICE9IHBJbmZvLmdldExldmVsKCkpIHsKICAgICAgICAgICAgICAgIGZvciAoaW50IGkgPSAwOyBpIDwgZ3JvdXBOdW0gLyBib3hOdW07IGkrKykgewoKICAgICAgICAgICAgICAgICAgICBmb3IgKGludCBrID0gMDsgayA8IGNvdW50OyBrKyspIHsKICAgICAgICAgICAgICAgICAgICAgICAgU2NhblByaXplRGV0YWlsIGVudGl0eSA9IG5ldyBTY2FuUHJpemVEZXRhaWwoKTsKICAgICAgICAgICAgICAgICAgICAgICAgZW50aXR5LnNldEFkZEZsYWcoMCk7CiAgICAgICAgICAgICAgICAgICAgICAgIGVudGl0eS5zZXRMZXZlbChwSW5mby5nZXRMZXZlbCgpKTsKICAgICAgICAgICAgICAgICAgICAgICAgZW50aXR5LnNldFByaXplKHBJbmZvLmdldFByaXplKCkpOwogICAgICAgICAgICAgICAgICAgICAgICBlbnRpdHkuc2V0U2NhbklkKHBJbmZvLmdldFNjYW5JZCgpKTsKICAgICAgICAgICAgICAgICAgICAgICAgZW50aXR5LnNldFNlbmRUeXBlKHBJbmZvLmdldFNlbmRUeXBlKCkpOwogICAgICAgICAgICAgICAgICAgICAgICBlbnRpdHkuc2V0U2NhbkZsYWcoMCk7CiAgICAgICAgICAgICAgICAgICAgICAgIGVudGl0eS5zZXRSZWNlaXZlRmxhZygwKTsKICAgICAgICAgICAgICAgICAgICAgICAgUmFuZG9tIHIgPSBuZXcgUmFuZG9tKCk7CiAgICAgICAgICAgICAgICAgICAgICAgIGludCBpbiA9IHIubmV4dEludChib3hOdW0pICsgYm94TnVtICogaTsKICAgICAgICAgICAgICAgICAgICAgICAgd2hpbGUgKHJlcGVhdC5jb250YWluc0tleShpbikpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluID0gci5uZXh0SW50KGJveE51bSkgKyBib3hOdW0gKiBpOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIHJlcGVhdC5wdXQoaW4sIGluKTsKICAgICAgICAgICAgICAgICAgICAgICAgLy/pmo/mnLrmlL7lhaUKICAgICAgICAgICAgICAgICAgICAgICAgTGlzdDxTY2FuUHJpemVEZXRhaWw+IGxwID0gbWFwUHJpemVJbmZvcy5nZXQoaW4pOwogICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGludCBqID0gMDsgaiA8IGxwLnNpemUoKTsgaisrKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoMTAgPT0gbHAuZ2V0KGopLmdldExldmVsKCkpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBscC5zZXQoaiwgZW50aXR5KTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgcmVwZWF0LmNsZWFyKCk7CiAgICAgICAgfQogICAgICAgIC8v57uT5p6c6ZuG5ZCICiAgICAgICAgTGlzdDxTY2FuUHJpemVEZXRhaWw+IGxpc3QgPSBuZXcgQXJyYXlMaXN0PFNjYW5Qcml6ZURldGFpbD4oKTsKICAgICAgICBmb3IgKGludCBpID0gMDsgaSA8IGdyb3VwTnVtOyBpKyspIHsKICAgICAgICAgICAgbGlzdC5hZGRBbGwobWFwUHJpemVJbmZvcy5nZXQoaSkpOwogICAgICAgIH0KICAgICAgICAvL+WkhOeQhuWJqeS9mQogICAgICAgIGludCBrID0gMDsKICAgICAgICBmb3IgKGludCBpID0gMDsgaSA8IHBlYXJMaXN0LnNpemUoKTsgaSsrKSB7CiAgICAgICAgICBmb3IgKGludCBqID0gazsgaiA8IGxpc3Quc2l6ZSgpOyBqKyspIHsKICAgICAgICAgICAgaWYgKDEwID09IGxpc3QuZ2V0KGopLmdldExldmVsKCkpIHsKICAgICAgICAgICAgICBsaXN0LnNldChqLCBwZWFyTGlzdC5nZXQoaSkpOwogICAgICAgICAgICAgIGsgPSBqOwogICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgcmV0dXJuIGxpc3Q7CiAgICB9Cg==</text>
      </register>
      <register name="1" type="2">
        <text encoding="base64">ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAK</text>
      </register>
      <register name="2" type="2">
        <text encoding="base64">ICAgICAgICAgICAgICAgICAgICAgICAgICAgIExpc3Q8U2NhblByaXplRGV0YWlsPiBvbmVCb3hQcml6ZXMgPSBhbGxCb3hzTWFwLmdldChyYW5kb21JZHgpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChpbnQgaWR4ID0gMDsgaWR4IDwgb25lQm94UHJpemVzLnNpemUoKTsgaWR4KyspIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoMTAgPT0gb25lQm94UHJpemVzLmdldChpZHgpLmdldExldmVsKCkpIHsvLyDmib7liLAi6LCi6LCi5ZOB5bCdIueahOmFku+8jOiuvue9ruWllumhuQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByaWdodElkeCA9IGlkeDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQo=</text>
      </register>
      <register name="3" type="2">
        <text encoding="base64">Cg==</text>
      </register>
      <register name="4" type="2">
        <text encoding="base64">Cg==</text>
      </register>
      <register name="5" type="2">
        <text encoding="base64">ICAgIAo=</text>
      </register>
      <register name="6" type="2">
        <text encoding="base64">ICAgIAo=</text>
      </register>
      <register name="7" type="2">
        <text encoding="base64">ICAgICAgICAvL2ZvciAoSXRlcmF0b3I8SW50ZWdlcj4gaXQgPSBhbGxCb3hzTWFwLmtleVNldCgpLml0ZXJhdG9yKCk7IGl0Lmhhc05leHQoKTsgKSB7CiAgICAgICAgLy8gICAgcmV0dXJuTGlzdC5hZGRBbGwoYWxsQm94c01hcC5nZXQoaXQubmV4dCgpKSk7CiAgICAgICAgLy99Cg==</text>
      </register>
      <register name="8" type="2">
        <text encoding="base64">Cg==</text>
      </register>
      <register name="9" type="2">
        <text encoding="base64">cGFja2FnZSBjb250cm9sbGVycy5jb25zb2xlOwoKCmltcG9ydCBqYXZhLmlvLkJ5dGVBcnJheUlucHV0U3RyZWFtOwoKaW1wb3J0IGphdmEudXRpbC5BcnJheUxpc3Q7CmltcG9ydCBqYXZhLnV0aWwuSGFzaE1hcDsKaW1wb3J0IGphdmEudXRpbC5JdGVyYXRvcjsKaW1wb3J0IGphdmEudXRpbC5MaXN0OwppbXBvcnQgamF2YS51dGlsLk1hcDsKaW1wb3J0IGphdmEudXRpbC5SYW5kb207CgppbXBvcnQgamF2YXguYW5ub3RhdGlvbi5SZXNvdXJjZTsKCmltcG9ydCBtb2RlbHMuQ29tcGFueTsKaW1wb3J0IG1vZGVscy5EaXN0cmljdEluZm87CmltcG9ydCBtb2RlbHMuUHJpemVJbmZvOwppbXBvcnQgbW9kZWxzLlByb2R1Y3Q7CmltcG9ydCBtb2RlbHMuU2NhbkV2ZW50OwppbXBvcnQgbW9kZWxzLlNjYW5Qcml6ZURldGFpbDsKaW1wb3J0IHBsYXkuTG9nZ2VyOwppbXBvcnQgcGxheS5saWJzLkpzb247CmltcG9ydCBwbGF5Lm12Yy5Db250cm9sbGVyOwppbXBvcnQgcGxheS5tdmMuSHR0cDsKaW1wb3J0IHBsYXkubXZjLlJlc3VsdDsKaW1wb3J0IHBsYXkubXZjLldpdGg7CmltcG9ydCBzZXJ2aWNlLkF3YXJkT3JkZXJTZXJ2aWNlOwppbXBvcnQgdXRpbC5Db21tb25TZW5kOwppbXBvcnQgdmlld3MuaHRtbC5jb25zb2xlLm1vZFNjYW5FdmVudDsKaW1wb3J0IHZpZXdzLmh0bWwuY29uc29sZS5zY2FuRGV0YWlsOwppbXBvcnQgdmlld3MuaHRtbC5jb25zb2xlLnNjYW5FdmVudDsKaW1wb3J0IHZpZXdzLmh0bWwuY29uc29sZS5zY2FuRXZlbnRXZWVrZGF5OwppbXBvcnQgdmlld3MuaHRtbC5jb25zb2xlLnNjYW5FdmVudE1vbnRoRXZlcnlkYXk7CmltcG9ydCB2aWV3cy5odG1sLmNvbnNvbGUuc2NhbkV2ZW50UmVnaW9uOwppbXBvcnQgdmlld3MuaHRtbC5jb25zb2xlLnNjYW5FdmVudFN0YXRpc3RpY3M7CgppbXBvcnQgY29tLmF2YWplLmViZWFuLkViZWFuOwppbXBvcnQgY29tLmF2YWplLmViZWFuLkV4cHI7CmltcG9ydCBjb20uYXZhamUuZWJlYW4uRXhwcmVzc2lvbjsKaW1wb3J0IGNvbS5hdmFqZS5lYmVhbi5FeHByZXNzaW9uTGlzdDsKaW1wb3J0IGNvbS5laWdodHNwYWNlLnNlcnZlci5jb21tb24uY29udmVydC5FbXB0eVV0aWw7CmltcG9ydCBjb20uZWlnaHRzcGFjZS5zZXJ2ZXIuY29tbW9uLmRhdGUuRGF0ZU1hbmFnbWVudDsKaW1wb3J0IGNvbS5mYXN0ZXJ4bWwuamFja3Nvbi5kYXRhYmluZC5Kc29uTm9kZTsKCmltcG9ydCBjb250cm9sbGVycy5maWx0ZXJzLkF1dGg7CmltcG9ydCBjb250cm9sbGVycy5maWx0ZXJzLkNvbXBhbnlMb2FkZXI7CmltcG9ydCBjb250cm9sbGVycy5maWx0ZXJzLlVzZXJBZ2VudDsKCkBvcmcuc3ByaW5nZnJhbWV3b3JrLnN0ZXJlb3R5cGUuQ29udHJvbGxlcgpAV2l0aCh7QXV0aC5jbGFzcywgVXNlckFnZW50LmNsYXNzLCBDb21wYW55TG9hZGVyLmNsYXNzfSkKcHVibGljIGNsYXNzIFByaXplTWFuYWdlciBleHRlbmRzIENvbnRyb2xsZXIgewoKICAgIC8qKgogICAgICog5rOo5YWlc2VydmljZQogICAgICovCiAgICBAUmVzb3VyY2UobmFtZSA9ICJhd2FyZE9yZGVyU2VydmljZUltcGwiKQogICAgcHJpdmF0ZSBBd2FyZE9yZGVyU2VydmljZSBhd2FyZE9yZGVyU2VydmljZTsKICAgIAoKCiAgICAvKioKICAgICAqIOiOt+W+l+WlluWNoeiOt+W+l+WIl+ihqAogICAgICogCiAgICAgKiBAcGFyYW0gZG9tYWluCiAgICAgKiBAcmV0dXJuCiAgICAgKi8KICAgIHB1YmxpYyBSZXN1bHQgaW5kZXgoU3RyaW5nIGRvbWFpbiwgSW50ZWdlciBzdGFydCwgSW50ZWdlciBsaW1pdCkgewogICAgICAgIEh0dHAuQ29udGV4dCBjdHggPSBIdHRwLkNvbnRleHQuY3VycmVudC5nZXQoKTsKICAgICAgICBDb21wYW55IGNvbXAgPSAoQ29tcGFueSkgY3R4LmFyZ3MuZ2V0KENvbXBhbnlMb2FkZXIuQ09NUEFOWV9BUkdfS0VZKTsKCiAgICAgICAgTGlzdDxTY2FuRXZlbnQ+IGxzdCA9CiAgICAgICAgICAgICAgICBFYmVhbi5maW5kKFNjYW5FdmVudC5jbGFzcykuZmV0Y2goInByb2R1Y3RJZCIpLmZldGNoKCJkaXN0cmljdCIpLndoZXJlKCkuZXEoImNvbXBhbnlJZCIsIGNvbXAuaWQpCiAgICAgICAgICAgICAgICAgICAgICAgIC5uZSgiZGVsRmxhZyIsIDEpLm9yZGVyQnkoIm91dGJlZ2luRGF0ZSIpLnNldEZpcnN0Um93KHN0YXJ0ICogbGltaXQpLnNldE1heFJvd3MobGltaXQpLmZpbmRMaXN0KCk7CiAgICAgICAgLy/orrDlvZXmlbAKICAgICAgICBJbnRlZ2VyIGNvdW50ID0KICAgICAgICAgICAgICAgIEViZWFuLmZpbmQoU2NhbkV2ZW50LmNsYXNzKS5mZXRjaCgicHJvZHVjdElkIikuZmV0Y2goImRpc3RyaWN0Iikud2hlcmUoKS5lcSgiY29tcGFueUlkIiwgY29tcC5pZCkKICAgICAgICAgICAgICAgICAgICAgICAgLm5lKCJkZWxGbGFnIiwgMSkuZmluZFJvd0NvdW50KCk7CiAgICAgICAgLy/kuqflk4Hkv6Hmga8KICAgICAgICBMaXN0PFByb2R1Y3Q+IHByb2R1Y3RzID0gRWJlYW4uZmluZChQcm9kdWN0LmNsYXNzKS53aGVyZSgpLmVxKCJjb21wYW55SWQiLCBjb21wLmlkKS5maW5kTGlzdCgpOwogICAgICAgIC8v5omA5pyJ55qE55yBCiAgICAgICAgTGlzdDxEaXN0cmljdEluZm8+IGRpc3RyaWN0cyA9CiAgICAgICAgICAgICAgICBFYmVhbi5maW5kKERpc3RyaWN0SW5mby5jbGFzcykud2hlcmUoKS5lcSgiY2l0eUNvZGUiLCAwKS5lcSgiZGlzdHJpY3RDb2RlIiwgMCkub3JkZXIoImlkIikuZmluZExpc3QoKTsKCiAgICAgICAgcmV0dXJuIG9rKHNjYW5FdmVudC5yZW5kZXIobHN0LCBjb21wLCBwcm9kdWN0cywgZGlzdHJpY3RzLCBzdGFydCwgY291bnQpKTsKICAgIH0KCiAgICAvKioKICAgICAqIEBwYXJhbSBwcm92aWNlQ29kZQogICAgICogQHJldHVybgogICAgICogQGF1dGhvciBzdW5sCiAgICAgKi8KICAgIHB1YmxpYyBSZXN1bHQgY2l5dEJ5UHJvdmluY2UoSW50ZWdlciBwcm92aWNlQ29kZSkgewogICAgICAgIE1hcDxTdHJpbmcsIE9iamVjdD4gbWFwID0gbmV3IEhhc2hNYXA8U3RyaW5nLCBPYmplY3Q+KCk7CiAgICAgICAgLy/ln47luIIKICAgICAgICBMaXN0PERpc3RyaWN0SW5mbz4gZGlzdHJpY3RzID0KICAgICAgICAgICAgICAgIEViZWFuLmZpbmQoRGlzdHJpY3RJbmZvLmNsYXNzKS53aGVyZSgpLm5lKCJjaXR5Q29kZSIsIDApLmVxKCJkaXN0cmljdENvZGUiLCAwKS5lcSgicHJvdmluY2VDb2RlIiwgcHJvdmljZUNvZGUpCiAgICAgICAgICAgICAgICAgICAgICAgIC5maW5kTGlzdCgpOwogICAgICAgIG1hcC5wdXQoInJvb3QiLCBkaXN0cmljdHMpOwogICAgICAgIHJldHVybiBvayhKc29uLnRvSnNvbihtYXApKTsKICAgIH0KCiAgICAvKioKICAgICAqIAogICAgICog5qC55o2u5Z+O5biC5p+l6K+i5Y6/5Z+OCiAgICAgKiAKICAgICAqIEBhdXRob3Igc3VubAogICAgICogQGRhdGUgMjAxNeW5tDEx5pyIMTLml6UKICAgICAqIEBwYXJhbSBjaXR5Q29kZQogICAgICogQHJldHVybgogICAgICogQHNpbmNlIDEuMAogICAgICovCiAgICBwdWJsaWMgUmVzdWx0IGNvdW50eUJ5Q2l0eShJbnRlZ2VyIGNpdHlDb2RlLCBJbnRlZ2VyIHByb3ZpY2VDb2RlKSB7CiAgICAgICAgTWFwPFN0cmluZywgT2JqZWN0PiBtYXAgPSBuZXcgSGFzaE1hcDxTdHJpbmcsIE9iamVjdD4oKTsKICAgICAgICBMaXN0PERpc3RyaWN0SW5mbz4gY291bnR5ID0KICAgICAgICAgICAgICAgIEViZWFuLmZpbmQoRGlzdHJpY3RJbmZvLmNsYXNzKS53aGVyZSgpLmVxKCJwcm92aW5jZUNvZGUiLCBwcm92aWNlQ29kZSkuZXEoImNpdHlDb2RlIiwgY2l0eUNvZGUpCiAgICAgICAgICAgICAgICAgICAgICAgIC5uZSgiZGlzdHJpY3RDb2RlIiwgMCkuZmluZExpc3QoKTsKICAgICAgICBtYXAucHV0KCJyb290IiwgY291bnR5KTsKICAgICAgICByZXR1cm4gb2soSnNvbi50b0pzb24obWFwKSk7CiAgICB9CgogICAgLyoqCiAgICAgKiAKICAgICAqIEBwYXJhbSBkb21haW4KICAgICAqIEByZXR1cm4KICAgICAqIEBhdXRob3Igc3VubAogICAgICovCiAgICBwdWJsaWMgUmVzdWx0IGRvUG9zdChTdHJpbmcgZG9tYWluKSB7CiAgICAgICAgSHR0cC5Db250ZXh0IGN0eCA9IEh0dHAuQ29udGV4dC5jdXJyZW50LmdldCgpOwogICAgICAgIENvbXBhbnkgY29tcCA9IChDb21wYW55KSBjdHguYXJncy5nZXQoQ29tcGFueUxvYWRlci5DT01QQU5ZX0FSR19LRVkpOwogICAgICAgIC8v6L+U5Zue57uT5p6cCiAgICAgICAgTWFwPFN0cmluZywgT2JqZWN0PiByZXN1bHQgPSBuZXcgSGFzaE1hcDxTdHJpbmcsIE9iamVjdD4oKTsKICAgICAgICB0cnkgewogICAgICAgICAgICByZXNwb25zZSgpLnNldENvbnRlbnRUeXBlKCJ0ZXh0L2h0bWw7IGNoYXJzZXQ9dXRmLTgiKTsKICAgICAgICAgICAgSnNvbk5vZGUgYm9keSA9IHJlcXVlc3QoKS5ib2R5KCkuYXNKc29uKCk7CiAgICAgICAgICAgIC8v5aWW5Y2h5a+56LGhCiAgICAgICAgICAgIFNjYW5FdmVudCBlID0gZG9Qb3N0UGFyYW0oYm9keSwgY29tcCwgbnVsbCk7CiAgICAgICAgICAgIC8vCiAgICAgICAgICAgIFNjYW5FdmVudCBzZSA9IGdldFNjYW5FdmVudChjb21wLmlkLCBlLmdldFByb2R1Y3RJZCgpLCBlLmdldERpc3RyaWN0KCkpOwogICAgICAgICAgICBpZiAoRW1wdHlVdGlsLmlzTm90RW1wdHkoc2UpKSB7CiAgICAgICAgICAgICAgICByZXN1bHQucHV0KCJzdWNjZXNzIiwgZmFsc2UpOwogICAgICAgICAgICAgICAgcmV0dXJuIG9rKEpzb24udG9Kc29uKHJlc3VsdCkpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIC8v5aWW5ZOB5Y+C5pWwCiAgICAgICAgICAgIFN0cmluZyBweiA9IGJvZHkuZ2V0KCJwcml6ZXMiKS5hc1RleHQoKTsKICAgICAgICAgICAgLy/lpZblk4Hpm4blkIgKICAgICAgICAgICAgTGlzdDxQcml6ZUluZm8+IHByaXplTGlzdCA9IG5ldyBBcnJheUxpc3Q8UHJpemVJbmZvPigpOwogICAgICAgICAgICAvL+iOt+W+l+WlluWTgeWPguaVsAogICAgICAgICAgICBJdGVyYXRvcjxKc29uTm9kZT4gaXQgPSBKc29uLnBhcnNlKHB6KS5pdGVyYXRvcigpOwogICAgICAgICAgICB3aGlsZSAoaXQuaGFzTmV4dCgpKSB7CiAgICAgICAgICAgICAgICBKc29uTm9kZSBpbm5lciA9IGl0Lm5leHQoKTsKICAgICAgICAgICAgICAgIFN0cmluZ1tdIHN0ciA9IGlubmVyLmFzVGV4dCgpLnNwbGl0KCIsIik7CiAgICAgICAgICAgICAgICBQcml6ZUluZm8gcEluZm8gPSBuZXcgUHJpemVJbmZvKCk7CiAgICAgICAgICAgICAgICBwSW5mby5zZXRMZXZlbChJbnRlZ2VyLnBhcnNlSW50KHN0clswXSkpOwogICAgICAgICAgICAgICAgcEluZm8uc2V0UHJpemUoc3RyWzFdKTsKICAgICAgICAgICAgICAgIHBJbmZvLnNldFNjYW5JZChlLmdldFNjYW5JZCgpKTsKICAgICAgICAgICAgICAgIHBJbmZvLnNldE51bShJbnRlZ2VyLnBhcnNlSW50KHN0clsyXSkpOwogICAgICAgICAgICAgICAgcEluZm8uc2V0U2VuZFR5cGUoSW50ZWdlci5wYXJzZUludChzdHJbM10pKTsKICAgICAgICAgICAgICAgIHBJbmZvLnNldEJveE51bShJbnRlZ2VyLnBhcnNlSW50KHN0cls0XSkpOwogICAgICAgICAgICAgICAgcEluZm8uc2V0QXdhcmROdW0oSW50ZWdlci5wYXJzZUludChzdHJbNV0pKTsKICAgICAgICAgICAgICAgIHByaXplTGlzdC5hZGQocEluZm8pOwogICAgICAgICAgICB9CiAgICAgICAgICAgIC8v5byA5ZCv5LqL54mpCiAgICAgICAgICAgIEViZWFuLmJlZ2luVHJhbnNhY3Rpb24oKTsKICAgICAgICAgICAgLy/kv53lrZjlpZbljaHmtLvliqgKICAgICAgICAgICAgRWJlYW4uc2F2ZShlKTsKICAgICAgICAgICAgLy/kv53lrZjlpZblk4EKICAgICAgICAgICAgRWJlYW4uc2F2ZShwcml6ZUxpc3QpOwoKICAgICAgICAgICAgRWJlYW4uY29tbWl0VHJhbnNhY3Rpb24oKTsKICAgICAgICAgICAgcmVzdWx0LnB1dCgic3VjY2VzcyIsIHRydWUpOwogICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7CiAgICAgICAgICAgIHJlc3VsdC5wdXQoInN1Y2Nlc3MiLCBmYWxzZSk7CiAgICAgICAgICAgIExvZ2dlci5lcnJvcigi5re75Yqg5aWW5Y2h5rS75Yqo5byC5bi4IiwgZSk7CiAgICAgICAgfQogICAgICAgIHJldHVybiBvayhKc29uLnRvSnNvbihyZXN1bHQpKTsKICAgIH0KCiAgICAvKioKICAgICAqIAogICAgICogQHBhcmFtIGRvbWFpbgogICAgICogQHBhcmFtIHNjYW5JZAogICAgICogQHJldHVybgogICAgICogQGF1dGhvciBzdW5sCiAgICAgKi8KICAgIHB1YmxpYyBSZXN1bHQgZGVsU2NhbkV2ZW50KFN0cmluZyBkb21haW4sIEludGVnZXIgc2NhbklkKSB7CiAgICAgICAgTWFwPFN0cmluZywgT2JqZWN0PiBtYXAgPSBuZXcgSGFzaE1hcDxTdHJpbmcsIE9iamVjdD4oKTsKICAgICAgICB0cnkgewogICAgICAgICAgICAvL+agueaNrmlk5p+l6K+iCiAgICAgICAgICAgIFNjYW5FdmVudCBzY2FuRXZlbnQgPQogICAgICAgICAgICAgICAgICAgIEViZWFuLmZpbmQoU2NhbkV2ZW50LmNsYXNzKS5mZXRjaCgicHJvZHVjdElkIikuZmV0Y2goImRpc3RyaWN0Iikud2hlcmUoKS5lcSgic2NhbklkIiwgc2NhbklkKS5maW5kVW5pcXVlKCk7CiAgICAgICAgICAgIFN0cmluZyBzdGF0dXMgPSByZXF1ZXN0KCkuZ2V0UXVlcnlTdHJpbmcoInN0YXR1cyIpOwogICAgICAgICAgICBpZiAoRW1wdHlVdGlsLmlzRW1wdHkoc3RhdHVzKSkgewogICAgICAgICAgICAgICAgc2NhbkV2ZW50LnNldERlbEZsYWcoMSk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBzY2FuRXZlbnQuc2V0RGVsRmxhZygyKTsKICAgICAgICAgICAgfQogICAgICAgICAgICAvL+abtOaWsOWtl+autQogICAgICAgICAgICBFYmVhbi5zYXZlKHNjYW5FdmVudCk7CiAgICAgICAgICAgIG1hcC5wdXQoInN1Y2Nlc3MiLCB0cnVlKTsKICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gZSkgewogICAgICAgICAgICBtYXAucHV0KCJzdWNjZXNzIiwgZmFsc2UpOwogICAgICAgICAgICBMb2dnZXIuZXJyb3IoIuWIoOmZpOaKleWllua0u+WKqCIsIGUpOwogICAgICAgIH0KICAgICAgICByZXR1cm4gb2soSnNvbi50b0pzb24obWFwKSk7CiAgICB9CgogICAgLyoqCiAgICAgKiAKICAgICAqIEBwYXJhbSBkb21haW4KICAgICAqIEBwYXJhbSBzY2FuSWQKICAgICAqIEByZXR1cm4KICAgICAqIEBhdXRob3Igc3VubAogICAgICovCiAgICBwdWJsaWMgUmVzdWx0IG1vZFNjYW5FdmVudChTdHJpbmcgZG9tYWluLCBJbnRlZ2VyIHNjYW5JZCkgewogICAgICAgIEh0dHAuQ29udGV4dCBjdHggPSBIdHRwLkNvbnRleHQuY3VycmVudC5nZXQoKTsKICAgICAgICBDb21wYW55IGNvbXAgPSAoQ29tcGFueSkgY3R4LmFyZ3MuZ2V0KENvbXBhbnlMb2FkZXIuQ09NUEFOWV9BUkdfS0VZKTsKCiAgICAgICAgU2NhbkV2ZW50IGV2ZW50ID0KICAgICAgICAgICAgICAgIEViZWFuLmZpbmQoU2NhbkV2ZW50LmNsYXNzKS5mZXRjaCgicHJvZHVjdElkIikuZmV0Y2goImRpc3RyaWN0Iikud2hlcmUoKS5lcSgiY29tcGFueUlkIiwgY29tcC5pZCkKICAgICAgICAgICAgICAgICAgICAgICAgLmVxKCJkZWxGbGFnIiwgMCkuZXEoInNjYW5JZCIsIHNjYW5JZCkuZmluZFVuaXF1ZSgpOwogICAgICAgIC8v5Lqn5ZOB5L+h5oGvCiAgICAgICAgTGlzdDxQcm9kdWN0PiBwcm9kdWN0cyA9IEViZWFuLmZpbmQoUHJvZHVjdC5jbGFzcykud2hlcmUoKS5lcSgiY29tcGFueUlkIiwgY29tcC5pZCkuZmluZExpc3QoKTsKICAgICAgICAvL+aJgOacieeahOecgQogICAgICAgIExpc3Q8RGlzdHJpY3RJbmZvPiBkaXN0cmljdHMgPQogICAgICAgICAgICAgICAgRWJlYW4uZmluZChEaXN0cmljdEluZm8uY2xhc3MpLndoZXJlKCkuZXEoImNpdHlDb2RlIiwgMCkuZXEoImRpc3RyaWN0Q29kZSIsIDApLm9yZGVyKCJpZCIpLmZpbmRMaXN0KCk7CiAgICAgICAgLy/lpZblk4Hkv6Hmga8KICAgICAgICBMaXN0PFByaXplSW5mbz4gcHJpemVzID0gRWJlYW4uZmluZChQcml6ZUluZm8uY2xhc3MpLndoZXJlKCkuZXEoInNjYW5JZCIsIHNjYW5JZCkuZmluZExpc3QoKTsKICAgICAgICByZXR1cm4gb2sobW9kU2NhbkV2ZW50LnJlbmRlcihjb21wLCBwcm9kdWN0cywgZGlzdHJpY3RzLCBldmVudCwgcHJpemVzKSk7CiAgICB9CgogICAgLyoqCiAgICAgKiDkv67mlLnmipXlpZYKICAgICAqIAogICAgICogQHBhcmFtIGRvbWFpbgogICAgICogQHBhcmFtIHNjYW5JZAogICAgICogQHJldHVybgogICAgICogQGF1dGhvciBzdW5sCiAgICAgKi8KICAgIHB1YmxpYyBSZXN1bHQgc2NhbkV2ZW50KFN0cmluZyBkb21haW4sIEludGVnZXIgc2NhbklkKSB7CiAgICAgICAgTWFwPFN0cmluZywgT2JqZWN0PiByZXN1bHQgPSBuZXcgSGFzaE1hcDxTdHJpbmcsIE9iamVjdD4oKTsKICAgICAgICAvL+agueaNrklk5p+l6K+iCiAgICAgICAgSHR0cC5Db250ZXh0IGN0eCA9IEh0dHAuQ29udGV4dC5jdXJyZW50LmdldCgpOwogICAgICAgIENvbXBhbnkgY29tcCA9IChDb21wYW55KSBjdHguYXJncy5nZXQoQ29tcGFueUxvYWRlci5DT01QQU5ZX0FSR19LRVkpOwogICAgICAgIHJlc3BvbnNlKCkuc2V0Q29udGVudFR5cGUoInRleHQvaHRtbDsgY2hhcnNldD11dGYtOCIpOwogICAgICAgIEpzb25Ob2RlIGJvZHkgPSByZXF1ZXN0KCkuYm9keSgpLmFzSnNvbigpOwogICAgICAgIHRyeSB7CiAgICAgICAgICAgIC8vCiAgICAgICAgICAgIExpc3Q8UHJpemVJbmZvPiBwcml6ZXMgPSBFYmVhbi5maW5kKFByaXplSW5mby5jbGFzcykud2hlcmUoKS5lcSgic2NhbklkIiwgc2NhbklkKS5maW5kTGlzdCgpOwogICAgICAgICAgICAvL+iOt+W+l+WPguaVsOWvueixoQogICAgICAgICAgICBTY2FuRXZlbnQgZXZlbnQgPSBkb1Bvc3RQYXJhbShib2R5LCBjb21wLCBzY2FuSWQpOwoKICAgICAgICAgICAgU2NhbkV2ZW50IHNlID0gZ2V0U2NhbkV2ZW50KGNvbXAuaWQsIGV2ZW50LmdldFByb2R1Y3RJZCgpLCBldmVudC5nZXREaXN0cmljdCgpKTsKICAgICAgICAgICAgaWYgKEVtcHR5VXRpbC5pc05vdEVtcHR5KHNlKSAmJiAhc2UuZ2V0U2NhbklkKCkuZXF1YWxzKHNjYW5JZCkpIHsKICAgICAgICAgICAgICAgIHJlc3VsdC5wdXQoInN1Y2Nlc3MiLCBmYWxzZSk7CiAgICAgICAgICAgICAgICByZXR1cm4gb2soSnNvbi50b0pzb24ocmVzdWx0KSk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgLy/lpZblk4Hlj4LmlbAKICAgICAgICAgICAgU3RyaW5nIHB6ID0gYm9keS5nZXQoInByaXplcyIpLmFzVGV4dCgpOwogICAgICAgICAgICAvL+WlluWNoembhuWQiAogICAgICAgICAgICBMaXN0PFByaXplSW5mbz4gcHJpemVMaXN0ID0gbmV3IEFycmF5TGlzdDxQcml6ZUluZm8+KCk7CiAgICAgICAgICAgIEl0ZXJhdG9yPEpzb25Ob2RlPiBpdCA9IEpzb24ucGFyc2UocHopLml0ZXJhdG9yKCk7CiAgICAgICAgICAgIC8v5b6q546vCiAgICAgICAgICAgIHdoaWxlIChpdC5oYXNOZXh0KCkpIHsKICAgICAgICAgICAgICAgIEpzb25Ob2RlIGlubmVyID0gaXQubmV4dCgpOwogICAgICAgICAgICAgICAgU3RyaW5nW10gc3RyID0gaW5uZXIuYXNUZXh0KCkuc3BsaXQoIiwiKTsKICAgICAgICAgICAgICAgIFByaXplSW5mbyBwSW5mbyA9IG5ldyBQcml6ZUluZm8oKTsKICAgICAgICAgICAgICAgIHBJbmZvLnNldExldmVsKEludGVnZXIucGFyc2VJbnQoc3RyWzBdKSk7CiAgICAgICAgICAgICAgICBwSW5mby5zZXRQcml6ZShzdHJbMV0pOwogICAgICAgICAgICAgICAgcEluZm8uc2V0U2NhbklkKGV2ZW50LmdldFNjYW5JZCgpKTsKICAgICAgICAgICAgICAgIHBJbmZvLnNldE51bShJbnRlZ2VyLnBhcnNlSW50KHN0clsyXSkpOwogICAgICAgICAgICAgICAgcEluZm8uc2V0U2VuZFR5cGUoSW50ZWdlci5wYXJzZUludChzdHJbM10pKTsKICAgICAgICAgICAgICAgIHBJbmZvLnNldEJveE51bShJbnRlZ2VyLnBhcnNlSW50KHN0cls0XSkpOwogICAgICAgICAgICAgICAgcEluZm8uc2V0QXdhcmROdW0oSW50ZWdlci5wYXJzZUludChzdHJbNV0pKTsKICAgICAgICAgICAgICAgIHByaXplTGlzdC5hZGQocEluZm8pOwogICAgICAgICAgICB9CgogICAgICAgICAgICAvL+W8gOWQr+S6i+eJqQogICAgICAgICAgICBFYmVhbi5iZWdpblRyYW5zYWN0aW9uKCk7CiAgICAgICAgICAgIC8v5Yig6Zmk5aWW5ZOBCiAgICAgICAgICAgIEViZWFuLmRlbGV0ZShwcml6ZXMpOwogICAgICAgICAgICAvL+S/neWtmOWlluWNoea0u+WKqAogICAgICAgICAgICBFYmVhbi5zYXZlKGV2ZW50KTsKICAgICAgICAgICAgLy/kv53lrZjlpZblk4EKICAgICAgICAgICAgRWJlYW4uc2F2ZShwcml6ZUxpc3QpOwogICAgICAgICAgICBFYmVhbi5jb21taXRUcmFuc2FjdGlvbigpOwogICAgICAgICAgICByZXN1bHQucHV0KCJzdWNjZXNzIiwgdHJ1ZSk7CiAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHsKICAgICAgICAgICAgcmVzdWx0LnB1dCgic3VjY2VzcyIsIGZhbHNlKTsKICAgICAgICAgICAgTG9nZ2VyLmVycm9yKCLkv67mlLnlpZbljaHmtLvliqgiLCBlKTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIG9rKEpzb24udG9Kc29uKHJlc3VsdCkpOwogICAgfQoKCgogICAgLyoqCiAgICAgKiDojrflvpflj4LmlbAKICAgICAqIAogICAgICogQHBhcmFtIGJvZHkKICAgICAqIEBwYXJhbSBjb21wCiAgICAgKiBAcGFyYW0gc2NhbklkCiAgICAgKiBAcmV0dXJuCiAgICAgKiBAdGhyb3dzIEV4Y2VwdGlvbgogICAgICogQGF1dGhvciBzdW5sCiAgICAgKi8KICAgIHByaXZhdGUgU2NhbkV2ZW50IGRvUG9zdFBhcmFtKEpzb25Ob2RlIGJvZHksIENvbXBhbnkgY29tcCwgSW50ZWdlciBzY2FuSWQpIHRocm93cyBFeGNlcHRpb24gewogICAgICAgIFNjYW5FdmVudCBlID0gbnVsbDsKICAgICAgICBpZiAoRW1wdHlVdGlsLmlzRW1wdHkoc2NhbklkKSkgewogICAgICAgICAgICBlID0gbmV3IFNjYW5FdmVudCgpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGUgPQogICAgICAgICAgICAgICAgICAgIEViZWFuLmZpbmQoU2NhbkV2ZW50LmNsYXNzKS5mZXRjaCgicHJvZHVjdElkIikuZmV0Y2goImRpc3RyaWN0Iikud2hlcmUoKS5lcSgiY29tcGFueUlkIiwgY29tcC5pZCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5lcSgiZGVsRmxhZyIsIDApLmVxKCJzY2FuSWQiLCBzY2FuSWQpLmZpbmRVbmlxdWUoKTsKICAgICAgICB9CiAgICAgICAgZS5zZXRTY2FuTmFtZShib2R5LmdldCgic2Nhbk5hbWUiKS5hc1RleHQoKSk7CiAgICAgICAgRGlzdHJpY3RJbmZvIGRpcyA9IEViZWFuLmZpbmQoRGlzdHJpY3RJbmZvLmNsYXNzKS53aGVyZSgpLmVxKCJpZCIsIGJvZHkuZ2V0KCJhcmVhSWQiKS5hc0ludCgpKS5maW5kVW5pcXVlKCk7CiAgICAgICAgZS5zZXREaXN0cmljdChkaXMpOwogICAgICAgIGUuc2V0QmVnaW5EYXRlKG5ldyBqYXZhLnNxbC5EYXRlKERhdGVNYW5hZ21lbnQKICAgICAgICAgICAgICAgIC5zdHJpbmdUb0RhdGUoRGF0ZU1hbmFnbWVudC5EQVRFX1lZWVlfTU1fREQsIGJvZHkuZ2V0KCJiZWdpbkRhdGUiKS5hc1RleHQoKSkuZ2V0VGltZSgpKSk7CiAgICAgICAgZS5zZXRPdXRiZWdpbkRhdGUobmV3IGphdmEuc3FsLkRhdGUoRGF0ZU1hbmFnbWVudC5zdHJpbmdUb0RhdGUoRGF0ZU1hbmFnbWVudC5EQVRFX1lZWVlfTU1fREQsCiAgICAgICAgICAgICAgICBib2R5LmdldCgib3V0YmVnaW5EYXRlIikuYXNUZXh0KCkpLmdldFRpbWUoKSkpOwogICAgICAgIGUuc2V0RW5kRGF0ZShuZXcgamF2YS5zcWwuRGF0ZShEYXRlTWFuYWdtZW50LnN0cmluZ1RvRGF0ZShEYXRlTWFuYWdtZW50LkRBVEVfWVlZWV9NTV9ERCwgYm9keS5nZXQoImVuZERhdGUiKS5hc1RleHQoKSkKICAgICAgICAgICAgICAgIC5nZXRUaW1lKCkpKTsKCiAgICAgICAgZS5zZXRDb250ZXh0KGJvZHkuZ2V0KCJjb250ZXh0IikuYXNUZXh0KCkpOwogICAgICAgIGUuc2V0RGVsRmxhZygwKTsKICAgICAgICBlLnNldEF3YXJkRmxhZygwKTsKICAgICAgICAvL+aYr+WQpumcgOimgemYsuS8queggQogICAgICAgIGUuc2V0QXV0aGNvZGUoYm9keS5nZXQoImF1dGhjb2RlIikuYXNJbnQoKSk7CiAgICAgICAgLy/mipXlpZbmlbAKICAgICAgICBpbnQgcHJvZHVjdE51bSA9IGJvZHkuZ2V0KCJwcm9kdWN0TnVtIikuYXNJbnQoKTsKICAgICAgICBlLnNldFByb2R1Y3ROdW0ocHJvZHVjdE51bSk7CiAgICAgICAgLy/kuqflk4EKICAgICAgICBQcm9kdWN0IHAgPQogICAgICAgICAgICAgICAgRWJlYW4uZmluZChQcm9kdWN0LmNsYXNzKS53aGVyZSgpLmVxKCJjb21wYW55SWQiLCBjb21wLmlkKS5lcSgicHJvZHVjdElkIiwgYm9keS5nZXQoInByb2R1Y3RJZCIpLmFzVGV4dCgpKQogICAgICAgICAgICAgICAgICAgICAgICAuZmluZFVuaXF1ZSgpOwogICAgICAgIGUuc2V0UHJvZHVjdElkKHApOwogICAgICAgIGUuc2V0R3JvdXBudW0oYm9keS5nZXQoImdyb3VwTnVtIikuYXNJbnQoKSk7CiAgICAgICAgZS5zZXRDb21wYW55SWQoY29tcC5pZCk7CiAgICAgICAgaWYgKEVtcHR5VXRpbC5pc0VtcHR5KHNjYW5JZCkpIHsKICAgICAgICAgICAgSW50ZWdlciBzSWQgPSAoSW50ZWdlcikgRWJlYW4ubmV4dElkKFNjYW5FdmVudC5jbGFzcyk7CiAgICAgICAgICAgIGUuc2V0U2NhbklkKHNJZCk7CiAgICAgICAgfQogICAgICAgIHJldHVybiBlOwogICAgfQoKICAgIC8qKgogICAgICogCiAgICAgKiBAcGFyYW0gZG9tYWluCiAgICAgKiBAcGFyYW0gc2NhbklkCiAgICAgKiBAcmV0dXJuCiAgICAgKi8KICAgIHB1YmxpYyBSZXN1bHQgc2NhbkRldGFpbChTdHJpbmcgZG9tYWluLCBJbnRlZ2VyIHNjYW5JZCkgewogICAgICAgIEh0dHAuQ29udGV4dCBjdHggPSBIdHRwLkNvbnRleHQuY3VycmVudC5nZXQoKTsKICAgICAgICBDb21wYW55IGNvbXAgPSAoQ29tcGFueSkgY3R4LmFyZ3MuZ2V0KENvbXBhbnlMb2FkZXIuQ09NUEFOWV9BUkdfS0VZKTsKICAgICAgICByZXR1cm4gb2soc2NhbkRldGFpbC5yZW5kZXIoY29tcCkpOwogICAgfQoKICAgIC8qKgogICAgICog55Sf5oiQ5aWW5Y2hCiAgICAgKiAKICAgICAqIEBwYXJhbSBkb21haW4KICAgICAqIEBwYXJhbSBzY2FuSWQKICAgICAqIEByZXR1cm4KICAgICAqLwogICAgcHVibGljIFJlc3VsdCBwcm9kdWN0UHJpemUoU3RyaW5nIGRvbWFpbiwgZmluYWwgSW50ZWdlciBzY2FuSWQpIHsKICAgICAgICBIdHRwLkNvbnRleHQgY3R4ID0gSHR0cC5Db250ZXh0LmN1cnJlbnQuZ2V0KCk7CiAgICAgICAgQ29tcGFueSBjb21wID0gKENvbXBhbnkpIGN0eC5hcmdzLmdldChDb21wYW55TG9hZGVyLkNPTVBBTllfQVJHX0tFWSk7CiAgICAgICAgTWFwPFN0cmluZywgT2JqZWN0PiBtYXAgPSBuZXcgSGFzaE1hcDxTdHJpbmcsIE9iamVjdD4oKTsKICAgICAgICBmaW5hbCBTY2FuRXZlbnQgZSA9CiAgICAgICAgICAgICAgICBFYmVhbi5maW5kKFNjYW5FdmVudC5jbGFzcykuZmV0Y2goInByb2R1Y3RJZCIpLmZldGNoKCJkaXN0cmljdCIpLndoZXJlKCkuZXEoImNvbXBhbnlJZCIsIGNvbXAuaWQpCiAgICAgICAgICAgICAgICAgICAgICAgIC5lcSgiZGVsRmxhZyIsIDApLmVxKCJzY2FuSWQiLCBzY2FuSWQpLmZpbmRVbmlxdWUoKTsKICAgICAgICB0cnkgewogICAgICAgICAgICAvLyDmlLnmiJDnlJ/miJDkuK3nirbmgIEKICAgICAgICAgICAgZS5zZXRBd2FyZEZsYWcoMik7CiAgICAgICAgICAgIEViZWFuLnVwZGF0ZShlKTsKICAgICAgICAgICAgLy8g6L+Z5Liq57q/56iL5piv5byC5q2l5ZOS5aW95LyQ77yB77yB77yB5Y+v5py65pm65LqGfuaIkeaYr+e6v+eoi+Wwj+iDveaJi++8ge+8ge+8gQogICAgICAgICAgICBuZXcgVGhyZWFkKCkgewogICAgICAgICAgICAgICAgLyoqCiAgICAgICAgICAgICAgICAgKiBydW7mlrnms5UKICAgICAgICAgICAgICAgICAqIAogICAgICAgICAgICAgICAgICogQGF1dGhvciBQb3BweQogICAgICAgICAgICAgICAgICogQGRhdGUgMjAxNS00LTI0CiAgICAgICAgICAgICAgICAgKiBAc2luY2UgMS4wCiAgICAgICAgICAgICAgICAgKi8KICAgICAgICAgICAgICAgIEBPdmVycmlkZQogICAgICAgICAgICAgICAgcHVibGljIHZvaWQgcnVuKCkgewogICAgICAgICAgICAgICAgICAgIC8vc3VwZXIucnVuKCk7CiAgICAgICAgICAgICAgICAgICAgdHJ5IHsKCgogICAgICAgICAgICAgICAgICAgICAgICBMaXN0PFByaXplSW5mbz4gcHJpemVJbmZvID0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBFYmVhbi5maW5kKFByaXplSW5mby5jbGFzcykud2hlcmUoKS5lcSgic2NhbklkIiwgc2NhbklkKS5vcmRlcigibGV2ZWwgZGVzYyIpLmZpbmRMaXN0KCk7CiAgICAgICAgICAgICAgICAgICAgICAgIExpc3Q8U2NhblByaXplRGV0YWlsPiBzcGQgPQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdldFByaXplcyhwcml6ZUluZm8sIGUuZ2V0UHJvZHVjdE51bSgpLCBzY2FuSWQsIGUuZ2V0UHJvZHVjdElkKCkuZ2V0UGFja2luZygpKTsKICAgICAgICAgICAgICAgICAgICAgICAgZS5zZXRBd2FyZEZsYWcoMSk7CiAgICAgICAgICAgICAgICAgICAgICAgIEViZWFuLmJlZ2luVHJhbnNhY3Rpb24oKTsKICAgICAgICAgICAgICAgICAgICAgICAgRWJlYW4uc2F2ZShzcGQpOwogICAgICAgICAgICAgICAgICAgICAgICBFYmVhbi5zYXZlKGUpOwogICAgICAgICAgICAgICAgICAgICAgICBFYmVhbi5jb21taXRUcmFuc2FjdGlvbigpOwogICAgICAgICAgICAgICAgICAgICAgICAvL+ajgOafpeWQhOS4quetiee6p+WlluWNoeaVsOmHj+eUn+aIkOaYr+WQpuato+ehru+8jOWmguaenOacieWImeS/ruaUuSLosKLosKLlk4HlsJ0i5aWW5Y2hICAyMDE3LTUtMiAgIGhlbHkgIHN0YXJ0CiAgICAgICAgICAgICAgICAgICAgICAgIGF3YXJkT3JkZXJTZXJ2aWNlLmNoZWNrUHJpemVFdmVudChzY2FuSWQpOwogICAgICAgICAgICAgICAgICAgICAgICAvL+ajgOafpeWQhOS4quetiee6p+WlluWNoeaVsOmHj+eUn+aIkOaYr+WQpuato+ehru+8jOWmguaenOacieWImeS/ruaUuSLosKLosKLlk4HlsJ0i5aWW5Y2hICAyMDE3LTUtMiAgIGhlbHkgIGVuZAogICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBlMikgewogICAgICAgICAgICAgICAgICAgICAgICBlLnNldEF3YXJkRmxhZygwKTsKICAgICAgICAgICAgICAgICAgICAgICAgRWJlYW4udXBkYXRlKGUpOwogICAgICAgICAgICAgICAgICAgICAgICBMb2dnZXIuZXJyb3IoIue6v+eoi+eUn+aIkOWlluWNoSIsIGUyKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0uc3RhcnQoKTsKICAgICAgICAgICAgbWFwLnB1dCgic3VjY2VzcyIsIHRydWUpOwogICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBlMSkgewogICAgICAgICAgICAvLyDmlLnmiJDmnKrlrozmiJDnirbmgIEKICAgICAgICAgICAgZS5zZXRBd2FyZEZsYWcoMCk7CiAgICAgICAgICAgIEViZWFuLnVwZGF0ZShlKTsKICAgICAgICAgICAgbWFwLnB1dCgic3VjY2VzcyIsIGZhbHNlKTsKICAgICAgICAgICAgTG9nZ2VyLmVycm9yKCLnlJ/miJDlpZbljaEiLCBlMSk7CiAgICAgICAgfQogICAgICAgIHJldHVybiBvayhKc29uLnRvSnNvbihtYXApKTsKICAgIH0KCgogICAgLyoqCiAgICAgKiBAcGFyYW0gcHog5aWW5ZOBanNvbgogICAgICogQHBhcmFtIHByb2R1Y3ROdW0g5oqV5aWW5pWwCiAgICAgKiBAcGFyYW0gc2NhbklkIOaKleWllmlkCiAgICAgKiBAcGFyYW0gc2l6ZSDop4TmoLwKICAgICAqIEByZXR1cm4KICAgICAqIEBhdXRob3Igc3VubAogICAgICovCiAgICBwcml2YXRlIExpc3Q8U2NhblByaXplRGV0YWlsPiBnZXRQcml6ZXMoTGlzdDxQcml6ZUluZm8+IHBJbmZvcywgSW50ZWdlciBwcm9kdWN0TnVtLCBJbnRlZ2VyIHNjYW5JZCwgSW50ZWdlciBzaXplKSB7CiAgICAgICAgLy/mr4/nrrHlpZbljaHnu5PlkIgKICAgICAgICBMaXN0PFNjYW5Qcml6ZURldGFpbD4gYmFzaWNTY2FuUHJpemVEZXRhaWwgPSBuZXcgQXJyYXlMaXN0PFNjYW5Qcml6ZURldGFpbD4oKTsKICAgICAgICAvL+WJqeS9membhuWQiAogICAgICAgIExpc3Q8U2NhblByaXplRGV0YWlsPiBwZWFyTGlzdCA9IG5ldyBBcnJheUxpc3Q8U2NhblByaXplRGV0YWlsPigpOwogICAgICAgIGZvciAoUHJpemVJbmZvIHBJbmZvIDogcEluZm9zKSB7CiAgICAgICAgICAgIC8v5Lit5aWW5Liq5pWwCiAgICAgICAgICAgIEludGVnZXIgY291bnQgPSBwSW5mby5nZXRBd2FyZE51bSgpOwogICAgICAgICAgICAvL+euseaVsAogICAgICAgICAgICBJbnRlZ2VyIGJveE51bSA9IHBJbmZvLmdldEJveE51bSgpOwogICAgICAgICAgICBpZiAoY291bnQgPj0gYm94TnVtICYmIDEwICE9IHBJbmZvLmdldExldmVsKCkpIHsKICAgICAgICAgICAgICAgIC8v5q+P566x5Lit55qE5Liq5pWwCiAgICAgICAgICAgICAgICBJbnRlZ2VyIHBlYXIgPSBjb3VudCAvIGJveE51bTsKICAgICAgICAgICAgICAgIC8v5L2Z5pWw5aSE55CGCiAgICAgICAgICAgICAgICBpZihjb3VudCVib3hOdW0hPTApewogICAgICAgICAgICAgICAgICBpbnQgcGVhck51bSA9IHBJbmZvLmdldE51bSgpIC0gcGVhcipwcm9kdWN0TnVtL3NpemU7CiAgICAgICAgICAgICAgICAgIGZvciAoaW50IGkgPSAwOyBpIDxwZWFyTnVtOyBpKyspIHsKICAgICAgICAgICAgICAgICAgICBTY2FuUHJpemVEZXRhaWwgZW50aXR5ID0gbmV3IFNjYW5Qcml6ZURldGFpbCgpOwogICAgICAgICAgICAgICAgICAgIGVudGl0eS5zZXRBZGRGbGFnKDApOwogICAgICAgICAgICAgICAgICAgIGVudGl0eS5zZXRMZXZlbChwSW5mby5nZXRMZXZlbCgpKTsKICAgICAgICAgICAgICAgICAgICBlbnRpdHkuc2V0UHJpemUocEluZm8uZ2V0UHJpemUoKSk7CiAgICAgICAgICAgICAgICAgICAgZW50aXR5LnNldFNjYW5JZChwSW5mby5nZXRTY2FuSWQoKSk7CiAgICAgICAgICAgICAgICAgICAgZW50aXR5LnNldFNlbmRUeXBlKHBJbmZvLmdldFNlbmRUeXBlKCkpOwogICAgICAgICAgICAgICAgICAgIGVudGl0eS5zZXRTY2FuRmxhZygwKTsKICAgICAgICAgICAgICAgICAgICBlbnRpdHkuc2V0UmVjZWl2ZUZsYWcoMCk7CiAgICAgICAgICAgICAgICAgICAgcGVhckxpc3QuYWRkKGVudGl0eSk7CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICBmb3IgKGludCBpID0gMDsgaSA8IHBlYXI7IGkrKykgewogICAgICAgICAgICAgICAgICAgIFNjYW5Qcml6ZURldGFpbCBlbnRpdHkgPSBuZXcgU2NhblByaXplRGV0YWlsKCk7CiAgICAgICAgICAgICAgICAgICAgZW50aXR5LnNldEFkZEZsYWcoMCk7CiAgICAgICAgICAgICAgICAgICAgZW50aXR5LnNldExldmVsKHBJbmZvLmdldExldmVsKCkpOwogICAgICAgICAgICAgICAgICAgIGVudGl0eS5zZXRQcml6ZShwSW5mby5nZXRQcml6ZSgpKTsKICAgICAgICAgICAgICAgICAgICBlbnRpdHkuc2V0U2NhbklkKHBJbmZvLmdldFNjYW5JZCgpKTsKICAgICAgICAgICAgICAgICAgICBlbnRpdHkuc2V0U2VuZFR5cGUocEluZm8uZ2V0U2VuZFR5cGUoKSk7CiAgICAgICAgICAgICAgICAgICAgZW50aXR5LnNldFNjYW5GbGFnKDApOwogICAgICAgICAgICAgICAgICAgIGVudGl0eS5zZXRSZWNlaXZlRmxhZygwKTsKICAgICAgICAgICAgICAgICAgICBiYXNpY1NjYW5Qcml6ZURldGFpbC5hZGQoZW50aXR5KTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICAvL+avj+euseWJqeS9meeahOmDqOWIhuS4uuiwouiwouaDoOmhvgogICAgICAgIEludGVnZXIgc3VycGx1cyA9IHNpemUgLSBiYXNpY1NjYW5Qcml6ZURldGFpbC5zaXplKCk7CiAgICAgICAgZm9yIChpbnQgaSA9IDA7IGkgPCBzdXJwbHVzOyBpKyspIHsKICAgICAgICAgICAgU2NhblByaXplRGV0YWlsIHRoYW5rUHJpemUgPSBuZXcgU2NhblByaXplRGV0YWlsKCk7CiAgICAgICAgICAgIHRoYW5rUHJpemUuc2V0QWRkRmxhZygwKTsKICAgICAgICAgICAgdGhhbmtQcml6ZS5zZXRMZXZlbCgxMCk7CiAgICAgICAgICAgIHRoYW5rUHJpemUuc2V0UHJpemUoIuiwouiwouWTgeWwnSIpOwogICAgICAgICAgICB0aGFua1ByaXplLnNldFNjYW5JZChzY2FuSWQpOwogICAgICAgICAgICB0aGFua1ByaXplLnNldFNlbmRUeXBlKDEpOwogICAgICAgICAgICB0aGFua1ByaXplLnNldFNjYW5GbGFnKDApOwogICAgICAgICAgICB0aGFua1ByaXplLnNldFJlY2VpdmVGbGFnKDApOwogICAgICAgICAgICBiYXNpY1NjYW5Qcml6ZURldGFpbC5hZGQodGhhbmtQcml6ZSk7CiAgICAgICAgfQogICAgICAgIC8v5aWW5Y2h6ZuG5ZCICiAgICAgICAgTWFwPEludGVnZXIsIExpc3Q8U2NhblByaXplRGV0YWlsPj4gbWFwUHJpemVJbmZvcyA9IG5ldyBIYXNoTWFwPEludGVnZXIsIExpc3Q8U2NhblByaXplRGV0YWlsPj4oKTsKICAgICAgICAvL+avj+e7hOeuseaVsAogICAgICAgIEludGVnZXIgZ3JvdXBOdW0gPSBwcm9kdWN0TnVtIC8gc2l6ZTsKICAgICAgICAvL+eUn+aIkOWlluWNoQogICAgICAgIGZvciAoaW50IGkgPSAwOyBpIDwgZ3JvdXBOdW07IGkrKykgewogICAgICAgICAgICBMaXN0PFNjYW5Qcml6ZURldGFpbD4gcHJpemVJbmZvcyA9IG5ldyBBcnJheUxpc3Q8U2NhblByaXplRGV0YWlsPigpOwogICAgICAgICAgICBSYW5kb20gciA9IG5ldyBSYW5kb20oKTsKICAgICAgICAgICAgSW50ZWdlciBzZWVkID0gci5uZXh0SW50KHNpemUpOwogICAgICAgICAgICBmb3IgKGludCBqID0gc2VlZDsgaiA8IHNlZWQgKyBzaXplOyBqKyspIHsKICAgICAgICAgICAgICAgIFNjYW5Qcml6ZURldGFpbCBiUHJpemUgPSBiYXNpY1NjYW5Qcml6ZURldGFpbC5nZXQoaiAlIHNpemUpOwogICAgICAgICAgICAgICAgU2NhblByaXplRGV0YWlsIG5ld1ByaXplID0gbmV3IFNjYW5Qcml6ZURldGFpbCgpOwogICAgICAgICAgICAgICAgbmV3UHJpemUuc2V0QWRkRmxhZyhiUHJpemUuZ2V0QWRkRmxhZygpKTsKICAgICAgICAgICAgICAgIG5ld1ByaXplLnNldExldmVsKGJQcml6ZS5nZXRMZXZlbCgpKTsKICAgICAgICAgICAgICAgIG5ld1ByaXplLnNldFByaXplKGJQcml6ZS5nZXRQcml6ZSgpKTsKICAgICAgICAgICAgICAgIG5ld1ByaXplLnNldFNjYW5JZChiUHJpemUuZ2V0U2NhbklkKCkpOwogICAgICAgICAgICAgICAgbmV3UHJpemUuc2V0U2VuZFR5cGUoYlByaXplLmdldFNlbmRUeXBlKCkpOwogICAgICAgICAgICAgICAgbmV3UHJpemUuc2V0U2NhbkZsYWcoYlByaXplLmdldFNjYW5GbGFnKCkpOwogICAgICAgICAgICAgICAgbmV3UHJpemUuc2V0UmVjZWl2ZUZsYWcoYlByaXplLmdldFJlY2VpdmVGbGFnKCkpOwogICAgICAgICAgICAgICAgcHJpemVJbmZvcy5hZGQobmV3UHJpemUpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIG1hcFByaXplSW5mb3MucHV0KGksIHByaXplSW5mb3MpOwogICAgICAgIH0KICAgICAgICAvL+maj+acuuWIhuWPkeWlluWTgQogICAgICAgIE1hcDxJbnRlZ2VyLCBJbnRlZ2VyPiByZXBlYXQgPSBuZXcgSGFzaE1hcDxJbnRlZ2VyLCBJbnRlZ2VyPigpOwogICAgICAgIGZvciAoUHJpemVJbmZvIHBJbmZvIDogcEluZm9zKSB7CiAgICAgICAgICAgIC8v5Lit5aWW5Liq5pWwCiAgICAgICAgICAgIEludGVnZXIgY291bnQgPSBwSW5mby5nZXRBd2FyZE51bSgpOwogICAgICAgICAgICAvL+euseaVsAogICAgICAgICAgICBJbnRlZ2VyIGJveE51bSA9IHBJbmZvLmdldEJveE51bSgpOwogICAgICAgICAgICBpZiAoY291bnQgPCBib3hOdW0gJiYgMTAgIT0gcEluZm8uZ2V0TGV2ZWwoKSkgewogICAgICAgICAgICAgICAgZm9yIChpbnQgaSA9IDA7IGkgPCBncm91cE51bSAvIGJveE51bTsgaSsrKSB7CgogICAgICAgICAgICAgICAgICAgIGZvciAoaW50IGsgPSAwOyBrIDwgY291bnQ7IGsrKykgewogICAgICAgICAgICAgICAgICAgICAgICBTY2FuUHJpemVEZXRhaWwgZW50aXR5ID0gbmV3IFNjYW5Qcml6ZURldGFpbCgpOwogICAgICAgICAgICAgICAgICAgICAgICBlbnRpdHkuc2V0QWRkRmxhZygwKTsKICAgICAgICAgICAgICAgICAgICAgICAgZW50aXR5LnNldExldmVsKHBJbmZvLmdldExldmVsKCkpOwogICAgICAgICAgICAgICAgICAgICAgICBlbnRpdHkuc2V0UHJpemUocEluZm8uZ2V0UHJpemUoKSk7CiAgICAgICAgICAgICAgICAgICAgICAgIGVudGl0eS5zZXRTY2FuSWQocEluZm8uZ2V0U2NhbklkKCkpOwogICAgICAgICAgICAgICAgICAgICAgICBlbnRpdHkuc2V0U2VuZFR5cGUocEluZm8uZ2V0U2VuZFR5cGUoKSk7CiAgICAgICAgICAgICAgICAgICAgICAgIGVudGl0eS5zZXRTY2FuRmxhZygwKTsKICAgICAgICAgICAgICAgICAgICAgICAgZW50aXR5LnNldFJlY2VpdmVGbGFnKDApOwogICAgICAgICAgICAgICAgICAgICAgICBSYW5kb20gciA9IG5ldyBSYW5kb20oKTsKICAgICAgICAgICAgICAgICAgICAgICAgaW50IGluID0gci5uZXh0SW50KGJveE51bSkgKyBib3hOdW0gKiBpOwogICAgICAgICAgICAgICAgICAgICAgICB3aGlsZSAocmVwZWF0LmNvbnRhaW5zS2V5KGluKSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgaW4gPSByLm5leHRJbnQoYm94TnVtKSArIGJveE51bSAqIGk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgcmVwZWF0LnB1dChpbiwgaW4pOwogICAgICAgICAgICAgICAgICAgICAgICAvL+maj+acuuaUvuWFpQogICAgICAgICAgICAgICAgICAgICAgICBMaXN0PFNjYW5Qcml6ZURldGFpbD4gbHAgPSBtYXBQcml6ZUluZm9zLmdldChpbik7CiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoaW50IGogPSAwOyBqIDwgbHAuc2l6ZSgpOyBqKyspIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgxMCA9PSBscC5nZXQoaikuZ2V0TGV2ZWwoKSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxwLnNldChqLCBlbnRpdHkpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICByZXBlYXQuY2xlYXIoKTsKICAgICAgICB9CiAgICAgICAgLy/nu5Pmnpzpm4blkIgKICAgICAgICBMaXN0PFNjYW5Qcml6ZURldGFpbD4gbGlzdCA9IG5ldyBBcnJheUxpc3Q8U2NhblByaXplRGV0YWlsPigpOwogICAgICAgIGZvciAoaW50IGkgPSAwOyBpIDwgZ3JvdXBOdW07IGkrKykgewogICAgICAgICAgICBsaXN0LmFkZEFsbChtYXBQcml6ZUluZm9zLmdldChpKSk7CiAgICAgICAgfQogICAgICAgIC8v5aSE55CG5Ymp5L2ZCiAgICAgICAgaW50IGsgPSAwOwogICAgICAgIGZvciAoaW50IGkgPSAwOyBpIDwgcGVhckxpc3Quc2l6ZSgpOyBpKyspIHsKICAgICAgICAgIGZvciAoaW50IGogPSBrOyBqIDwgbGlzdC5zaXplKCk7IGorKykgewogICAgICAgICAgICBpZiAoMTAgPT0gbGlzdC5nZXQoaikuZ2V0TGV2ZWwoKSkgewogICAgICAgICAgICAgIGxpc3Quc2V0KGosIHBlYXJMaXN0LmdldChpKSk7CiAgICAgICAgICAgICAgayA9IGo7CiAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0KICAgICAgICByZXR1cm4gbGlzdDsKICAgIH0KCiAgICAvKioKICAgICAqIOS4gOauteaXtumXtOS4jeiDvemHjeWkjea3u+WKoOaKleWllgogICAgICogCiAgICAgKiBAcGFyYW0gY29tcGFueUlkCiAgICAgKiBAcGFyYW0gcHJvZHVjdAogICAgICogQHBhcmFtIGRpc3RyaWN0SW5mbwogICAgICogQHJldHVybgogICAgICovCiAgICBwcml2YXRlIFNjYW5FdmVudCBnZXRTY2FuRXZlbnQoSW50ZWdlciBjb21wYW55SWQsIFByb2R1Y3QgcHJvZHVjdCwgRGlzdHJpY3RJbmZvIGRpc3RyaWN0SW5mbykgewogICAgICAgIFNjYW5FdmVudCBlID0gbnVsbDsKICAgICAgICBFeHByZXNzaW9uTGlzdDxTY2FuRXZlbnQ+IGVscyA9CiAgICAgICAgICAgICAgICBFYmVhbi5maW5kKFNjYW5FdmVudC5jbGFzcykuZmV0Y2goInByb2R1Y3RJZCIpLmZldGNoKCJkaXN0cmljdCIpLndoZXJlKCkuZXEoImNvbXBhbnlJZCIsIGNvbXBhbnlJZCkKICAgICAgICAgICAgICAgICAgICAgICAgLmVxKCJkZWxGbGFnIiwgMCkuZXEoInByb2R1Y3RJZCIsIHByb2R1Y3QpLmVxKCJhd2FyZEZsYWciLCAwKTsKICAgICAgICBpZiAoZGlzdHJpY3RJbmZvLmdldElkKCkgPT0gMCkgewogICAgICAgICAgICBlID0gZWxzLmZpbmRVbmlxdWUoKTsKICAgICAgICAgICAgcmV0dXJuIGU7CiAgICAgICAgfQogICAgICAgIC8v5YWo5Zu9CiAgICAgICAgRGlzdHJpY3RJbmZvIGRpcyA9IEViZWFuLmZpbmQoRGlzdHJpY3RJbmZvLmNsYXNzKS53aGVyZSgpLmVxKCJpZCIsIDApLmZpbmRVbmlxdWUoKTsKICAgICAgICAvL+WFqOecgQogICAgICAgIERpc3RyaWN0SW5mbyBkaXNQcm92aW5jZSA9CiAgICAgICAgICAgICAgICBFYmVhbi5maW5kKERpc3RyaWN0SW5mby5jbGFzcykud2hlcmUoKS5lcSgicHJvdmluY2VDb2RlIiwgZGlzdHJpY3RJbmZvLmdldFByb3ZpbmNlQ29kZSgpKS5lcSgiY2l0eUNvZGUiLCAwKQogICAgICAgICAgICAgICAgICAgICAgICAuZXEoImRpc3RyaWN0Q29kZSIsIDApLmZpbmRVbmlxdWUoKTsKICAgICAgICAvL+WFqOW4ggogICAgICAgIERpc3RyaWN0SW5mbyBjaXR5ID0KICAgICAgICAgICAgICAgIEViZWFuLmZpbmQoRGlzdHJpY3RJbmZvLmNsYXNzKS53aGVyZSgpLmVxKCJwcm92aW5jZUNvZGUiLCBkaXN0cmljdEluZm8uZ2V0UHJvdmluY2VDb2RlKCkpCiAgICAgICAgICAgICAgICAgICAgICAgIC5lcSgiY2l0eUNvZGUiLCBkaXN0cmljdEluZm8uZ2V0Q2l0eUNvZGUoKSkuZXEoImRpc3RyaWN0Q29kZSIsIDApLmZpbmRVbmlxdWUoKTsKCiAgICAgICAgRXhwcmVzc2lvbiBvcjEgPSBFeHByLmVxKCJkaXN0cmljdCIsIGRpc3RyaWN0SW5mbyk7CiAgICAgICAgRXhwcmVzc2lvbiBvcjIgPSBFeHByLmVxKCJkaXN0cmljdCIsIGRpcyk7CiAgICAgICAgRXhwcmVzc2lvbiBvcjMgPSBFeHByLmVxKCJkaXN0cmljdCIsIGRpc1Byb3ZpbmNlKTsKICAgICAgICBFeHByZXNzaW9uIG9yNCA9IEV4cHIuZXEoImRpc3RyaWN0IiwgY2l0eSk7CiAgICAgICAgLy8KICAgICAgICBFeHByZXNzaW9uIG9yNSA9IEV4cHIub3Iob3IxLCBvcjIpOwogICAgICAgIEV4cHJlc3Npb24gb3I2ID0gRXhwci5vcihvcjMsIG9yNCk7CiAgICAgICAgLy/mn6Xor6LmipXlpZbmtLvliqgKICAgICAgICBlID0gZWxzLm9yKG9yNSwgb3I2KS5maW5kVW5pcXVlKCk7CiAgICAgICAgcmV0dXJuIGU7CiAgICB9CgogICAgLyoqCiAgICAgKiAKICAgICAqIEBwYXJhbSBkb21haW4KICAgICAqIEBwYXJhbSBzY2FuSWQKICAgICAqIEByZXR1cm4KICAgICAqLwogICAgcHVibGljIFJlc3VsdCBhcHBlbmRFdmVudChTdHJpbmcgZG9tYWluLCBJbnRlZ2VyIHNjYW5JZCkgewogICAgICAgIEh0dHAuQ29udGV4dCBjdHggPSBIdHRwLkNvbnRleHQuY3VycmVudC5nZXQoKTsKICAgICAgICBDb21wYW55IGNvbXAgPSAoQ29tcGFueSkgY3R4LmFyZ3MuZ2V0KENvbXBhbnlMb2FkZXIuQ09NUEFOWV9BUkdfS0VZKTsKICAgICAgICAvL+i/lOWbnue7k+aenAogICAgICAgIE1hcDxTdHJpbmcsIE9iamVjdD4gcmVzdWx0ID0gbmV3IEhhc2hNYXA8U3RyaW5nLCBPYmplY3Q+KCk7CiAgICAgICAgdHJ5IHsKICAgICAgICAgICAgU2NhbkV2ZW50IGV2ZW50ID0KICAgICAgICAgICAgICAgICAgICBFYmVhbi5maW5kKFNjYW5FdmVudC5jbGFzcykuZmV0Y2goInByb2R1Y3RJZCIpLmZldGNoKCJkaXN0cmljdCIpLndoZXJlKCkuZXEoImNvbXBhbnlJZCIsIGNvbXAuaWQpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuZXEoImRlbEZsYWciLCAwKS5lcSgic2NhbklkIiwgc2NhbklkKS5maW5kVW5pcXVlKCk7CiAgICAgICAgICAgIHJlc3VsdC5wdXQoInJvb3QiLCBldmVudCk7CiAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHsKICAgICAgICAgICAgTG9nZ2VyLmVycm9yKCJQcml6ZU1hbmFnZXItYXBwZW5kRXZlbnQiLCBlKTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIG9rKEpzb24udG9Kc29uKHJlc3VsdCkpOwogICAgfQoKICAgIC8qKgogICAgICogCiAgICAgKiBAcGFyYW0gZG9tYWluCiAgICAgKiBAcmV0dXJuCiAgICAgKi8KICAgIHB1YmxpYyBSZXN1bHQgYXBwZW5kUHJpemUoU3RyaW5nIGRvbWFpbikgewogICAgICAgIEh0dHAuQ29udGV4dCBjdHggPSBIdHRwLkNvbnRleHQuY3VycmVudC5nZXQoKTsKICAgICAgICBDb21wYW55IGNvbXAgPSAoQ29tcGFueSkgY3R4LmFyZ3MuZ2V0KENvbXBhbnlMb2FkZXIuQ09NUEFOWV9BUkdfS0VZKTsKICAgICAgICBNYXA8U3RyaW5nLCBPYmplY3Q+IHJlc3VsdCA9IG5ldyBIYXNoTWFwPFN0cmluZywgT2JqZWN0PigpOwogICAgICAgIGZpbmFsIEludGVnZXIgc2NhbklkID0gcmVxdWVzdCgpLmJvZHkoKS5hc0pzb24oKS5nZXQoInNjYW5JZCIpLmFzSW50KCk7CiAgICAgICAgLy/mn6Xor6LmtLvliqgKICAgICAgICBmaW5hbCBTY2FuRXZlbnQgZXZlbnQgPQogICAgICAgICAgICAgICAgRWJlYW4uZmluZChTY2FuRXZlbnQuY2xhc3MpLmZldGNoKCJwcm9kdWN0SWQiKS5mZXRjaCgiZGlzdHJpY3QiKS53aGVyZSgpLmVxKCJjb21wYW55SWQiLCBjb21wLmlkKQogICAgICAgICAgICAgICAgICAgICAgICAuZXEoImRlbEZsYWciLCAwKS5lcSgic2NhbklkIiwgc2NhbklkKS5maW5kVW5pcXVlKCk7CiAgICAgICAgdHJ5IHsKICAgICAgICAgICAgLy/lvIDlkK/kuovniakKICAgICAgICAgICAgRWJlYW4uYmVnaW5UcmFuc2FjdGlvbigpOwogICAgICAgICAgICAvL+WFkeaNoue7k+adn+aXtumXtAogICAgICAgICAgICBTdHJpbmcgZW5kRGF0ZSA9IHJlcXVlc3QoKS5ib2R5KCkuYXNKc29uKCkuZ2V0KCJlbmREYXRlIikuYXNUZXh0KCk7CiAgICAgICAgICAgIGV2ZW50LnNldEVuZERhdGUobmV3IGphdmEuc3FsLkRhdGUoRGF0ZU1hbmFnbWVudC5zdHJpbmdUb0RhdGUoRGF0ZU1hbmFnbWVudC5EQVRFX1lZWVlfTU1fREQsIGVuZERhdGUpLmdldFRpbWUoKSkpOwogICAgICAgICAgICAvL+W8gOWni+WHuuW6k+aXtumXtAogICAgICAgICAgICBTdHJpbmcgb3V0QmVnaW5EYXRlID0gcmVxdWVzdCgpLmJvZHkoKS5hc0pzb24oKS5nZXQoIm91dEJlZ2luRGF0ZSIpLmFzVGV4dCgpOwogICAgICAgICAgICBldmVudC5zZXRPdXRiZWdpbkRhdGUobmV3IGphdmEuc3FsLkRhdGUoRGF0ZU1hbmFnbWVudC5zdHJpbmdUb0RhdGUoRGF0ZU1hbmFnbWVudC5EQVRFX1lZWVlfTU1fREQsIG91dEJlZ2luRGF0ZSkKICAgICAgICAgICAgICAgICAgICAuZ2V0VGltZSgpKSk7CiAgICAgICAgICAgIC8v6L+95Yqg5pWwCiAgICAgICAgICAgIGZpbmFsIEludGVnZXIgbnVtID0gcmVxdWVzdCgpLmJvZHkoKS5hc0pzb24oKS5nZXQoIm51bSIpLmFzSW50KCk7CiAgICAgICAgICAgIGlmIChFbXB0eVV0aWwuaXNOb3RFbXB0eShudW0pICYmICFudW0uZXF1YWxzKDApKSB7CiAgICAgICAgICAgICAgICBmaW5hbCBJbnRlZ2VyIHByb2R1Y3ROdW0gPSBldmVudC5nZXRQcm9kdWN0TnVtKCk7CiAgICAgICAgICAgICAgICBldmVudC5zZXRHcm91cG51bShldmVudC5nZXRHcm91cG51bSgpICsgbnVtKTsKICAgICAgICAgICAgICAgIC8v5Lqn5ZOB5pWwCiAgICAgICAgICAgICAgICBldmVudC5zZXRQcm9kdWN0TnVtKGV2ZW50LmdldFByb2R1Y3ROdW0oKSArIG51bSAqIGV2ZW50LmdldFByb2R1Y3RJZCgpLmdldFBhY2tpbmcoKSk7CiAgICAgICAgICAgICAgICAvLyDmlLnmiJDnlJ/miJDkuK3nirbmgIEKICAgICAgICAgICAgICAgIGV2ZW50LnNldEF3YXJkRmxhZygyKTsKICAgICAgICAgICAgICAgIEViZWFuLnVwZGF0ZShldmVudCk7CiAgICAgICAgICAgICAgICBmaW5hbCBMaXN0PFByaXplSW5mbz4gcHJpemVJbmZvID0KICAgICAgICAgICAgICAgICAgICAgICAgRWJlYW4uZmluZChQcml6ZUluZm8uY2xhc3MpLndoZXJlKCkuZXEoInNjYW5JZCIsIHNjYW5JZCkub3JkZXIoImxldmVsIGRlc2MiKS5maW5kTGlzdCgpOwogICAgICAgICAgICAgICAgaW50W10gbXVscyA9IG5ldyBpbnRbcHJpemVJbmZvLnNpemUoKV07CiAgICAgICAgICAgICAgICBmb3IgKGludCBtID0gMDsgbSA8IG11bHMubGVuZ3RoOyBtKyspIHsKICAgICAgICAgICAgICAgICAgICBtdWxzW21dID0gcHJpemVJbmZvLmdldChtKS5nZXRCb3hOdW0oKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGludCBtbXVsID0gQ29tbW9uU2VuZC5nZXRNdWx0aXBsZShtdWxzKTsKICAgICAgICAgICAgICAgIGlmIChudW0gJSBtbXVsICE9IDApIHsKICAgICAgICAgICAgICAgICAgICByZXN1bHQucHV0KCJzdWNjZXNzIiwgZmFsc2UpOwogICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXQoIm1zZyIsICLov73liqDnmoTmlbDph4/lv4XpobvmmK8iICsgbW11bCArICLnmoTmlbTlgI3mlbAhIik7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG9rKEpzb24udG9Kc29uKHJlc3VsdCkpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgbmV3IFRocmVhZCgpIHsKICAgICAgICAgICAgICAgICAgICBAT3ZlcnJpZGUKICAgICAgICAgICAgICAgICAgICBwdWJsaWMgdm9pZCBydW4oKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBMaXN0PFNjYW5Qcml6ZURldGFpbD4gc3BkID0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2V0UHJpemVzKHByaXplSW5mbywgbnVtICogZXZlbnQuZ2V0UHJvZHVjdElkKCkuZ2V0UGFja2luZygpLCBzY2FuSWQsIGV2ZW50LmdldFByb2R1Y3RJZCgpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmdldFBhY2tpbmcoKSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBldmVudC5zZXRBd2FyZEZsYWcoMSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBFYmVhbi5iZWdpblRyYW5zYWN0aW9uKCk7CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgLy/mm7TmlLnlpZblk4Hkv6Hmga8KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoUHJpemVJbmZvIG9ial9QcmkgOiBwcml6ZUluZm8pIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYmpfUHJpLnNldE51bSgob2JqX1ByaS5nZXROdW0oKSAqIG51bSAqIGV2ZW50LmdldFByb2R1Y3RJZCgpLmdldFBhY2tpbmcoKSAvIHByb2R1Y3ROdW0pCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICArIG9ial9QcmkuZ2V0TnVtKCkpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEViZWFuLnVwZGF0ZShvYmpfUHJpKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIEViZWFuLnNhdmUoc3BkKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIEViZWFuLnNhdmUoZXZlbnQpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgRWJlYW4uY29tbWl0VHJhbnNhY3Rpb24oKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8v5qOA5p+l5ZCE5Liq562J57qn5aWW5Y2h5pWw6YeP55Sf5oiQ5piv5ZCm5q2j56Gu77yM5aaC5p6c5pyJ5YiZ5L+u5pS5IuiwouiwouWTgeWwnSLlpZbljaEgIDIwMTctNS0yICAgaGVseSAgc3RhcnQKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF3YXJkT3JkZXJTZXJ2aWNlLmNoZWNrUHJpemVFdmVudChzY2FuSWQpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgLy/mo4Dmn6XlkITkuKrnrYnnuqflpZbljaHmlbDph4/nlJ/miJDmmK/lkKbmraPnoa7vvIzlpoLmnpzmnInliJnkv67mlLki6LCi6LCi5ZOB5bCdIuWlluWNoSAgMjAxNy01LTIgICBoZWx5ICBlbmQKICAgICAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUyKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBldmVudC5zZXRBd2FyZEZsYWcoMCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBFYmVhbi51cGRhdGUoZXZlbnQpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgTG9nZ2VyLmVycm9yKCLnur/nqIvnlJ/miJDlpZbljaEiLCBlMik7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9LnN0YXJ0KCk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgRWJlYW4uY29tbWl0VHJhbnNhY3Rpb24oKTsKICAgICAgICAgICAgcmVzdWx0LnB1dCgic3VjY2VzcyIsIHRydWUpOwogICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7CiAgICAgICAgICAgIGV2ZW50LnNldEF3YXJkRmxhZygwKTsKICAgICAgICAgICAgRWJlYW4udXBkYXRlKGUpOwogICAgICAgICAgICByZXN1bHQucHV0KCJzdWNjZXNzIiwgZmFsc2UpOwogICAgICAgICAgICBMb2dnZXIuZXJyb3IoIlByaXplTWFuYWdlci1hcHBlbmRQcml6ZSIsIGUpOwogICAgICAgIH0gZmluYWxseSB7CiAgICAgICAgICAgIEViZWFuLmVuZFRyYW5zYWN0aW9uKCk7CiAgICAgICAgfQogICAgICAgIHJldHVybiBvayhKc29uLnRvSnNvbihyZXN1bHQpKTsKICAgIH0KCiAgICAvKioKICAgICAqIAogICAgICogQHBhcmFtIGRvbWFpbgogICAgICogQHBhcmFtIHNjYW5JZAogICAgICogQHJldHVybgogICAgICovCiAgICBwdWJsaWMgUmVzdWx0IHN0YXRpc3RpY3MoU3RyaW5nIGRvbWFpbiwgSW50ZWdlciBzY2FuSWQpIHsKICAgICAgICBIdHRwLkNvbnRleHQgY3R4ID0gSHR0cC5Db250ZXh0LmN1cnJlbnQuZ2V0KCk7CiAgICAgICAgQ29tcGFueSBjb21wID0gKENvbXBhbnkpIGN0eC5hcmdzLmdldChDb21wYW55TG9hZGVyLkNPTVBBTllfQVJHX0tFWSk7CiAgICAgICAgcmV0dXJuIG9rKHNjYW5FdmVudFN0YXRpc3RpY3MucmVuZGVyKGNvbXAsIHNjYW5JZCkpOwogICAgfQoKICAgIC8qKgogICAgICogCiAgICAgKiBAcGFyYW0gZG9tYWluCiAgICAgKiBAcGFyYW0gc2NhbklkCiAgICAgKiBAcmV0dXJuCiAgICAgKi8KICAgIHB1YmxpYyBSZXN1bHQgcmVwb3J0KFN0cmluZyBkb21haW4sIEludGVnZXIgc2NhbklkKSB7CiAgICAgICAgSHR0cC5Db250ZXh0IGN0eCA9IEh0dHAuQ29udGV4dC5jdXJyZW50LmdldCgpOwogICAgICAgIENvbXBhbnkgY29tcCA9IChDb21wYW55KSBjdHguYXJncy5nZXQoQ29tcGFueUxvYWRlci5DT01QQU5ZX0FSR19LRVkpOwogICAgICAgIE1hcDxTdHJpbmcsIE9iamVjdD4gcmVzdWx0ID0gbmV3IEhhc2hNYXA8U3RyaW5nLCBPYmplY3Q+KCk7CiAgICAgICAgdHJ5IHsKICAgICAgICAgICAgTGlzdDxQcml6ZUluZm8+IHByaXplcyA9IEViZWFuLmZpbmQoUHJpemVJbmZvLmNsYXNzKS53aGVyZSgpLmVxKCJzY2FuSWQiLCBzY2FuSWQpLmZpbmRMaXN0KCk7CiAgICAgICAgICAgIC8v5aWW5ZOB5ZCN56ewCiAgICAgICAgICAgIExpc3Q8U3RyaW5nPiBwcml6ZUxpc3RzID0gbmV3IEFycmF5TGlzdDxTdHJpbmc+KCk7CiAgICAgICAgICAgIExpc3Q8TWFwPFN0cmluZywgT2JqZWN0Pj4gbWFwID0gbmV3IEFycmF5TGlzdDxNYXA8U3RyaW5nLCBPYmplY3Q+PigpOwogICAgICAgICAgICBmb3IgKFByaXplSW5mbyBwIDogcHJpemVzKSB7CiAgICAgICAgICAgICAgICBwcml6ZUxpc3RzLmFkZChwLmdldFByaXplKCkpOwogICAgICAgICAgICAgICAgTWFwPFN0cmluZywgT2JqZWN0PiBtID0gbmV3IEhhc2hNYXA8U3RyaW5nLCBPYmplY3Q+KCk7CiAgICAgICAgICAgICAgICBtLnB1dCgibmFtZSIsIHAuZ2V0UHJpemUoKSk7CiAgICAgICAgICAgICAgICBtLnB1dCgidmFsdWUiLCBwLmdldE51bSgpKTsKICAgICAgICAgICAgICAgIG1hcC5hZGQobSk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgLy/nu5HlrprlpZbljaHmlbDph48KICAgICAgICAgICAgSW50ZWdlciBiaW5kUHJpemUgPSBFYmVhbi5maW5kKFNjYW5Qcml6ZURldGFpbC5jbGFzcykud2hlcmUoKS5lcSgic2NhbklkIiwgc2NhbklkKS5lcSgiYWRkRmxhZyIsIDEpLmZpbmRSb3dDb3VudCgpOwogICAgICAgICAgICAvL+acque7keWumgogICAgICAgICAgICBJbnRlZ2VyIHVuQmluZFByaXplID0gRWJlYW4uZmluZChTY2FuUHJpemVEZXRhaWwuY2xhc3MpLndoZXJlKCkuZXEoInNjYW5JZCIsIHNjYW5JZCkuZXEoImFkZEZsYWciLCAwKS5maW5kUm93Q291bnQoKTsKICAgICAgICAgICAgLy/pooblj5YKICAgICAgICAgICAgSW50ZWdlciBzY2FuUHJpemUgPSBFYmVhbi5maW5kKFNjYW5Qcml6ZURldGFpbC5jbGFzcykud2hlcmUoKS5lcSgic2NhbklkIiwgc2NhbklkKS5lcSgic2NhbkZsYWciLCAxKS5maW5kUm93Q291bnQoKTsKICAgICAgICAgICAgLy/kuLrpooblj5YKICAgICAgICAgICAgSW50ZWdlciB1blNjYW5Qcml6ZSA9IEViZWFuLmZpbmQoU2NhblByaXplRGV0YWlsLmNsYXNzKS53aGVyZSgpLmVxKCJzY2FuSWQiLCBzY2FuSWQpLmVxKCJzY2FuRmxhZyIsIDApLmZpbmRSb3dDb3VudCgpOwogICAgICAgICAgICAvL+aKleWlluWQjeensAogICAgICAgICAgICBTY2FuRXZlbnQgZSA9CiAgICAgICAgICAgICAgICAgICAgRWJlYW4uZmluZChTY2FuRXZlbnQuY2xhc3MpLmZldGNoKCJwcm9kdWN0SWQiKS5mZXRjaCgiZGlzdHJpY3QiKS53aGVyZSgpLmVxKCJjb21wYW55SWQiLCBjb21wLmlkKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgLm5lKCJkZWxGbGFnIiwgMSkuZXEoInNjYW5JZCIsIHNjYW5JZCkuZmluZFVuaXF1ZSgpOwogICAgICAgICAgICByZXN1bHQucHV0KCJwcml6ZXMiLCBwcml6ZUxpc3RzKTsKICAgICAgICAgICAgcmVzdWx0LnB1dCgiZGF0YSIsIG1hcCk7CiAgICAgICAgICAgIHJlc3VsdC5wdXQoImJpbmRQcml6ZSIsIGJpbmRQcml6ZSk7CiAgICAgICAgICAgIHJlc3VsdC5wdXQoInVuQmluZFByaXplIiwgdW5CaW5kUHJpemUpOwogICAgICAgICAgICByZXN1bHQucHV0KCJzY2FuUHJpemUiLCBzY2FuUHJpemUpOwogICAgICAgICAgICByZXN1bHQucHV0KCJ1blNjYW5Qcml6ZSIsIHVuU2NhblByaXplKTsKICAgICAgICAgICAgcmVzdWx0LnB1dCgic2NhbkV2ZW50IiwgZSk7CiAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHsKICAgICAgICAgICAgTG9nZ2VyLmVycm9yKCJQcml6ZU1hbmFnZXItcmVwb3J0IiwgZSk7CiAgICAgICAgfQogICAgICAgIHJldHVybiBvayhKc29uLnRvSnNvbihyZXN1bHQpKTsKICAgIH0KCiAgICAvKioKICAgICAqIAogICAgICog5L+u5pS56L6T5YWl6Ziy5Lyq56CB54q25oCBCiAgICAgKiAKICAgICAqIEBhdXRob3Igc3VubAogICAgICogQGRhdGUgMjAxNeW5tDEx5pyIMTbml6UKICAgICAqIEBwYXJhbSBkb21haW4KICAgICAqIEBwYXJhbSBzY2FuSWQKICAgICAqIEBwYXJhbSBmbGFnCiAgICAgKiBAcmV0dXJuCiAgICAgKiBAc2luY2UgMS4wCiAgICAgKi8KICAgIHB1YmxpYyBSZXN1bHQgdXBkYXRlQXV0aENvZGUoU3RyaW5nIGRvbWFpbiwgSW50ZWdlciBzY2FuSWQsIEludGVnZXIgZmxhZykgewogICAgICAgIEh0dHAuQ29udGV4dCBjdHggPSBIdHRwLkNvbnRleHQuY3VycmVudC5nZXQoKTsKICAgICAgICBDb21wYW55IGNvbXAgPSAoQ29tcGFueSkgY3R4LmFyZ3MuZ2V0KENvbXBhbnlMb2FkZXIuQ09NUEFOWV9BUkdfS0VZKTsKICAgICAgICBNYXA8U3RyaW5nLCBPYmplY3Q+IHJlc3VsdCA9IG5ldyBIYXNoTWFwPFN0cmluZywgT2JqZWN0PigpOwogICAgICAgIHRyeSB7CiAgICAgICAgICAgIFNjYW5FdmVudCBldmVudCA9CiAgICAgICAgICAgICAgICAgICAgRWJlYW4uZmluZChTY2FuRXZlbnQuY2xhc3MpLmZldGNoKCJwcm9kdWN0SWQiKS5mZXRjaCgiZGlzdHJpY3QiKS53aGVyZSgpLmVxKCJjb21wYW55SWQiLCBjb21wLmlkKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgLmVxKCJzY2FuSWQiLCBzY2FuSWQpLmZpbmRVbmlxdWUoKTsKICAgICAgICAgICAgZXZlbnQuc2V0QXV0aGNvZGUoZmxhZyk7CiAgICAgICAgICAgIEViZWFuLnVwZGF0ZShldmVudCk7CiAgICAgICAgICAgIHJlc3VsdC5wdXQoInN1Y2Nlc3MiLCB0cnVlKTsKICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gZSkgewogICAgICAgICAgICBMb2dnZXIuZXJyb3IoIuS/ruaUuei+k+WFpemYsuS8queggeeKtuaAgSIsIGUpOwogICAgICAgICAgICByZXN1bHQucHV0KCJzdWNjZXNzIiwgdHJ1ZSk7CiAgICAgICAgfQogICAgICAgIHJldHVybiBvayhKc29uLnRvSnNvbihyZXN1bHQpKTsKICAgIH0KCgoKICAgIC8qKgogICAgICogCiAgICAgKiDlr7zlh7ogLS0g5pyI5bqm5pWw6YeP5Y+K6YeR6aKd5Zu+5L6LCiAgICAgKiAKICAgICAqIEBhdXRob3IgRHgKICAgICAqIEBkYXRlIDIwMTXlubQxMeaciDIz5pelCiAgICAgKiBAcGFyYW0gc2NhbklkCiAgICAgKiBAcmV0dXJuCiAgICAgKiBAdGhyb3dzIEV4Y2VwdGlvbgogICAgICogQHNpbmNlIDEuMAogICAgICovCiAgICBwdWJsaWMgUmVzdWx0IGV4cG9ydENvdW50QW5kTW9uZXkoU3RyaW5nIGRvbWFpbiwgSW50ZWdlciBzY2FuSWQsIFN0cmluZyB5ZWFyKSB0aHJvd3MgRXhjZXB0aW9uIHsKICAgICAgICBCeXRlQXJyYXlJbnB1dFN0cmVhbSBpbiA9IGF3YXJkT3JkZXJTZXJ2aWNlLmV4cG9ydENvdW50QW5kTW9uZXlFeGNlbCh5ZWFyLCBzY2FuSWQpOwogICAgICAgIFN0cmluZyBmaWxlVHlwZSA9ICIueGxzIjsKICAgICAgICByZXNwb25zZSgpLnNldEhlYWRlcigiQ29udGVudC1EaXNwb3NpdGlvbiIsCiAgICAgICAgICAgICAgICAiYXR0YWNobWVudDtmaWxlbmFtZT0iICsgamF2YS5uZXQuVVJMRW5jb2Rlci5lbmNvZGUoeWVhciArICLmnIjluqbmlbDph4/lj4rph5Hpop3miqXooagiLCAiVVRGLTgiKSArIGZpbGVUeXBlKTsKICAgICAgICByZXNwb25zZSgpLnNldENvbnRlbnRUeXBlKCJhcHBsaWNhdGlvbi94LW1zZG93bmxvYWQiKTsKICAgICAgICByZXR1cm4gb2soaW4pOwogICAgfQoKCgogICAgLyoqCiAgICAgKiAKICAgICAqIOaciOW6puavj+WkqeaVsOmHj+WIneWni+WMlgogICAgICogCiAgICAgKiBAYXV0aG9yIER4CiAgICAgKiBAZGF0ZSAyMDE15bm0MTHmnIgyNOaXpQogICAgICogQHBhcmFtIGRvbWFpbgogICAgICogQHBhcmFtIHNjYW5JZAogICAgICogQHBhcmFtIHllYXIKICAgICAqIEBwYXJhbSBtb250aAogICAgICogQHJldHVybgogICAgICogQHRocm93cyBFeGNlcHRpb24KICAgICAqIEBzaW5jZSAxLjAKICAgICAqLwogICAgcHVibGljIFJlc3VsdCBtb210aEV2ZXJ5ZGF5KFN0cmluZyBkb21haW4sIEludGVnZXIgc2NhbklkLCBTdHJpbmcgeWVhciwgU3RyaW5nIG1vbnRoKSB0aHJvd3MgRXhjZXB0aW9uIHsKICAgICAgICBIdHRwLkNvbnRleHQgY3R4ID0gSHR0cC5Db250ZXh0LmN1cnJlbnQuZ2V0KCk7CiAgICAgICAgQ29tcGFueSBjb21wID0gKENvbXBhbnkpIGN0eC5hcmdzLmdldChDb21wYW55TG9hZGVyLkNPTVBBTllfQVJHX0tFWSk7CiAgICAgICAgcmV0dXJuIG9rKHNjYW5FdmVudE1vbnRoRXZlcnlkYXkucmVuZGVyKGNvbXAsIHNjYW5JZCwgeWVhciwgbW9udGgpKTsKICAgIH0KCiAgICAvKioKICAgICAqIAogICAgICog5a+85Ye6IC0tIOaciOW6puavj+WkqeaVsOmHj+S+i+WbvgogICAgICogCiAgICAgKiBAYXV0aG9yIER4CiAgICAgKiBAZGF0ZSAyMDE15bm0MTHmnIgyM+aXpQogICAgICogQHBhcmFtIHNjYW5JZAogICAgICogQHJldHVybgogICAgICogQHRocm93cyBFeGNlcHRpb24KICAgICAqIEBzaW5jZSAxLjAKICAgICAqLwogICAgcHVibGljIFJlc3VsdCBleHBvcnRNb250aEV2ZXJ5ZGF5KFN0cmluZyBkb21haW4sIEludGVnZXIgc2NhbklkLCBTdHJpbmcgeWVhciwgU3RyaW5nIG1vbnRoKSB0aHJvd3MgRXhjZXB0aW9uIHsKICAgICAgICBCeXRlQXJyYXlJbnB1dFN0cmVhbSBpbiA9IGF3YXJkT3JkZXJTZXJ2aWNlLmV4cG9ydE1vbnRoRXZlcnlkYXlFeGNlbChzY2FuSWQsIHllYXIsIG1vbnRoKTsKICAgICAgICBTdHJpbmcgZmlsZVR5cGUgPSAiLnhscyI7CiAgICAgICAgcmVzcG9uc2UoKS5zZXRIZWFkZXIoIkNvbnRlbnQtRGlzcG9zaXRpb24iLAogICAgICAgICAgICAgICAgImF0dGFjaG1lbnQ7ZmlsZW5hbWU9IiArIGphdmEubmV0LlVSTEVuY29kZXIuZW5jb2RlKHllYXIgKyAiLSIgKyBtb250aCArICLmnIjluqbmr4/lpKnmlbDph4/miqXooagiLCAiVVRGLTgiKSArIGZpbGVUeXBlKTsKICAgICAgICByZXNwb25zZSgpLnNldENvbnRlbnRUeXBlKCJhcHBsaWNhdGlvbi94LW1zZG93bmxvYWQiKTsKICAgICAgICByZXR1cm4gb2soaW4pOwogICAgfQoKCgogICAgLyoqCiAgICAgKiAKICAgICAqIOafseW9ouaKpeihqCAtIOaciOW6puavj+WkqeaVsOmHj+S+i+WbvgogICAgICogCiAgICAgKiBAYXV0aG9yIER4CiAgICAgKiBAZGF0ZSAyMDE15bm0MTHmnIgyNOaXpQogICAgICogQHBhcmFtIGRvbWFpbgogICAgICogQHBhcmFtIHNjYW5JZAogICAgICogQHJldHVybgogICAgICogQHNpbmNlIDEuMAogICAgICovCiAgICBwdWJsaWMgUmVzdWx0IGVDaGFydHNNb3V0aEV2ZXJ5ZGF5KFN0cmluZyBkb21haW4sIEludGVnZXIgc2NhbklkLCBTdHJpbmcgeWVhciwgU3RyaW5nIG1vbnRoKSB7CiAgICAgICAgLy8gICAgICAgIEh0dHAuQ29udGV4dCBjdHggPSBIdHRwLkNvbnRleHQuY3VycmVudC5nZXQoKTsKICAgICAgICAvLyAgICAgICAgQ29tcGFueSBjb21wID0gKENvbXBhbnkpIGN0eC5hcmdzLmdldChDb21wYW55TG9hZGVyLkNPTVBBTllfQVJHX0tFWSk7CiAgICAgICAgTWFwPFN0cmluZywgT2JqZWN0PiByZXN1bHQgPSBuZXcgSGFzaE1hcDxTdHJpbmcsIE9iamVjdD4oKTsKICAgICAgICB0cnkgewogICAgICAgICAgICBMaXN0PE1hcDxTdHJpbmcsIE9iamVjdD4+IGxpc3QgPSBhd2FyZE9yZGVyU2VydmljZS5lQ2hhcnRzTW91dGhFdmVyeWRheShzY2FuSWQsIHllYXIsIG1vbnRoKTsKICAgICAgICAgICAgQXJyYXlMaXN0PFN0cmluZz4gZGF5cyA9IG5ldyBBcnJheUxpc3Q8U3RyaW5nPigpOwogICAgICAgICAgICBBcnJheUxpc3Q8SW50ZWdlcj4gY291bnRzID0gbmV3IEFycmF5TGlzdDxJbnRlZ2VyPigpOwogICAgICAgICAgICBmb3IgKGludCBpID0gMDsgaSA8IGxpc3Quc2l6ZSgpOyBpKyspIHsKICAgICAgICAgICAgICAgIGRheXMuYWRkKGxpc3QuZ2V0KGkpLmdldCgidGlhbiIpLnRvU3RyaW5nKCkgKyAi5pelIik7CiAgICAgICAgICAgICAgICBjb3VudHMuYWRkKEludGVnZXIudmFsdWVPZihsaXN0LmdldChpKS5nZXQoImNvdW50IikudG9TdHJpbmcoKSkpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHJlc3VsdC5wdXQoImRheXMiLCBkYXlzKTsKICAgICAgICAgICAgcmVzdWx0LnB1dCgiY291bnRzIiwgY291bnRzKTsKICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gZSkgewogICAgICAgICAgICBMb2dnZXIuZXJyb3IoIlByaXplTWFuYWdlci1lQ2hhcnRzTW91dGhFdmVyeWRheSIsIGUpOwogICAgICAgIH0KICAgICAgICByZXR1cm4gb2soSnNvbi50b0pzb24ocmVzdWx0KSk7CiAgICB9CgoKCiAgICAvKioKICAgICAqIAogICAgICog5pyI5bqmIOavj+WRqOaVsOmHj+S+i+WbvgogICAgICogCiAgICAgKiBAYXV0aG9yIER4CiAgICAgKiBAZGF0ZSAyMDE15bm0MTHmnIgyNOaXpQogICAgICogQHBhcmFtIGRvbWFpbgogICAgICogQHBhcmFtIHNjYW5JZAogICAgICogQHBhcmFtIHllYXIKICAgICAqIEBwYXJhbSBtb250aAogICAgICogQHJldHVybgogICAgICogQHRocm93cyBFeGNlcHRpb24KICAgICAqIEBzaW5jZSAxLjAKICAgICAqLwogICAgcHVibGljIFJlc3VsdCB3ZWVrZGF5KFN0cmluZyBkb21haW4sIEludGVnZXIgc2NhbklkLCBTdHJpbmcgeWVhciwgU3RyaW5nIG1vbnRoKSB0aHJvd3MgRXhjZXB0aW9uIHsKICAgICAgICBIdHRwLkNvbnRleHQgY3R4ID0gSHR0cC5Db250ZXh0LmN1cnJlbnQuZ2V0KCk7CiAgICAgICAgQ29tcGFueSBjb21wID0gKENvbXBhbnkpIGN0eC5hcmdzLmdldChDb21wYW55TG9hZGVyLkNPTVBBTllfQVJHX0tFWSk7CiAgICAgICAgcmV0dXJuIG9rKHNjYW5FdmVudFdlZWtkYXkucmVuZGVyKGNvbXAsIHNjYW5JZCwgeWVhciwgbW9udGgpKTsKICAgIH0KCgoKICAgIC8qKgogICAgICogCiAgICAgKiDmnIjluqYgLSDlj7fnoIHlvZLlsZ7lnLDkvovlm74KICAgICAqIAogICAgICogQGF1dGhvciBEeAogICAgICogQGRhdGUgMjAxNeW5tDEx5pyIMjXml6UKICAgICAqIEBwYXJhbSBkb21haW4KICAgICAqIEBwYXJhbSBzY2FuSWQKICAgICAqIEBwYXJhbSB5ZWFyCiAgICAgKiBAcGFyYW0gbW9udGgKICAgICAqIEByZXR1cm4KICAgICAqIEB0aHJvd3MgRXhjZXB0aW9uCiAgICAgKiBAc2luY2UgMS4wCiAgICAgKi8KICAgIHB1YmxpYyBSZXN1bHQgcmVnaW9uKFN0cmluZyBkb21haW4sIEludGVnZXIgc2NhbklkLCBTdHJpbmcgeWVhciwgU3RyaW5nIG1vbnRoKSB0aHJvd3MgRXhjZXB0aW9uIHsKICAgICAgICBIdHRwLkNvbnRleHQgY3R4ID0gSHR0cC5Db250ZXh0LmN1cnJlbnQuZ2V0KCk7CiAgICAgICAgQ29tcGFueSBjb21wID0gKENvbXBhbnkpIGN0eC5hcmdzLmdldChDb21wYW55TG9hZGVyLkNPTVBBTllfQVJHX0tFWSk7CiAgICAgICAgcmV0dXJuIG9rKHNjYW5FdmVudFJlZ2lvbi5yZW5kZXIoY29tcCwgc2NhbklkLCB5ZWFyLCBtb250aCkpOwogICAgfQoKCiAgICAvKioKICAgICAqIAogICAgICog5p+x5b2i5oql6KGoIC0g5pyI5bqm5q+P5aSp5pWw6YeP5L6L5Zu+CiAgICAgKiAKICAgICAqIEBhdXRob3IgRHgKICAgICAqIEBkYXRlIDIwMTXlubQxMeaciDI05pelCiAgICAgKiBAcGFyYW0gZG9tYWluCiAgICAgKiBAcGFyYW0gc2NhbklkCiAgICAgKiBAcmV0dXJuCiAgICAgKiBAc2luY2UgMS4wCiAgICAgKi8KICAgIHB1YmxpYyBSZXN1bHQgZUNoYXJ0c1dlZWtkYXkoU3RyaW5nIGRvbWFpbiwgSW50ZWdlciBzY2FuSWQsIFN0cmluZyB5ZWFyLCBTdHJpbmcgbW9udGgpIHsKICAgICAgICAvLyAgICAgICAgSHR0cC5Db250ZXh0IGN0eCA9IEh0dHAuQ29udGV4dC5jdXJyZW50LmdldCgpOwogICAgICAgIC8vICAgICAgICBDb21wYW55IGNvbXAgPSAoQ29tcGFueSkgY3R4LmFyZ3MuZ2V0KENvbXBhbnlMb2FkZXIuQ09NUEFOWV9BUkdfS0VZKTsKICAgICAgICBNYXA8U3RyaW5nLCBPYmplY3Q+IHJlc3VsdCA9IG5ldyBIYXNoTWFwPFN0cmluZywgT2JqZWN0PigpOwogICAgICAgIHRyeSB7CiAgICAgICAgICAgIExpc3Q8TWFwPFN0cmluZywgT2JqZWN0Pj4gbGlzdCA9IGF3YXJkT3JkZXJTZXJ2aWNlLmVDaGFydHNXZWVrZGF5KHNjYW5JZCwgeWVhciwgbW9udGgpOwogICAgICAgICAgICAvL1t7Y291bnQ9MSwgd2RheT0wLjB9LCB7Y291bnQ9MzQsIHdkYXk9MS4wfSwge2NvdW50PTExLCB3ZGF5PTIuMH0sIHtjb3VudD0xOCwgd2RheT0zLjB9LCB7Y291bnQ9NjgsIHdkYXk9NC4wfSwge2NvdW50PTI1LCB3ZGF5PTUuMH0sIHtjb3VudD03Miwgd2RheT02LjB9XQogICAgICAgICAgICBBcnJheUxpc3Q8U3RyaW5nPiBkYXlzID0gbmV3IEFycmF5TGlzdDxTdHJpbmc+KCk7CiAgICAgICAgICAgIEFycmF5TGlzdDxJbnRlZ2VyPiBjb3VudHMgPSBuZXcgQXJyYXlMaXN0PEludGVnZXI+KCk7CiAgICAgICAgICAgIGZvciAoaW50IGkgPSAwOyBpIDwgbGlzdC5zaXplKCk7IGkrKykgewogICAgICAgICAgICAgICAgZGF5cy5hZGQoZ2V0V2Vla2RheShsaXN0LmdldChpKS5nZXQoIndkYXkiKS50b1N0cmluZygpKSk7CiAgICAgICAgICAgICAgICBjb3VudHMuYWRkKEludGVnZXIudmFsdWVPZihsaXN0LmdldChpKS5nZXQoImNvdW50IikudG9TdHJpbmcoKSkpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHJlc3VsdC5wdXQoImRheXMiLCBkYXlzKTsKICAgICAgICAgICAgcmVzdWx0LnB1dCgiY291bnRzIiwgY291bnRzKTsKICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gZSkgewogICAgICAgICAgICBMb2dnZXIuZXJyb3IoIlByaXplTWFuYWdlci1lQ2hhcnRzTW91dGhFdmVyeWRheSIsIGUpOwogICAgICAgIH0KICAgICAgICByZXR1cm4gb2soSnNvbi50b0pzb24ocmVzdWx0KSk7CiAgICB9CgoKICAgIHByaXZhdGUgc3RhdGljIFN0cmluZyBnZXRXZWVrZGF5KFN0cmluZyBkYXkpIHsKICAgICAgICBTdHJpbmcgcmVzdWx0ID0gZGF5OwogICAgICAgIHN3aXRjaCAoZGF5KSB7CiAgICAgICAgICAgIGNhc2UgIjAuMCI6CiAgICAgICAgICAgICAgICByZXN1bHQgPSAi5pif5pyf5pelIjsKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICBjYXNlICIxLjAiOgogICAgICAgICAgICAgICAgcmVzdWx0ID0gIuaYn+acn+S4gCI7CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgY2FzZSAiMi4wIjoKICAgICAgICAgICAgICAgIHJlc3VsdCA9ICLmmJ/mnJ/kuowiOwogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIGNhc2UgIjMuMCI6CiAgICAgICAgICAgICAgICByZXN1bHQgPSAi5pif5pyf5LiJIjsKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICBjYXNlICI0LjAiOgogICAgICAgICAgICAgICAgcmVzdWx0ID0gIuaYn+acn+WbmyI7CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgY2FzZSAiNS4wIjoKICAgICAgICAgICAgICAgIHJlc3VsdCA9ICLmmJ/mnJ/kupQiOwogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIGNhc2UgIjYuMCI6CiAgICAgICAgICAgICAgICByZXN1bHQgPSAi5pif5pyf5YWtIjsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgZGVmYXVsdDoKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgIH0KICAgICAgICByZXR1cm4gcmVzdWx0OwogICAgfQoKCgogICAgLyoqCiAgICAgKiAKICAgICAqIOWvvOWHuiAtIOaciOW6puWRqOS4reWlluaKpeihqAogICAgICogCiAgICAgKiBAYXV0aG9yIER4CiAgICAgKiBAZGF0ZSAyMDE15bm0MTHmnIgyNOaXpQogICAgICogQHBhcmFtIGRvbWFpbgogICAgICogQHBhcmFtIHNjYW5JZAogICAgICogQHBhcmFtIHllYXIKICAgICAqIEBwYXJhbSBtb250aAogICAgICogQHJldHVybgogICAgICogQHRocm93cyBFeGNlcHRpb24KICAgICAqIEBzaW5jZSAxLjAKICAgICAqLwogICAgcHVibGljIFJlc3VsdCBleHBvcnRXZWVrZGF5KFN0cmluZyBkb21haW4sIEludGVnZXIgc2NhbklkLCBTdHJpbmcgeWVhciwgU3RyaW5nIG1vbnRoKSB0aHJvd3MgRXhjZXB0aW9uIHsKICAgICAgICBCeXRlQXJyYXlJbnB1dFN0cmVhbSBpbiA9IGF3YXJkT3JkZXJTZXJ2aWNlLmV4cG9ydFdlZWtkYXlFeGNlbChzY2FuSWQsIHllYXIsIG1vbnRoKTsKICAgICAgICBTdHJpbmcgZmlsZVR5cGUgPSAiLnhscyI7CiAgICAgICAgcmVzcG9uc2UoKS5zZXRIZWFkZXIoIkNvbnRlbnQtRGlzcG9zaXRpb24iLAogICAgICAgICAgICAgICAgImF0dGFjaG1lbnQ7ZmlsZW5hbWU9IiArIGphdmEubmV0LlVSTEVuY29kZXIuZW5jb2RlKHllYXIgKyAiLSIgKyBtb250aCArICLmnIjluqblkajmlbDph4/miqXooagiLCAiVVRGLTgiKSArIGZpbGVUeXBlKTsKICAgICAgICByZXNwb25zZSgpLnNldENvbnRlbnRUeXBlKCJhcHBsaWNhdGlvbi94LW1zZG93bmxvYWQiKTsKICAgICAgICByZXR1cm4gb2soaW4pOwogICAgfQoKCgogICAgLyoqCiAgICAgKiAKICAgICAqIOecgeWkluWPt+eggeW9kuWxnuWcsOWbvuS+iwogICAgICogCiAgICAgKiBAYXV0aG9yIER4CiAgICAgKiBAZGF0ZSAyMDE15bm0MTHmnIgyNeaXpQogICAgICogQHBhcmFtIGRvbWFpbgogICAgICogQHBhcmFtIHNjYW5JZAogICAgICogQHBhcmFtIHllYXIKICAgICAqIEByZXR1cm4KICAgICAqIEBzaW5jZSAxLjAKICAgICAqLwogICAgcHVibGljIFJlc3VsdCBlQ2hhcnRzUmVnaW9uKFN0cmluZyBkb21haW4sIEludGVnZXIgc2NhbklkLCBTdHJpbmcgeWVhcikgewogICAgICAgIE1hcDxTdHJpbmcsIE9iamVjdD4gcmVzdWx0ID0gbmV3IEhhc2hNYXA8U3RyaW5nLCBPYmplY3Q+KCk7CiAgICAgICAgdHJ5IHsKICAgICAgICAgICAgLy8g55yB5aSWCiAgICAgICAgICAgIExpc3Q8TWFwPFN0cmluZywgT2JqZWN0Pj4gbGlzdCA9IGF3YXJkT3JkZXJTZXJ2aWNlLmVDaGFydHNSZWdpb24oc2NhbklkLCB5ZWFyKTsKICAgICAgICAgICAgQXJyYXlMaXN0PFN0cmluZz4gY2l0eXMgPSBuZXcgQXJyYXlMaXN0PFN0cmluZz4oKTsKICAgICAgICAgICAgU3RyaW5nW10gYXJyQ291bnRzID0gbGlzdC5nZXQoMCkuZ2V0KCJjb3VudCIpLnRvU3RyaW5nKCkuc3BsaXQoIiwiKTsKICAgICAgICAgICAgQXJyYXlMaXN0PFN0cmluZz4gY291bnRzID0gbmV3IEFycmF5TGlzdDxTdHJpbmc+KCk7CiAgICAgICAgICAgIFN0cmluZ1tdIGFyckNpdHlzID0gbGlzdC5nZXQoMCkuZ2V0KCJjaXR5IikudG9TdHJpbmcoKS5zcGxpdCgiLCIpOwogICAgICAgICAgICBpbnQgbGVuID0gYXJyQ291bnRzLmxlbmd0aCA+IDEwID8gMTAgOiBhcnJDb3VudHMubGVuZ3RoOwogICAgICAgICAgICBmb3IgKGludCBpID0gMDsgaSA8IGxlbjsgaSsrKSB7CiAgICAgICAgICAgICAgICBjb3VudHMuYWRkKGFyckNvdW50c1tpXS50b1N0cmluZygpLnJlcGxhY2UoInsiLCAiIikucmVwbGFjZSgifSIsICIiKS50cmltKCkpOwogICAgICAgICAgICAgICAgU3RyaW5nIGNpdHlOYW1lID0gYXJyQ2l0eXNbaV0udG9TdHJpbmcoKS5yZXBsYWNlKCJ7IiwgIiIpLnJlcGxhY2UoIn0iLCAiIikudHJpbSgpOwogICAgICAgICAgICAgICAgaWYgKCJcIlwiIi5lcXVhbHMoY2l0eU5hbWUpKSB7CiAgICAgICAgICAgICAgICAgICAgY2l0eXMuYWRkKCLlhbbku5YiKTsKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgY2l0eXMuYWRkKGNpdHlOYW1lKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICAvLyDnnIHlhoUKICAgICAgICAgICAgTGlzdDxNYXA8U3RyaW5nLCBPYmplY3Q+PiBwcm9MaXN0ID0gYXdhcmRPcmRlclNlcnZpY2UuZUNoYXJ0c1Byb3ZpbmNlUmVnaW9uKHNjYW5JZCwgeWVhcik7CiAgICAgICAgICAgIEFycmF5TGlzdDxTdHJpbmc+IHByb0NpdHlzID0gbmV3IEFycmF5TGlzdDxTdHJpbmc+KCk7CiAgICAgICAgICAgIFN0cmluZ1tdIGFyclByb0NvdW50cyA9IHByb0xpc3QuZ2V0KDApLmdldCgiY291bnQiKS50b1N0cmluZygpLnNwbGl0KCIsIik7CiAgICAgICAgICAgIEFycmF5TGlzdDxTdHJpbmc+IHByb0NvdW50cyA9IG5ldyBBcnJheUxpc3Q8U3RyaW5nPigpOwogICAgICAgICAgICBTdHJpbmdbXSBhcnJQcm9DaXR5cyA9IHByb0xpc3QuZ2V0KDApLmdldCgiY2l0eSIpLnRvU3RyaW5nKCkuc3BsaXQoIiwiKTsKICAgICAgICAgICAgaW50IHByb0xlbiA9IGFyclByb0NvdW50cy5sZW5ndGggPiAxMCA/IDEwIDogYXJyUHJvQ291bnRzLmxlbmd0aDsKICAgICAgICAgICAgZm9yIChpbnQgaSA9IDA7IGkgPCBwcm9MZW47IGkrKykgewogICAgICAgICAgICAgICAgcHJvQ291bnRzLmFkZChhcnJQcm9Db3VudHNbaV0udG9TdHJpbmcoKS5yZXBsYWNlKCJ7IiwgIiIpLnJlcGxhY2UoIn0iLCAiIikudHJpbSgpKTsKICAgICAgICAgICAgICAgIFN0cmluZyBjaXR5TmFtZSA9IGFyclByb0NpdHlzW2ldLnRvU3RyaW5nKCkucmVwbGFjZSgieyIsICIiKS5yZXBsYWNlKCJ9IiwgIiIpLnRyaW0oKTsKICAgICAgICAgICAgICAgIGlmICgiXCJcIiIuZXF1YWxzKGNpdHlOYW1lKSkgewogICAgICAgICAgICAgICAgICAgIHByb0NpdHlzLmFkZCgi5YW25LuWIik7CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIHByb0NpdHlzLmFkZChjaXR5TmFtZSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgcmVzdWx0LnB1dCgiY2l0eXMiLCBjaXR5cyk7CiAgICAgICAgICAgIHJlc3VsdC5wdXQoImNvdW50cyIsIGNvdW50cyk7CiAgICAgICAgICAgIHJlc3VsdC5wdXQoInByb0NpdHlzIiwgcHJvQ2l0eXMpOwogICAgICAgICAgICByZXN1bHQucHV0KCJwcm9Db3VudHMiLCBwcm9Db3VudHMpOwogICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7CiAgICAgICAgICAgIExvZ2dlci5lcnJvcigiUHJpemVNYW5hZ2VyLWVDaGFydHNSZWdpb24iLCBlKTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIG9rKEpzb24udG9Kc29uKHJlc3VsdCkpOwogICAgfQoKCgogICAgLyoqCiAgICAgKiAKICAgICAqIOecgeWkliAtIOWPt+eggeW9kuWxnuWcsOWvvOWHugogICAgICogCiAgICAgKiBAYXV0aG9yIER4CiAgICAgKiBAZGF0ZSAyMDE15bm0MTHmnIgyNuaXpQogICAgICogQHBhcmFtIGRvbWFpbgogICAgICogQHBhcmFtIHNjYW5JZAogICAgICogQHBhcmFtIHllYXIKICAgICAqIEByZXR1cm4KICAgICAqIEB0aHJvd3MgRXhjZXB0aW9uCiAgICAgKiBAc2luY2UgMS4wCiAgICAgKi8KICAgIHB1YmxpYyBSZXN1bHQgZXhwb3J0UmVnaW9uKFN0cmluZyBkb21haW4sIEludGVnZXIgc2NhbklkLCBTdHJpbmcgeWVhcikgdGhyb3dzIEV4Y2VwdGlvbiB7CiAgICAgICAgQnl0ZUFycmF5SW5wdXRTdHJlYW0gaW4gPSBhd2FyZE9yZGVyU2VydmljZS5leHBvcnRSZWdpb25FeGNlbChzY2FuSWQsIHllYXIpOwogICAgICAgIFN0cmluZyBmaWxlVHlwZSA9ICIueGxzIjsKICAgICAgICByZXNwb25zZSgpLnNldEhlYWRlcigiQ29udGVudC1EaXNwb3NpdGlvbiIsCiAgICAgICAgICAgICAgICAiYXR0YWNobWVudDtmaWxlbmFtZT0iICsgamF2YS5uZXQuVVJMRW5jb2Rlci5lbmNvZGUoeWVhciArICLmnIjluqbnnIHlpJblj7fnoIHlvZLlsZ7lnLDmlbDph4/miqXooagiLCAiVVRGLTgiKSArIGZpbGVUeXBlKTsKICAgICAgICByZXNwb25zZSgpLnNldENvbnRlbnRUeXBlKCJhcHBsaWNhdGlvbi94LW1zZG93bmxvYWQiKTsKICAgICAgICByZXR1cm4gb2soaW4pOwogICAgfQoKCiAgICAvKioKICAgICAqIAogICAgICog55yB5YaFIC0g5Y+356CB5b2S5bGe5Zyw5a+85Ye6CiAgICAgKiAKICAgICAqIEBhdXRob3IgRHgKICAgICAqIEBkYXRlIDIwMTXlubQxMeaciDI25pelCiAgICAgKiBAcGFyYW0gZG9tYWluCiAgICAgKiBAcGFyYW0gc2NhbklkCiAgICAgKiBAcGFyYW0geWVhcgogICAgICogQHJldHVybgogICAgICogQHRocm93cyBFeGNlcHRpb24KICAgICAqIEBzaW5jZSAxLjAKICAgICAqLwogICAgcHVibGljIFJlc3VsdCBleHBvcnRSZWdpb25Qcm92aW5jZShTdHJpbmcgZG9tYWluLCBJbnRlZ2VyIHNjYW5JZCwgU3RyaW5nIHllYXIpIHRocm93cyBFeGNlcHRpb24gewogICAgICAgIEJ5dGVBcnJheUlucHV0U3RyZWFtIGluID0gYXdhcmRPcmRlclNlcnZpY2UuZXhwb3J0UmVnaW9uUHJvdmluY2VFeGNlbChzY2FuSWQsIHllYXIpOwogICAgICAgIFN0cmluZyBmaWxlVHlwZSA9ICIueGxzIjsKICAgICAgICByZXNwb25zZSgpLnNldEhlYWRlcigiQ29udGVudC1EaXNwb3NpdGlvbiIsCiAgICAgICAgICAgICAgICAiYXR0YWNobWVudDtmaWxlbmFtZT0iICsgamF2YS5uZXQuVVJMRW5jb2Rlci5lbmNvZGUoeWVhciArICLmnIjluqbnnIHlhoXlj7fnoIHlvZLlsZ7lnLDmlbDph4/miqXooagiLCAiVVRGLTgiKSArIGZpbGVUeXBlKTsKICAgICAgICByZXNwb25zZSgpLnNldENvbnRlbnRUeXBlKCJhcHBsaWNhdGlvbi94LW1zZG93bmxvYWQiKTsKICAgICAgICByZXR1cm4gb2soaW4pOwogICAgfQoKfQo=</text>
      </register>
      <register name=":" type="4">
        <text>w</text>
      </register>
    </registers>
    <search>
      <last-search encoding="base64">XDxwcml6ZUluZm9zXD4=</last-search>
      <last-offset />
      <last-pattern encoding="base64">XDxwcml6ZUluZm9zXD4=</last-pattern>
      <last-replace>source</last-replace>
      <last-substitute>bPrize</last-substitute>
      <last-dir>1</last-dir>
      <show-last>true</show-last>
    </search>
    <history>
      <history-search>
        <entry>app_version</entry>
        <entry encoding="base64">XDxtYXJrZWRXb3Jkc1w+</entry>
        <entry encoding="base64">XDxzZXJ2aWNlQ29sbFw+</entry>
        <entry>stati</entry>
        <entry encoding="base64">XDxzY2FuSWRcPg==</entry>
        <entry>api</entry>
        <entry>api\/version</entry>
        <entry>version</entry>
        <entry>insert</entry>
        <entry>INSERT</entry>
        <entry>prize</entry>
        <entry>awa</entry>
        <entry>level</entry>
        <entry>productPri</entry>
        <entry encoding="base64">XDxiYXNpY1NjYW5Qcml6ZURldGFpbFw+</entry>
        <entry>bPrize</entry>
        <entry encoding="base64">XDxiUHJpemVcPg==</entry>
        <entry>check</entry>
        <entry encoding="base64">XDxwSW5mb3NcPg==</entry>
        <entry encoding="base64">XDxwcml6ZUluZm9zXD4=</entry>
      </history-search>
      <history-cmd>
        <entry encoding="base64">JzwsJz5zL0AgL0AvZw==</entry>
        <entry encoding="base64">JzwsJz5zL0NvbnN0YW50cy9JQ29udGVudHMvZw==</entry>
        <entry encoding="base64">JzwsJz5zL2phdmEubGFuZy4vL2c=</entry>
        <entry encoding="base64">JzwsJz5zL3B1YmxpYy9wcml2YXRlL2c=</entry>
        <entry encoding="base64">JzwsJz5zLzYwLjE5MS4xNS45MlxcOjQ2NS9wYXkuY3piYW5rLmNvbVxcOjQ0My9n</entry>
        <entry encoding="base64">JzwsJz5zL2NvbXBheS9jb21wYW55L2c=</entry>
        <entry encoding="base64">JzwsJz5zL2luc2VydC91cGRhdGUvZw==</entry>
        <entry encoding="base64">JzwsJz5zLzMuMi8zLjEvZw==</entry>
        <entry encoding="base64">JzwsJz5zL29yZGVyaWQvZXhlY3V0aW9uX25hbWUvZw==</entry>
        <entry encoding="base64">JzwsJz5zL3BhcmFtTWFwLi8vZw==</entry>
        <entry encoding="base64">JzwsJz5zLzsvL2c=</entry>
        <entry encoding="base64">JzwsJz5zL3RhZGtpZC9pZC9n</entry>
        <entry encoding="base64">JzwsJz5zL3Rhc2tpZC9pZC9n</entry>
        <entry encoding="base64">dnNwIA==</entry>
        <entry>vsp</entry>
        <entry encoding="base64">JzwsJz5zLyovL2c=</entry>
        <entry>nohl</entry>
        <entry>action $Redo</entry>
        <entry encoding="base64">JzwsJz5zL2JQcml6ZS9zb3VyY2UvZw==</entry>
        <entry>w</entry>
      </history-cmd>
      <history-expr />
      <history-input />
    </history>
    <shortcut-conflicts>
      <shortcut-conflict owner="ide">
        <text>ctrl pressed D</text>
      </shortcut-conflict>
      <shortcut-conflict owner="vim">
        <text>ctrl pressed F</text>
      </shortcut-conflict>
      <shortcut-conflict owner="ide">
        <text>ctrl pressed B</text>
      </shortcut-conflict>
      <shortcut-conflict owner="vim">
        <text>ctrl pressed N</text>
      </shortcut-conflict>
      <shortcut-conflict owner="ide">
        <text>ctrl pressed R</text>
      </shortcut-conflict>
      <shortcut-conflict owner="vim">
        <text>ctrl pressed A</text>
      </shortcut-conflict>
      <shortcut-conflict owner="ide">
        <text>ctrl pressed T</text>
      </shortcut-conflict>
      <shortcut-conflict owner="vim">
        <text>ctrl pressed I</text>
      </shortcut-conflict>
      <shortcut-conflict owner="vim">
        <text>ctrl pressed V</text>
      </shortcut-conflict>
      <shortcut-conflict owner="vim">
        <text>ctrl pressed H</text>
      </shortcut-conflict>
      <shortcut-conflict owner="ide">
        <text>ctrl pressed O</text>
      </shortcut-conflict>
      <shortcut-conflict owner="vim">
        <text>ctrl pressed P</text>
      </shortcut-conflict>
      <shortcut-conflict owner="vim">
        <text>ctrl pressed M</text>
      </shortcut-conflict>
      <shortcut-conflict owner="vim">
        <text>ctrl pressed E</text>
      </shortcut-conflict>
      <shortcut-conflict owner="ide">
        <text>shift ctrl pressed 2</text>
      </shortcut-conflict>
      <shortcut-conflict owner="ide">
        <text>ctrl pressed 2</text>
      </shortcut-conflict>
      <shortcut-conflict owner="ide">
        <text>ctrl pressed Q</text>
      </shortcut-conflict>
      <shortcut-conflict owner="vim">
        <text>ctrl pressed G</text>
      </shortcut-conflict>
    </shortcut-conflicts>
  </component>
</application>