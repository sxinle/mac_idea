<application>
  <component name="RelativeLineNumbersSettings">
    <option name="enabled" value="false" />
  </component>
  <component name="VimSettings">
    <state version="4" enabled="true" />
    <globalmarks />
    <filemarks>
      <file name="$USER_HOME$/pipeline/services/api/OwnCloudService.class" timestamp="1508496897054">
        <mark key="'" line="0" column="0" />
        <mark key="[" line="0" column="0" />
        <mark key="]" line="412" column="0" />
      </file>
      <file name="$USER_HOME$/pipeline/routes" timestamp="1508495830672">
        <mark key="'" line="0" column="0" />
        <mark key="[" line="0" column="0" />
        <mark key="]" line="174" column="129" />
      </file>
      <file name="$USER_HOME$/workspace/ddParse/dd_web_service/neunner_service/app/daos/DevUserAppHandler.java" timestamp="1508496443081">
        <mark key="'" line="70" column="0" />
        <mark key="[" line="6" column="14" />
        <mark key="]" line="6" column="29" />
        <mark key="." line="1" column="0" />
        <mark key="^" line="0" column="3" />
      </file>
      <file name="$USER_HOME$/workspace/ddParse/dd_web_service/neunner_service/app/daos/SysComAppHandler.java" timestamp="1508496546404">
        <mark key="[" line="5" column="14" />
        <mark key="]" line="5" column="28" />
        <mark key="." line="0" column="0" />
      </file>
      <file name="$USER_HOME$/workspace/ddParse/dd_web_service/neunner_service/app/models/record/AuthKeyRecord.java" timestamp="1508496773850">
        <mark key="[" line="0" column="0" />
        <mark key="]" line="0" column="0" />
        <mark key="." line="0" column="0" />
      </file>
      <file name="$USER_HOME$/workspace/ddParse/dd_web_service/neunner_service/app/services/api/ServiceNumService.java" timestamp="1508496871406">
        <mark key="[" line="0" column="0" />
        <mark key="]" line="372" column="1" />
        <mark key="." line="0" column="0" />
      </file>
      <file name="$USER_HOME$/pipeline/daos/DevUserAppHandler.class" timestamp="1508496435842">
        <mark key="'" line="5" column="0" />
        <mark key="[" line="5" column="0" />
        <mark key="]" line="73" column="0" />
      </file>
      <file name="$USER_HOME$/pipeline/services/api/ServiceNumService.class" timestamp="1508496867495">
        <mark key="'" line="5" column="0" />
        <mark key="[" line="5" column="0" />
        <mark key="]" line="377" column="0" />
      </file>
      <file name="$USER_HOME$/workspace/ddParse/dd_web_service/neunner_service/app/services/api/UserAppService.java" timestamp="1508496812169">
        <mark key="'" line="182" column="20" />
        <mark key="[" line="127" column="12" />
        <mark key="]" line="127" column="21" />
        <mark key="." line="198" column="39" />
        <mark key="^" line="198" column="39" />
      </file>
      <file name="$USER_HOME$/pipeline/models/SysComAppEntity.class" timestamp="1508496555125">
        <mark key="'" line="5" column="0" />
        <mark key="[" line="5" column="0" />
        <mark key="]" line="127" column="0" />
      </file>
      <file name="$USER_HOME$/workspace/ddParse/dd_web_service/saas/app/services/api/OwnCloudService.java" timestamp="1508496899418">
        <mark key="[" line="0" column="0" />
        <mark key="]" line="412" column="1" />
        <mark key="." line="0" column="0" />
      </file>
      <file name="$USER_HOME$/pipeline/controllers/api/ServiceNumController.class" timestamp="1508496838412">
        <mark key="'" line="5" column="0" />
        <mark key="[" line="5" column="0" />
        <mark key="]" line="232" column="0" />
      </file>
      <file name="$USER_HOME$/workspace/ddParse/dd_web_service/neunner_service/conf/application.conf" timestamp="1508490842732">
        <mark key="'" line="71" column="30" />
        <mark key="[" line="69" column="12" />
        <mark key="]" line="69" column="16" />
        <mark key="." line="69" column="16" />
        <mark key="^" line="69" column="16" />
      </file>
      <file name="$USER_HOME$/workspace/ddParse/dd_web_service/neunner_service/app/daos/AppHandler.java" timestamp="1508496283518">
        <mark key="[" line="73" column="20" />
        <mark key="]" line="73" column="20" />
        <mark key="." line="73" column="20" />
      </file>
      <file name="$USER_HOME$/pipeline/daos/AppHandler.class" timestamp="1508496191757">
        <mark key="'" line="5" column="0" />
        <mark key="[" line="5" column="0" />
        <mark key="]" line="171" column="0" />
      </file>
      <file name="$USER_HOME$/pipeline/clients/mbp/MbpService.class" timestamp="1508496800852">
        <mark key="'" line="4" column="0" />
        <mark key="[" line="4" column="0" />
        <mark key="]" line="20" column="0" />
      </file>
      <file name="$USER_HOME$/pipeline/services/api/UserAppService.class" timestamp="1508496157199">
        <mark key="'" line="5" column="17" />
        <mark key="[" line="5" column="0" />
        <mark key="]" line="378" column="0" />
      </file>
      <file name="$USER_HOME$/pipeline/daos/AppTypeHandler.class" timestamp="1508496305398">
        <mark key="'" line="5" column="0" />
        <mark key="[" line="5" column="0" />
        <mark key="]" line="17" column="0" />
      </file>
      <file name="$USER_HOME$/workspace/ddParse/dd_web_service/neunner_service/app/models/SysComAppEntity.java" timestamp="1508496557018">
        <mark key="[" line="0" column="0" />
        <mark key="]" line="122" column="1" />
        <mark key="." line="0" column="0" />
      </file>
      <file name="$USER_HOME$/pipeline/daos/SysComAppHandler.class" timestamp="1508496533084">
        <mark key="'" line="5" column="0" />
        <mark key="[" line="5" column="0" />
        <mark key="]" line="32" column="0" />
      </file>
      <file name="$USER_HOME$/workspace/ddParse/dd_web_service/neunner_service/app/daos/AppTypeHandler.java" timestamp="1508496321557">
        <mark key="[" line="2" column="14" />
        <mark key="]" line="2" column="26" />
        <mark key="." line="0" column="0" />
      </file>
      <file name="$USER_HOME$/pipeline/utils/ModelIterable.class" timestamp="1508496218157">
        <mark key="'" line="5" column="0" />
        <mark key="[" line="5" column="0" />
        <mark key="]" line="32" column="0" />
      </file>
      <file name="$USER_HOME$/workspace/ddParse/dd_web_service/neunner_service/app/utils/ModelIterable.java" timestamp="1508496243805">
        <mark key="[" line="0" column="0" />
        <mark key="]" line="29" column="1" />
        <mark key="." line="0" column="0" />
      </file>
      <file name="$USER_HOME$/workspace/ddParse/dd_web_service/neunner_service/conf/routes" timestamp="1508495841490">
        <mark key="[" line="0" column="0" />
        <mark key="]" line="174" column="130" />
        <mark key="." line="0" column="0" />
      </file>
      <file name="$USER_HOME$/pipeline/controllers/api/UserAppController.class" timestamp="1508496115395">
        <mark key="'" line="5" column="0" />
        <mark key="[" line="5" column="0" />
        <mark key="]" line="158" column="0" />
      </file>
      <file name="$USER_HOME$/workspace/ddParse/dd_web_service/neunn_ldap_service/app/services/UserService.java" timestamp="1508489840543">
        <mark key="'" line="26" column="0" />
        <mark key="[" line="228" column="0" />
        <mark key="]" line="229" column="67" />
      </file>
      <file name="$USER_HOME$/workspace/ddParse/dd_web_service/neunner_service/app/controllers/api/ServiceNumController.java" timestamp="1508496843195">
        <mark key="[" line="0" column="0" />
        <mark key="]" line="227" column="1" />
        <mark key="." line="0" column="0" />
      </file>
      <file name="$USER_HOME$/pipeline/models/DevUserAppEntity.class" timestamp="1508496458362">
        <mark key="'" line="5" column="0" />
        <mark key="[" line="5" column="0" />
        <mark key="]" line="85" column="0" />
      </file>
      <file name="$USER_HOME$/workspace/ddParse/dd_web_service/saas/app/controllers/api/OwnCloudController.java" timestamp="1508496888131">
        <mark key="[" line="0" column="0" />
        <mark key="]" line="311" column="1" />
        <mark key="." line="0" column="0" />
      </file>
      <file name="$USER_HOME$/pipeline/models/AppTypeEntity.class" timestamp="1508496358761">
        <mark key="'" line="5" column="0" />
        <mark key="[" line="5" column="0" />
        <mark key="]" line="48" column="0" />
      </file>
      <file name="$USER_HOME$/workspace/ddParse/dd_web_service/neunner_service/app/clients/mbp/MbpService.java" timestamp="1508496804944">
        <mark key="[" line="0" column="0" />
        <mark key="]" line="16" column="1" />
        <mark key="." line="0" column="0" />
      </file>
      <file name="$USER_HOME$/pipeline/models/record/AuthKeyRecord.class" timestamp="1508496770489">
        <mark key="'" line="5" column="0" />
        <mark key="[" line="5" column="0" />
        <mark key="]" line="64" column="0" />
      </file>
      <file name="$USER_HOME$/workspace/ddParse/dd_web_service/neunner_service/app/models/DevUserAppEntity.java" timestamp="1508496460532">
        <mark key="[" line="0" column="0" />
        <mark key="]" line="80" column="1" />
        <mark key="." line="0" column="0" />
      </file>
      <file name="$USER_HOME$/pipeline/controllers/api/OwnCloudController.class" timestamp="1508496885534">
        <mark key="'" line="0" column="0" />
        <mark key="[" line="0" column="0" />
        <mark key="]" line="311" column="0" />
      </file>
    </filemarks>
    <jumps>
      <jump line="98" column="0" filename="$USER_HOME$/workspace/ddParse/dd_web_service/neunner_service/conf/routes" />
      <jump line="121" column="12" filename="$USER_HOME$/workspace/ddParse/dd_web_service/saas/conf/routes" />
      <jump line="118" column="48" filename="$USER_HOME$/workspace/ddParse/dd_web_service/saas/app/views/company/companyorg.scala.html" />
      <jump line="883" column="29" filename="$USER_HOME$/workspace/ddParse/dd_web_service/saas/public/javascripts/company/org.js" />
      <jump line="664" column="12" filename="$USER_HOME$/workspace/ddParse/dd_web_service/saas/public/javascripts/company/org.js" />
      <jump line="848" column="9" filename="$USER_HOME$/workspace/ddParse/dd_web_service/saas/public/javascripts/company/org.js" />
      <jump line="899" column="12" filename="$USER_HOME$/workspace/ddParse/dd_web_service/saas/public/javascripts/company/org.js" />
      <jump line="27" column="47" filename="$USER_HOME$/workspace/ddParse/dd_web_service/saas/conf/routes" />
      <jump line="7" column="11" filename="$USER_HOME$/workspace/ddParse/dd_web_service/saas/public/javascripts/util/message.js" />
      <jump line="107" column="43" filename="$USER_HOME$/workspace/ddParse/dd_web_service/saas/app/controllers/company/CompanyOrgController.java" />
      <jump line="137" column="16" filename="$USER_HOME$/workspace/ddParse/dd_web_service/saas/app/controllers/company/CompanyOrgController.java" />
      <jump line="139" column="12" filename="$USER_HOME$/workspace/ddParse/dd_web_service/saas/app/controllers/company/CompanyOrgController.java" />
      <jump line="13" column="3" filename="$USER_HOME$/workspace/ddParse/dd_web_service/neunner_service/conf/routes" />
      <jump line="41" column="28" filename="$USER_HOME$/workspace/ddParse/dd_web_service/neunn_ldap_service/conf/application.conf" />
      <jump line="69" column="0" filename="$USER_HOME$/workspace/ddParse/dd_web_service/neunn_ldap_service/conf/application.conf" />
      <jump line="14" column="31" filename="$USER_HOME$/workspace/ddParse/dd_web_service/neunn_ldap_service/conf/conf.properties" />
      <jump line="45" column="0" filename="$USER_HOME$/workspace/ddParse/dd_web_service/neunn_ldap_service/conf/conf.properties" />
      <jump line="70" column="17" filename="/Library/Java/JavaVirtualMachines/jdk1.7.0_71.jdk/Contents/Home/src.zip!/javax/naming/directory/Attributes.java" />
      <jump line="62" column="0" filename="$USER_HOME$/workspace/ddParse/dd_push/mbp_server/conf/application.conf" />
      <jump line="177" column="39" filename="$USER_HOME$/workspace/ddParse/dd_push/mbp_server/conf/routes" />
      <jump line="16" column="26" filename="$USER_HOME$/workspace/ddParse/dd_push/mbp_server/conf/application.conf" />
      <jump line="6" column="0" filename="$USER_HOME$/workspace/ddParse/dd_push/mbp_server/conf/application.conf" />
      <jump line="9" column="7" filename="$USER_HOME$/workspace/ddParse/dd_push/mbp_server/conf/application.conf" />
      <jump line="24" column="49" filename="$USER_HOME$/workspace/ddParse/dd_push/mbp_server/conf/application.conf" />
      <jump line="93" column="0" filename="$USER_HOME$/workspace/ddParse/dd_push/mbp_server/conf/application.conf" />
      <jump line="0" column="0" filename="$USER_HOME$/workspace/ddParse/dd_push/mbp_server/conf/application.conf" />
      <jump line="0" column="0" filename="$USER_HOME$/dd/mbp/cloud/mbp_cloudservice_router/server.js" />
      <jump line="83" column="22" filename="$USER_HOME$/dd/mbp/cloud/mbp_cloudservice_router/server.js" />
      <jump line="65" column="8" filename="$USER_HOME$/workspace/ddParse/dd_web_service/mbp_cloudservice_router/routes/router.js" />
      <jump line="467" column="60" filename="$USER_HOME$/workspace/ddParse/dd_push/mbp_server/conf/routes" />
      <jump line="477" column="25" filename="$USER_HOME$/workspace/ddParse/dd_push/mbp_server/app/controllers/api/SDKProcessor.java" />
      <jump line="457" column="56" filename="$USER_HOME$/workspace/ddParse/dd_push/mbp_server/conf/routes" />
      <jump line="549" column="108" filename="$USER_HOME$/workspace/ddParse/dd_push/mbp_server/conf/routes" />
      <jump line="49" column="76" filename="$USER_HOME$/workspace/ddParse/dd_web_service/neunner_service/conf/routes" />
      <jump line="219" column="4" filename="$USER_HOME$/workspace/ddParse/dd_web_service/neunn_ldap_service/app/services/UserService.java" />
      <jump line="423" column="0" filename="$USER_HOME$/workspace/ddParse/dd_web_service/neunn_ldap_service/app/services/UserService.java" />
      <jump line="26" column="0" filename="$USER_HOME$/workspace/ddParse/dd_web_service/neunn_ldap_service/app/services/UserService.java" />
      <jump line="241" column="6" filename="$USER_HOME$/workspace/ddParse/dd_web_service/mbp_token_service/app/services/UserService.java" />
      <jump line="14" column="68" filename="$USER_HOME$/workspace/ddParse/dd_push/mbp_server/conf/routes" />
      <jump line="4" column="0" filename="$USER_HOME$/workspace/ddParse/dd_push/mbp_server/conf/routes" />
      <jump line="557" column="0" filename="$USER_HOME$/workspace/ddParse/dd_push/mbp_server/conf/routes" />
      <jump line="17" column="41" filename="$USER_HOME$/workspace/ddParse/dd_web_service/mbp_token_service/conf/routes" />
      <jump line="16" column="4" filename="$USER_HOME$/workspace/ddParse/dd_web_service/mbp_token_service/conf/application.conf" />
      <jump line="71" column="30" filename="$USER_HOME$/workspace/ddParse/dd_web_service/neunner_service/conf/application.conf" />
      <jump line="13" column="41" filename="$USER_HOME$/workspace/ddParse/dd_web_service/mbp_token_service/conf/routes" />
      <jump line="19" column="9" filename="$USER_HOME$/workspace/ddParse/dd_web_service/mbp_token_service/conf/routes" />
      <jump line="11" column="32" filename="$USER_HOME$/workspace/ddParse/dd_web_service/neunner_service/conf/routes" />
      <jump line="56" column="9" filename="$USER_HOME$/workspace/ddParse/dd_web_service/neunner_service/conf/routes" />
      <jump line="68" column="24" filename="$USER_HOME$/workspace/ddParse/dd_web_service/mbp_token_service/app/daos/DomainHandler.java" />
      <jump line="0" column="0" filename="$USER_HOME$/pipeline/routes" />
      <jump line="59" column="8" filename="$USER_HOME$/workspace/ddParse/dd_web_service/neunner_service/conf/routes" />
      <jump line="0" column="0" filename="$USER_HOME$/workspace/ddParse/dd_web_service/neunner_service/conf/routes" />
      <jump line="36" column="30" filename="$USER_HOME$/pipeline/controllers/api/UserAppController.class" />
      <jump line="22" column="17" filename="$USER_HOME$/pipeline/controllers/api/UserAppController.class" />
      <jump line="5" column="0" filename="$USER_HOME$/pipeline/controllers/api/UserAppController.class" />
      <jump line="4" column="0" filename="$USER_HOME$/workspace/ddParse/dd_web_service/neunner_service/app/controllers/api/UserAppController.java" />
      <jump line="2" column="0" filename="$USER_HOME$/workspace/ddParse/dd_web_service/neunner_service/app/controllers/api/UserAppController.java" />
      <jump line="5" column="17" filename="$USER_HOME$/pipeline/services/api/UserAppService.class" />
      <jump line="4" column="0" filename="$USER_HOME$/workspace/ddParse/dd_web_service/neunner_service/app/services/api/UserAppService.java" />
      <jump line="0" column="0" filename="$USER_HOME$/workspace/ddParse/dd_web_service/neunner_service/app/services/api/UserAppService.java" />
      <jump line="5" column="0" filename="$USER_HOME$/pipeline/daos/AppHandler.class" />
      <jump line="0" column="12" filename="$USER_HOME$/workspace/ddParse/dd_web_service/neunner_service/app/daos/AppHandler.java" />
      <jump line="5" column="0" filename="$USER_HOME$/pipeline/utils/ModelIterable.class" />
      <jump line="0" column="13" filename="$USER_HOME$/workspace/ddParse/dd_web_service/neunner_service/app/utils/ModelIterable.java" />
      <jump line="5" column="0" filename="$USER_HOME$/pipeline/daos/AppTypeHandler.class" />
      <jump line="0" column="12" filename="$USER_HOME$/workspace/ddParse/dd_web_service/neunner_service/app/daos/AppTypeHandler.java" />
      <jump line="0" column="14" filename="$USER_HOME$/workspace/ddParse/dd_web_service/neunner_service/app/models/AppTypeEntity.java" />
      <jump line="5" column="0" filename="$USER_HOME$/pipeline/models/AppTypeEntity.class" />
      <jump line="45" column="0" filename="$USER_HOME$/workspace/ddParse/dd_web_service/neunner_service/app/models/AppTypeEntity.java" />
      <jump line="0" column="0" filename="$USER_HOME$/workspace/ddParse/dd_web_service/neunner_service/app/daos/DevUserAppHandler.java" />
      <jump line="5" column="0" filename="$USER_HOME$/pipeline/daos/DevUserAppHandler.class" />
      <jump line="70" column="0" filename="$USER_HOME$/workspace/ddParse/dd_web_service/neunner_service/app/daos/DevUserAppHandler.java" />
      <jump line="5" column="0" filename="$USER_HOME$/pipeline/models/DevUserAppEntity.class" />
      <jump line="2" column="29" filename="$USER_HOME$/workspace/ddParse/dd_web_service/neunner_service/app/models/DevUserAppEntity.java" />
      <jump line="0" column="0" filename="$USER_HOME$/workspace/ddParse/dd_web_service/neunner_service/app/models/DevUserAppEntity.java" />
      <jump line="5" column="0" filename="$USER_HOME$/pipeline/daos/SysComAppHandler.class" />
      <jump line="0" column="12" filename="$USER_HOME$/workspace/ddParse/dd_web_service/neunner_service/app/daos/SysComAppHandler.java" />
      <jump line="5" column="0" filename="$USER_HOME$/pipeline/models/SysComAppEntity.class" />
      <jump line="0" column="14" filename="$USER_HOME$/workspace/ddParse/dd_web_service/neunner_service/app/models/SysComAppEntity.java" />
      <jump line="301" column="16" filename="$USER_HOME$/workspace/ddParse/dd_web_service/neunner_service/app/services/api/UserAppService.java" />
      <jump line="17" column="24" filename="$USER_HOME$/workspace/ddParse/dd_web_service/neunner_service/app/services/api/UserAppService.java" />
      <jump line="5" column="0" filename="$USER_HOME$/pipeline/models/record/AuthKeyRecord.class" />
      <jump line="6" column="13" filename="$USER_HOME$/workspace/ddParse/dd_web_service/neunner_service/app/models/record/AuthKeyRecord.java" />
      <jump line="4" column="0" filename="$USER_HOME$/pipeline/clients/mbp/MbpService.class" />
      <jump line="7" column="2" filename="$USER_HOME$/workspace/ddParse/dd_web_service/neunner_service/app/clients/mbp/MbpService.java" />
      <jump line="0" column="0" filename="$USER_HOME$/workspace/ddParse/dd_web_service/neunner_service/app/clients/mbp/MbpService.java" />
      <jump line="182" column="20" filename="$USER_HOME$/workspace/ddParse/dd_web_service/neunner_service/app/services/api/UserAppService.java" />
      <jump line="230" column="0" filename="$USER_HOME$/pipeline/controllers/api/ServiceNumController.class" />
      <jump line="5" column="0" filename="$USER_HOME$/pipeline/controllers/api/ServiceNumController.class" />
      <jump line="31" column="13" filename="$USER_HOME$/workspace/ddParse/dd_web_service/neunner_service/app/controllers/api/ServiceNumController.java" />
      <jump line="0" column="0" filename="$USER_HOME$/workspace/ddParse/dd_web_service/neunner_service/app/controllers/api/ServiceNumController.java" />
      <jump line="5" column="0" filename="$USER_HOME$/pipeline/services/api/ServiceNumService.class" />
      <jump line="36" column="13" filename="$USER_HOME$/workspace/ddParse/dd_web_service/neunner_service/app/services/api/ServiceNumService.java" />
      <jump line="0" column="0" filename="$USER_HOME$/workspace/ddParse/dd_web_service/neunner_service/app/services/api/ServiceNumService.java" />
      <jump line="0" column="0" filename="$USER_HOME$/pipeline/controllers/api/OwnCloudController.class" />
      <jump line="16" column="13" filename="$USER_HOME$/workspace/ddParse/dd_web_service/saas/app/controllers/api/OwnCloudController.java" />
      <jump line="0" column="0" filename="$USER_HOME$/workspace/ddParse/dd_web_service/saas/app/controllers/api/OwnCloudController.java" />
      <jump line="0" column="0" filename="$USER_HOME$/pipeline/services/api/OwnCloudService.class" />
      <jump line="14" column="11" filename="$USER_HOME$/workspace/ddParse/dd_web_service/saas/app/services/api/OwnCloudService.java" />
      <jump line="0" column="0" filename="$USER_HOME$/workspace/ddParse/dd_web_service/saas/app/services/api/OwnCloudService.java" />
    </jumps>
    <registers>
      <register name="&quot;" type="4">
        <text>基本废物......</text>
      </register>
      <register name="*" type="4">
        <text>&quot;&quot;</text>
      </register>
      <register name="-" type="4">
        <text>)</text>
      </register>
      <register name="/" type="4">
        <text>sale</text>
      </register>
      <register name="0" type="2">
        <text encoding="base64">Ly8KLy8gU291cmNlIGNvZGUgcmVjcmVhdGVkIGZyb20gYSAuY2xhc3MgZmlsZSBieSBJbnRlbGxpSiBJREVBCi8vIChwb3dlcmVkIGJ5IEZlcm5mbG93ZXIgZGVjb21waWxlcikKLy8KCnBhY2thZ2Ugc2VydmljZXMuYXBpOwoKaW1wb3J0IGNsaWVudHMub2MuT2NTZXJ2aWNlOwppbXBvcnQgY2xpZW50cy5vYy5PY1NlcnZpY2VGYWN0b3J5OwppbXBvcnQgY2xpZW50cy5vYy5wb2pvLlJlc3BvbnNlRW50aXR5OwppbXBvcnQgY29tLmVpZ2h0c3BhY2Uuc2VydmVyLmNvbW1vbi5jb252ZXJ0LkVtcHR5VXRpbDsKaW1wb3J0IGNvbS5nb29nbGUuZ3Nvbi5Kc29uQXJyYXk7CmltcG9ydCBjb20uZ29vZ2xlLmdzb24uSnNvbkVsZW1lbnQ7CmltcG9ydCBjb20uZ29vZ2xlLmdzb24uSnNvbk9iamVjdDsKaW1wb3J0IGNvbS5tb25nb2RiLkJhc2ljREJPYmplY3Q7CmltcG9ydCBjb20ubW9uZ29kYi5EQk9iamVjdDsKaW1wb3J0IGNvbS5uaW5nLmh0dHAudXRpbC5CYXNlNjQ7CmltcG9ydCBkYW9zLkVtcGxveWVlSGFuZGxlcjsKaW1wb3J0IGRhb3MuR3JvdXBIYW5kbGVyOwppbXBvcnQgZGFvcy5PQ0ZpbGVIYW5kbGVyOwppbXBvcnQgZGFvcy5PQ0dyb3VwSGFuZGxlcjsKaW1wb3J0IGphdmEuaW8uSU9FeGNlcHRpb247CmltcG9ydCBqYXZhLnV0aWwuQXJyYXlMaXN0OwppbXBvcnQgamF2YS51dGlsLkhhc2hNYXA7CmltcG9ydCBqYXZhLnV0aWwuSGFzaFNldDsKaW1wb3J0IGphdmEudXRpbC5JdGVyYXRvcjsKaW1wb3J0IGphdmEudXRpbC5MaXN0OwppbXBvcnQgamF2YS51dGlsLk1hcDsKaW1wb3J0IGphdmEudXRpbC5TZXQ7CmltcG9ydCBtb2RlbHMuRW1wbG95ZWVFbnRpdHk7CmltcG9ydCBtb2RlbHMuR3JvdXBFbnRpdHk7CmltcG9ydCBtb2RlbHMuT0NGaWxlRW50aXR5OwppbXBvcnQgbW9kZWxzLk9DR3JvdXBFbnRpdHk7CmltcG9ydCBtb2RlbHMuZHRvLk9DRmlsZUR0bzsKaW1wb3J0IG1vZGVscy5kdG8uT0NGaWxlU3RhdHVzRHRvOwppbXBvcnQgb3JnLmFwYWNoZS5odHRwLmNvb2tpZS5Db29raWU7CmltcG9ydCBvcmcuYnNvbi50eXBlcy5PYmplY3RJZDsKaW1wb3J0IG9yZy5kb200ai5Eb2N1bWVudDsKaW1wb3J0IG9yZy5kb200ai5Eb2N1bWVudEhlbHBlcjsKaW1wb3J0IG9yZy5kb200ai5Ob2RlOwppbXBvcnQgcGxheS5jb3JlLmVuaGFuY2Vycy5Qcm9wZXJ0aWVzRW5oYW5jZXIuR2VuZXJhdGVkQWNjZXNzb3I7CmltcG9ydCBwbGF5LmNvcmUuZW5oYW5jZXJzLlByb3BlcnRpZXNFbmhhbmNlci5SZXdyaXR0ZW5BY2Nlc3NvcjsKaW1wb3J0IHByb2Nlc3MudGhyZWFkLk93bkNsb3VkVGhyZWFkOwppbXBvcnQgcmV0cm9maXQyLkNhbGw7CmltcG9ydCByZXRyb2ZpdDIuUmVzcG9uc2U7CmltcG9ydCB1dGlscy5SZXNwb25zZVV0aWw7CmltcG9ydCB1dGlscy5SZXN0VXRpbDsKCkBHZW5lcmF0ZWRBY2Nlc3NvcgpAUmV3cml0dGVuQWNjZXNzb3IKcHVibGljIGNsYXNzIE93bkNsb3VkU2VydmljZSB7CiAgICBwdWJsaWMgT3duQ2xvdWRTZXJ2aWNlKCkgewogICAgfQoKICAgIHB1YmxpYyBNYXA8U3RyaW5nLCBPYmplY3Q+IGdldE9DR3JvdXBzKEludGVnZXIgdHlwZSwgU3RyaW5nIGNpZCwgU3RyaW5nIGRvbWFpbikgdGhyb3dzIEV4Y2VwdGlvbiB7CiAgICAgICAgTWFwPFN0cmluZywgT2JqZWN0PiByZXN1bHRNYXAgPSBuZXcgSGFzaE1hcCgpOwogICAgICAgIE9DR3JvdXBIYW5kbGVyIG9jR3JvdXBIYW5kbGVyID0gbmV3IE9DR3JvdXBIYW5kbGVyKGRvbWFpbik7CiAgICAgICAgTGlzdDxPQ0dyb3VwRW50aXR5PiBvY0dyb3VwcyA9IG9jR3JvdXBIYW5kbGVyLmZpbmRBbGwoKTsKICAgICAgICBMaXN0PE1hcDxTdHJpbmcsIE9iamVjdD4+IG9jR3JvdXBMaXN0ID0gbmV3IEFycmF5TGlzdCgpOwogICAgICAgIEl0ZXJhdG9yIGkkID0gb2NHcm91cHMuaXRlcmF0b3IoKTsKCiAgICAgICAgd2hpbGUoaSQuaGFzTmV4dCgpKSB7CiAgICAgICAgICAgIE9DR3JvdXBFbnRpdHkgb2NHcm91cCA9IChPQ0dyb3VwRW50aXR5KWkkLm5leHQoKTsKICAgICAgICAgICAgTWFwPFN0cmluZywgT2JqZWN0PiBvY0dyb3VwTWFwID0gbmV3IEhhc2hNYXAoKTsKICAgICAgICAgICAgb2NHcm91cE1hcC5wdXQoImdyb3VwSWQiLCBvY0dyb3VwLmdldElkKCkudG9TdHJpbmcoKSk7CiAgICAgICAgICAgIG9jR3JvdXBNYXAucHV0KCJncm91cE5hbWUiLCBvY0dyb3VwLmdldE5hbWUoKSk7CiAgICAgICAgICAgIG9jR3JvdXBNYXAucHV0KCJvY1VybCIsIG9jR3JvdXAuZ2V0T2NVcmwoKSk7CiAgICAgICAgICAgIG9jR3JvdXBNYXAucHV0KCJvY1VzZXIiLCBvY0dyb3VwLmdldE9jVXNlcigpKTsKICAgICAgICAgICAgb2NHcm91cE1hcC5wdXQoIm9jUGFzcyIsIG9jR3JvdXAuZ2V0T2NQYXNzKCkpOwogICAgICAgICAgICBvY0dyb3VwTGlzdC5hZGQob2NHcm91cE1hcCk7CiAgICAgICAgfQoKICAgICAgICByZXN1bHRNYXAucHV0KCJncm91cHMiLCBvY0dyb3VwTGlzdCk7CiAgICAgICAgcmV0dXJuIFJlc3BvbnNlVXRpbC5yZXR1cm5NYXAoY2lkLCBJbnRlZ2VyLnZhbHVlT2YoMCksICLmraPluLgiLCByZXN1bHRNYXApOwogICAgfQoKICAgIHB1YmxpYyBNYXA8U3RyaW5nLCBPYmplY3Q+IGdldE9DRmlsZXNTdGF0dXMoU3RyaW5nIGNpZCwgU3RyaW5nIGRvbWFpbiwgU3RyaW5nIHVzZXJJZCwgTGlzdDxTdHJpbmc+IGZpbGVJZHMpIHRocm93cyBFeGNlcHRpb24gewogICAgICAgIE1hcDxTdHJpbmcsIE9iamVjdD4gcmVzdWx0TWFwID0gbmV3IEhhc2hNYXAoKTsKICAgICAgICBFbXBsb3llZUhhbmRsZXIgZW1wbG95ZWVIYW5kbGVyID0gbmV3IEVtcGxveWVlSGFuZGxlcihkb21haW4pOwogICAgICAgIEVtcGxveWVlRW50aXR5IGVtcGxveWVlRW50aXR5ID0gZW1wbG95ZWVIYW5kbGVyLmZpbmRPbmUodXNlcklkKTsKICAgICAgICBTZXQ8U3RyaW5nPiBvcmdJZHMgPSBuZXcgSGFzaFNldCgpOwogICAgICAgIG9yZ0lkcy5hZGQoZW1wbG95ZWVFbnRpdHkuZ2V0T3JnSWQoKSk7CiAgICAgICAgR3JvdXBIYW5kbGVyIGdyb3VwSGFuZGxlciA9IG5ldyBHcm91cEhhbmRsZXIoZG9tYWluKTsKICAgICAgICBMaXN0PEdyb3VwRW50aXR5PiBncm91cEVudGl0eXMgPSBncm91cEhhbmRsZXIuZmluZEJ5VXNlcklkKHVzZXJJZCk7CiAgICAgICAgU2V0PFN0cmluZz4gZ3JvdXBJZHMgPSBuZXcgSGFzaFNldCgpOwogICAgICAgIEl0ZXJhdG9yIGkkID0gZ3JvdXBFbnRpdHlzLml0ZXJhdG9yKCk7CgogICAgICAgIHdoaWxlKGkkLmhhc05leHQoKSkgewogICAgICAgICAgICBHcm91cEVudGl0eSBncm91cEVudGl0eSA9IChHcm91cEVudGl0eSlpJC5uZXh0KCk7CiAgICAgICAgICAgIGdyb3VwSWRzLmFkZChncm91cEVudGl0eS5nZXRJZCgpLnRvU3RyaW5nKCkpOwogICAgICAgIH0KCiAgICAgICAgT0NGaWxlSGFuZGxlciBvY0ZpbGVIYW5kbGVyID0gbmV3IE9DRmlsZUhhbmRsZXIoZG9tYWluKTsKICAgICAgICBMaXN0PE9DRmlsZUVudGl0eT4gc2hvd3MgPSBvY0ZpbGVIYW5kbGVyLmZpbmRTaG93KG9yZ0lkcywgZ3JvdXBJZHMpOwogICAgICAgIExpc3Q8T0NGaWxlRW50aXR5PiBkb3dubG9hZHMgPSBvY0ZpbGVIYW5kbGVyLmZpbmREb3dubG9hZChvcmdJZHMsIGdyb3VwSWRzKTsKICAgICAgICBTZXQ8U3RyaW5nPiBzaG93U2V0ID0gbmV3IEhhc2hTZXQoKTsKICAgICAgICBTZXQ8U3RyaW5nPiBkb3dubG9hZFNldCA9IG5ldyBIYXNoU2V0KCk7CiAgICAgICAgSXRlcmF0b3IgaSQgPSBzaG93cy5pdGVyYXRvcigpOwoKICAgICAgICBPQ0ZpbGVFbnRpdHkgb2NGaWxlRW50aXR5OwogICAgICAgIHdoaWxlKGkkLmhhc05leHQoKSkgewogICAgICAgICAgICBvY0ZpbGVFbnRpdHkgPSAoT0NGaWxlRW50aXR5KWkkLm5leHQoKTsKICAgICAgICAgICAgc2hvd1NldC5hZGQob2NGaWxlRW50aXR5LmdldEZpbGVJZCgpKTsKICAgICAgICB9CgogICAgICAgIGkkID0gZG93bmxvYWRzLml0ZXJhdG9yKCk7CgogICAgICAgIHdoaWxlKGkkLmhhc05leHQoKSkgewogICAgICAgICAgICBvY0ZpbGVFbnRpdHkgPSAoT0NGaWxlRW50aXR5KWkkLm5leHQoKTsKICAgICAgICAgICAgZG93bmxvYWRTZXQuYWRkKG9jRmlsZUVudGl0eS5nZXRGaWxlSWQoKSk7CiAgICAgICAgfQoKICAgICAgICBMaXN0PE9DRmlsZVN0YXR1c0R0bz4gb2NGaWxlTGlzdCA9IG5ldyBBcnJheUxpc3QoKTsKICAgICAgICBJdGVyYXRvciBpJCA9IGZpbGVJZHMuaXRlcmF0b3IoKTsKCiAgICAgICAgd2hpbGUoaSQuaGFzTmV4dCgpKSB7CiAgICAgICAgICAgIFN0cmluZyBmaWxlSWQgPSAoU3RyaW5nKWkkLm5leHQoKTsKICAgICAgICAgICAgT0NGaWxlU3RhdHVzRHRvIG9jRmlsZUR0byA9IG5ldyBPQ0ZpbGVTdGF0dXNEdG8oKTsKICAgICAgICAgICAgb2NGaWxlRHRvLnNldElkKGZpbGVJZCk7CiAgICAgICAgICAgIG9jRmlsZUR0by5zZXRTaG93KHNob3dTZXQuY29udGFpbnMoZmlsZUlkKSA/IDEgOiAwKTsKICAgICAgICAgICAgb2NGaWxlRHRvLnNldERvd25sb2FkKGRvd25sb2FkU2V0LmNvbnRhaW5zKGZpbGVJZCkgPyAxIDogMCk7CiAgICAgICAgICAgIG9jRmlsZUxpc3QuYWRkKG9jRmlsZUR0byk7CiAgICAgICAgfQoKICAgICAgICByZXN1bHRNYXAucHV0KCJmaWxlcyIsIG9jRmlsZUxpc3QpOwogICAgICAgIHJldHVybiBSZXNwb25zZVV0aWwucmV0dXJuTWFwKGNpZCwgSW50ZWdlci52YWx1ZU9mKDApLCAi5q2j5bi4IiwgcmVzdWx0TWFwKTsKICAgIH0KCiAgICBwdWJsaWMgTWFwPFN0cmluZywgT2JqZWN0PiBnZXRPQ0ZpbGVzKFN0cmluZyBjaWQsIFN0cmluZyBkb21haW4sIFN0cmluZyB1c2VySWQsIFN0cmluZyBncm91cElkLCBTdHJpbmcgZGlyKSB0aHJvd3MgRXhjZXB0aW9uIHsKICAgICAgICBNYXA8U3RyaW5nLCBPYmplY3Q+IHJlc3VsdE1hcCA9IG5ldyBIYXNoTWFwKCk7CiAgICAgICAgaWYgKCFFbXB0eVV0aWwuaXNOb3RFbXB0eShncm91cElkKSkgewogICAgICAgICAgICByZXR1cm4gUmVzcG9uc2VVdGlsLnJldHVybk1hcChjaWQsIEludGVnZXIudmFsdWVPZigxKSwgIuacquS8oOWFpeWPguaVsCIsIHJlc3VsdE1hcCk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgT0NHcm91cEhhbmRsZXIgb2NHcm91cEhhbmRsZXIgPSBuZXcgT0NHcm91cEhhbmRsZXIoZG9tYWluKTsKICAgICAgICAgICAgT0NHcm91cEVudGl0eSBvY0dyb3VwRW50aXR5ID0gKE9DR3JvdXBFbnRpdHkpb2NHcm91cEhhbmRsZXIuZmluZE9uZShuZXcgT2JqZWN0SWQoZ3JvdXBJZCkpOwogICAgICAgICAgICBpZiAoIUVtcHR5VXRpbC5pc05vdEVtcHR5KG9jR3JvdXBFbnRpdHkpKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gUmVzcG9uc2VVdGlsLnJldHVybk1hcChjaWQsIEludGVnZXIudmFsdWVPZigyKSwgIuS6keebmOWIhue7hOS4jeWtmOWcqCIsIHJlc3VsdE1hcCk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBTdHJpbmcgYXV0aCA9IG9jR3JvdXBFbnRpdHkuZ2V0T2NVc2VyKCkgKyAiOiIgKyBvY0dyb3VwRW50aXR5LmdldE9jUGFzcygpOwogICAgICAgICAgICAgICAgU3RyaW5nIGJhc2VBdXRoID0gQmFzZTY0LmVuY29kZShhdXRoLmdldEJ5dGVzKCkpOwogICAgICAgICAgICAgICAgTWFwPFN0cmluZywgU3RyaW5nPiBoZWFkZXJzID0gbmV3IEhhc2hNYXAoKTsKICAgICAgICAgICAgICAgIGhlYWRlcnMucHV0KCJDb29raWUiLCAib2N0b280cjJwZmRlPSIpOwogICAgICAgICAgICAgICAgaGVhZGVycy5wdXQoIkF1dGhvcml6YXRpb24iLCAiQmFzaWMgIiArIGJhc2VBdXRoKTsKICAgICAgICAgICAgICAgIE9jU2VydmljZSBvY1NlcnZpY2UgPSBPY1NlcnZpY2VGYWN0b3J5LmdldEluc3RhbmNlKG9jR3JvdXBFbnRpdHkuZ2V0T2NVcmwoKSk7CiAgICAgICAgICAgICAgICBDYWxsPFJlc3BvbnNlRW50aXR5PiBmaWxlTGlzdENhbGwgPSBvY1NlcnZpY2UuZ2V0RmlsZUxpc3QoaGVhZGVycywgZGlyKTsKICAgICAgICAgICAgICAgIFJlc3BvbnNlIGZpbGVMaXN0UmVzcG9uc2UgPSBudWxsOwoKICAgICAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICAgICAgZmlsZUxpc3RSZXNwb25zZSA9IGZpbGVMaXN0Q2FsbC5leGVjdXRlKCk7CiAgICAgICAgICAgICAgICB9IGNhdGNoIChJT0V4Y2VwdGlvbiB2YXIzNCkgewogICAgICAgICAgICAgICAgICAgIDsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBpZiAoIUVtcHR5VXRpbC5pc05vdEVtcHR5KGZpbGVMaXN0UmVzcG9uc2UpKSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFJlc3BvbnNlVXRpbC5yZXR1cm5NYXAoY2lkLCBJbnRlZ2VyLnZhbHVlT2YoMyksICLkupHnm5jmnI3liqHmnKrlkK/liqgiLCByZXN1bHRNYXApOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICBSZXNwb25zZUVudGl0eSBmaWxlTGlzdEVudGl0eSA9IChSZXNwb25zZUVudGl0eSlmaWxlTGlzdFJlc3BvbnNlLmJvZHkoKTsKICAgICAgICAgICAgICAgICAgICBpZiAoISJzdWNjZXNzIi5lcXVhbHMoZmlsZUxpc3RFbnRpdHkuZ2V0U3RhdHVzKCkpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBSZXNwb25zZVV0aWwucmV0dXJuTWFwKGNpZCwgSW50ZWdlci52YWx1ZU9mKDQpLCAi5LqR55uY5pyN5Yqh5aSx6LSlIiwgcmVzdWx0TWFwKTsKICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICBKc29uT2JqZWN0IGRhdGEgPSBmaWxlTGlzdEVudGl0eS5nZXREYXRhKCkuZ2V0QXNKc29uT2JqZWN0KCk7CiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdE1hcC5wdXQoImRpcmVjdG9yeSIsIGRhdGEuZ2V0KCJkaXJlY3RvcnkiKS5nZXRBc1N0cmluZygpKTsKICAgICAgICAgICAgICAgICAgICAgICAgSnNvbkFycmF5IGZpbGVzID0gZGF0YS5nZXQoImZpbGVzIikuZ2V0QXNKc29uQXJyYXkoKTsKICAgICAgICAgICAgICAgICAgICAgICAgSXRlcmF0b3I8SnNvbkVsZW1lbnQ+IGZpbGVzSXRlcmF0b3IgPSBmaWxlcy5pdGVyYXRvcigpOwogICAgICAgICAgICAgICAgICAgICAgICBBcnJheUxpc3QgZmlsZUxpc3QgPSBuZXcgQXJyYXlMaXN0KCk7CgogICAgICAgICAgICAgICAgICAgICAgICB3aGlsZShmaWxlc0l0ZXJhdG9yLmhhc05leHQoKSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgT0NGaWxlRHRvIG9jRmlsZUR0byA9IG5ldyBPQ0ZpbGVEdG8oKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIEpzb25PYmplY3QgZmlsZSA9ICgoSnNvbkVsZW1lbnQpZmlsZXNJdGVyYXRvci5uZXh0KCkpLmdldEFzSnNvbk9iamVjdCgpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgb2NGaWxlRHRvLnNldElkKGZpbGUuZ2V0KCJpZCIpLmdldEFzU3RyaW5nKCkpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgb2NGaWxlRHRvLnNldFBhcmVudElkKGZpbGUuZ2V0KCJwYXJlbnRJZCIpLmdldEFzU3RyaW5nKCkpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgb2NGaWxlRHRvLnNldERhdGUoZmlsZS5nZXQoImRhdGUiKS5nZXRBc1N0cmluZygpKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9jRmlsZUR0by5zZXRNdGltZShmaWxlLmdldCgibXRpbWUiKS5nZXRBc0xvbmcoKSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvY0ZpbGVEdG8uc2V0SWNvbihmaWxlLmdldCgiaWNvbiIpLmdldEFzU3RyaW5nKCkpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgb2NGaWxlRHRvLnNldE5hbWUoZmlsZS5nZXQoIm5hbWUiKS5nZXRBc1N0cmluZygpKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9jRmlsZUR0by5zZXRQZXJtaXNzaW9ucyhmaWxlLmdldCgicGVybWlzc2lvbnMiKS5nZXRBc0ludCgpKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9jRmlsZUR0by5zZXRNaW1ldHlwZShmaWxlLmdldCgibWltZXR5cGUiKS5nZXRBc1N0cmluZygpKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9jRmlsZUR0by5zZXRTaXplKGZpbGUuZ2V0KCJzaXplIikuZ2V0QXNTdHJpbmcoKSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvY0ZpbGVEdG8uc2V0VHlwZShmaWxlLmdldCgidHlwZSIpLmdldEFzU3RyaW5nKCkpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgb2NGaWxlRHRvLnNldEV0YWcoZmlsZS5nZXQoImV0YWciKS5nZXRBc1N0cmluZygpKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbGVMaXN0LmFkZChvY0ZpbGVEdG8pOwogICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWZpbGVMaXN0LmlzRW1wdHkoKSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgRW1wbG95ZWVIYW5kbGVyIGVtcGxveWVlSGFuZGxlciA9IG5ldyBFbXBsb3llZUhhbmRsZXIoZG9tYWluKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIEVtcGxveWVlRW50aXR5IGVtcGxveWVlRW50aXR5ID0gZW1wbG95ZWVIYW5kbGVyLmZpbmRPbmUodXNlcklkKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIFNldDxTdHJpbmc+IG9yZ0lkcyA9IG5ldyBIYXNoU2V0KCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcmdJZHMuYWRkKGVtcGxveWVlRW50aXR5LmdldE9yZ0lkKCkpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgR3JvdXBIYW5kbGVyIGdyb3VwSGFuZGxlciA9IG5ldyBHcm91cEhhbmRsZXIoZG9tYWluKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIExpc3Q8R3JvdXBFbnRpdHk+IGdyb3VwRW50aXR5cyA9IGdyb3VwSGFuZGxlci5maW5kQnlVc2VySWQodXNlcklkKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIFNldDxTdHJpbmc+IGdyb3VwSWRzID0gbmV3IEhhc2hTZXQoKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIEl0ZXJhdG9yIGkkID0gZ3JvdXBFbnRpdHlzLml0ZXJhdG9yKCk7CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgd2hpbGUoaSQuaGFzTmV4dCgpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgR3JvdXBFbnRpdHkgZ3JvdXBFbnRpdHkgPSAoR3JvdXBFbnRpdHkpaSQubmV4dCgpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdyb3VwSWRzLmFkZChncm91cEVudGl0eS5nZXRJZCgpLnRvU3RyaW5nKCkpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIE9DRmlsZUhhbmRsZXIgb2NGaWxlSGFuZGxlciA9IG5ldyBPQ0ZpbGVIYW5kbGVyKGRvbWFpbik7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBMaXN0PE9DRmlsZUVudGl0eT4gc2hvd3MgPSBvY0ZpbGVIYW5kbGVyLmZpbmRTaG93KG9yZ0lkcywgZ3JvdXBJZHMpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgTGlzdDxPQ0ZpbGVFbnRpdHk+IGRvd25sb2FkcyA9IG9jRmlsZUhhbmRsZXIuZmluZERvd25sb2FkKG9yZ0lkcywgZ3JvdXBJZHMpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgU2V0PFN0cmluZz4gc2hvd1NldCA9IG5ldyBIYXNoU2V0KCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBTZXQ8U3RyaW5nPiBkb3dubG9hZFNldCA9IG5ldyBIYXNoU2V0KCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBJdGVyYXRvciBpJCA9IHNob3dzLml0ZXJhdG9yKCk7CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgT0NGaWxlRW50aXR5IG9jRmlsZUVudGl0eTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdoaWxlKGkkLmhhc05leHQoKSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9jRmlsZUVudGl0eSA9IChPQ0ZpbGVFbnRpdHkpaSQubmV4dCgpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNob3dTZXQuYWRkKG9jRmlsZUVudGl0eS5nZXRGaWxlSWQoKSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgaSQgPSBkb3dubG9hZHMuaXRlcmF0b3IoKTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aGlsZShpJC5oYXNOZXh0KCkpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvY0ZpbGVFbnRpdHkgPSAoT0NGaWxlRW50aXR5KWkkLm5leHQoKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb3dubG9hZFNldC5hZGQob2NGaWxlRW50aXR5LmdldEZpbGVJZCgpKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpJCA9IGZpbGVMaXN0Lml0ZXJhdG9yKCk7CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgd2hpbGUoaSQuaGFzTmV4dCgpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgT0NGaWxlRHRvIG9jRmlsZUR0byA9IChPQ0ZpbGVEdG8paSQubmV4dCgpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFN0cmluZyBmaWxlSWQgPSBvY0ZpbGVEdG8uZ2V0SWQoKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvY0ZpbGVEdG8uc2V0U2hvdyhzaG93U2V0LmNvbnRhaW5zKGZpbGVJZCkgPyAxIDogMCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2NGaWxlRHRvLnNldERvd25sb2FkKGRvd25sb2FkU2V0LmNvbnRhaW5zKGZpbGVJZCkgPyAxIDogMCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdE1hcC5wdXQoImZpbGVzIiwgZmlsZUxpc3QpOwogICAgICAgICAgICAgICAgICAgICAgICByZXN1bHRNYXAucHV0KCJwZXJtaXNzaW9ucyIsIGRhdGEuZ2V0KCJwZXJtaXNzaW9ucyIpLmdldEFzSW50KCkpOwogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gUmVzcG9uc2VVdGlsLnJldHVybk1hcChjaWQsIEludGVnZXIudmFsdWVPZigwKSwgIuato+W4uCIsIHJlc3VsdE1hcCk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfQoKICAgIHB1YmxpYyBNYXA8U3RyaW5nLCBPYmplY3Q+IGdldE9DQ29va2llcyhTdHJpbmcgY2lkLCBTdHJpbmcgZG9tYWluLCBTdHJpbmcgZ3JvdXBJZCkgdGhyb3dzIEV4Y2VwdGlvbiB7CiAgICAgICAgTWFwPFN0cmluZywgT2JqZWN0PiByZXN1bHRNYXAgPSBuZXcgSGFzaE1hcCgpOwogICAgICAgIGlmIChFbXB0eVV0aWwuaXNOb3RFbXB0eShncm91cElkKSkgewogICAgICAgICAgICBPQ0dyb3VwSGFuZGxlciBvY0dyb3VwSGFuZGxlciA9IG5ldyBPQ0dyb3VwSGFuZGxlcihkb21haW4pOwogICAgICAgICAgICBPQ0dyb3VwRW50aXR5IG9jR3JvdXBFbnRpdHkgPSAoT0NHcm91cEVudGl0eSlvY0dyb3VwSGFuZGxlci5maW5kT25lKG5ldyBPYmplY3RJZChncm91cElkKSk7CiAgICAgICAgICAgIGlmIChFbXB0eVV0aWwuaXNOb3RFbXB0eShvY0dyb3VwRW50aXR5KSkgewogICAgICAgICAgICAgICAgTWFwPFN0cmluZywgT2JqZWN0PiBvbGRDb29raWUgPSB0aGlzLmdldENvb2tpZShvY0dyb3VwRW50aXR5LmdldE9jVXJsKCkpOwogICAgICAgICAgICAgICAgU3RyaW5nIGNvbnRlbnRUeXBlID0gImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCI7CiAgICAgICAgICAgICAgICBNYXA8U3RyaW5nLCBTdHJpbmc+IGhlYWRlciA9IG5ldyBIYXNoTWFwKCk7CiAgICAgICAgICAgICAgICBEQk9iamVjdCBib2R5ID0gbmV3IEJhc2ljREJPYmplY3QoKTsKICAgICAgICAgICAgICAgIGJvZHkucHV0KCJ1c2VyIiwgb2NHcm91cEVudGl0eS5nZXRPY1VzZXIoKSk7CiAgICAgICAgICAgICAgICBib2R5LnB1dCgicGFzc3dvcmQiLCBvY0dyb3VwRW50aXR5LmdldE9jUGFzcygpKTsKICAgICAgICAgICAgICAgIGJvZHkucHV0KCJyZXF1ZXN0dG9rZW4iLCAoU3RyaW5nKW9sZENvb2tpZS5nZXQoInJlcXVlc3RUb2tlbiIpKTsKICAgICAgICAgICAgICAgIERCT2JqZWN0IHJlcyA9IFJlc3RVdGlsLnBvc3Qob2NHcm91cEVudGl0eS5nZXRPY1VybCgpLCBjb250ZW50VHlwZSwgaGVhZGVyLCAoTGlzdClvbGRDb29raWUuZ2V0KCJjb29raWVzIiksIGJvZHkpOwogICAgICAgICAgICAgICAgTGlzdDxDb29raWU+IGNvb2tpZXMgPSAoTGlzdClyZXMuZ2V0KCJjb29raWVzIik7CiAgICAgICAgICAgICAgICByZXN1bHRNYXAucHV0KCJjb29raWVzIiwgY29va2llcyk7CiAgICAgICAgICAgICAgICByZXR1cm4gUmVzcG9uc2VVdGlsLnJldHVybk1hcChjaWQsIEludGVnZXIudmFsdWVPZigwKSwgIuato+W4uCIsIHJlc3VsdE1hcCk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICByZXR1cm4gUmVzcG9uc2VVdGlsLnJldHVybk1hcChjaWQsIEludGVnZXIudmFsdWVPZigyKSwgIuS6keebmOWIhue7hOS4jeWtmOWcqCIsIHJlc3VsdE1hcCk7CiAgICAgICAgICAgIH0KICAgICAgICB9IGVsc2UgewogICAgICAgICAgICByZXR1cm4gUmVzcG9uc2VVdGlsLnJldHVybk1hcChjaWQsIEludGVnZXIudmFsdWVPZigxKSwgIuacquS8oOWFpeWPguaVsCIsIHJlc3VsdE1hcCk7CiAgICAgICAgfQogICAgfQoKICAgIHByaXZhdGUgTWFwPFN0cmluZywgT2JqZWN0PiBnZXRDb29raWUoU3RyaW5nIG9jVXJsKSB7CiAgICAgICAgTWFwPFN0cmluZywgT2JqZWN0PiByZXN1bHRNYXAgPSBuZXcgSGFzaE1hcCgpOwogICAgICAgIERCT2JqZWN0IHJlcyA9IFJlc3RVdGlsLmdldChvY1VybCk7CiAgICAgICAgcmVzdWx0TWFwLnB1dCgicmVxdWVzdFRva2VuIiwgdGhpcy5nZXRSZXF1ZXN0VG9rZW4oKFN0cmluZylyZXMuZ2V0KCJib2R5IikpKTsKICAgICAgICByZXN1bHRNYXAucHV0KCJjb29raWVzIiwgcmVzLmdldCgiY29va2llcyIpKTsKICAgICAgICByZXR1cm4gcmVzdWx0TWFwOwogICAgfQoKICAgIHByaXZhdGUgU3RyaW5nIGdldFJlcXVlc3RUb2tlbihTdHJpbmcgY29udGVudCkgewogICAgICAgIHJldHVybiB0aGlzLmdldFZhbHVlKGNvbnRlbnQsICJkYXRhLXJlcXVlc3R0b2tlbj1cIiIsICJcIiIpOwogICAgfQoKICAgIHByaXZhdGUgU3RyaW5nIGdldFZhbHVlKFN0cmluZyBjb250ZW50LCBTdHJpbmcgYmVnaW5TdHIsIFN0cmluZyBlbmRTdHIpIHsKICAgICAgICBpbnQgYmVnaW4gPSBjb250ZW50LmluZGV4T2YoYmVnaW5TdHIpOwogICAgICAgIGlmIChiZWdpbiAhPSAtMSkgewogICAgICAgICAgICBjb250ZW50ID0gY29udGVudC5zdWJzdHJpbmcoYmVnaW4gKyBiZWdpblN0ci5sZW5ndGgoKSk7CiAgICAgICAgICAgIGludCBlbmQgPSBjb250ZW50LmluZGV4T2YoZW5kU3RyKTsKICAgICAgICAgICAgaWYgKGVuZCAhPSAtMSkgewogICAgICAgICAgICAgICAgY29udGVudCA9IGNvbnRlbnQuc3Vic3RyaW5nKDAsIGVuZCk7CiAgICAgICAgICAgIH0KICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBjb250ZW50ID0gIiI7CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gY29udGVudDsKICAgIH0KCiAgICBwdWJsaWMgTWFwPFN0cmluZywgT2JqZWN0PiBnZXRPQ0dyb3Vwc09mVXNlcihTdHJpbmcgY2lkLCBTdHJpbmcgZG9tYWluLCBTdHJpbmcgdXNlcklkKSB0aHJvd3MgRXhjZXB0aW9uIHsKICAgICAgICBNYXA8U3RyaW5nLCBPYmplY3Q+IHJlc3VsdE1hcCA9IG5ldyBIYXNoTWFwKCk7CiAgICAgICAgT0NHcm91cEhhbmRsZXIgb2NHcm91cEhhbmRsZXIgPSBuZXcgT0NHcm91cEhhbmRsZXIoZG9tYWluKTsKICAgICAgICBMaXN0PE9DR3JvdXBFbnRpdHk+IG9jR3JvdXBzID0gb2NHcm91cEhhbmRsZXIuZmluZEJ5VXNlcklkKHVzZXJJZCk7CiAgICAgICAgTGlzdDxNYXA8U3RyaW5nLCBPYmplY3Q+PiBvY0dyb3VwTGlzdCA9IG5ldyBBcnJheUxpc3QoKTsKICAgICAgICBJdGVyYXRvciBpJCA9IG9jR3JvdXBzLml0ZXJhdG9yKCk7CgogICAgICAgIHdoaWxlKGkkLmhhc05leHQoKSkgewogICAgICAgICAgICBPQ0dyb3VwRW50aXR5IG9jR3JvdXAgPSAoT0NHcm91cEVudGl0eSlpJC5uZXh0KCk7CiAgICAgICAgICAgIE1hcDxTdHJpbmcsIE9iamVjdD4gb2NHcm91cE1hcCA9IG5ldyBIYXNoTWFwKCk7CiAgICAgICAgICAgIG9jR3JvdXBNYXAucHV0KCJncm91cElkIiwgb2NHcm91cC5nZXRJZCgpLnRvU3RyaW5nKCkpOwogICAgICAgICAgICBvY0dyb3VwTWFwLnB1dCgiZ3JvdXBOYW1lIiwgb2NHcm91cC5nZXROYW1lKCkpOwogICAgICAgICAgICBvY0dyb3VwTWFwLnB1dCgib2NVcmwiLCBvY0dyb3VwLmdldE9jVXJsKCkpOwogICAgICAgICAgICBvY0dyb3VwTWFwLnB1dCgib2NVc2VyIiwgb2NHcm91cC5nZXRPY1VzZXIoKSk7CiAgICAgICAgICAgIG9jR3JvdXBNYXAucHV0KCJvY1Bhc3MiLCBvY0dyb3VwLmdldE9jUGFzcygpKTsKICAgICAgICAgICAgb2NHcm91cExpc3QuYWRkKG9jR3JvdXBNYXApOwogICAgICAgIH0KCiAgICAgICAgcmVzdWx0TWFwLnB1dCgiZ3JvdXBzIiwgb2NHcm91cExpc3QpOwogICAgICAgIHJldHVybiBSZXNwb25zZVV0aWwucmV0dXJuTWFwKGNpZCwgSW50ZWdlci52YWx1ZU9mKDApLCAi5q2j5bi4IiwgcmVzdWx0TWFwKTsKICAgIH0KCiAgICBwdWJsaWMgTWFwPFN0cmluZywgT2JqZWN0PiBnZXRPQ0ZpbGVTaG93KFN0cmluZyBjaWQsIFN0cmluZyBkb21haW4sIFN0cmluZyBmaWxlSWQpIHRocm93cyBFeGNlcHRpb24gewogICAgICAgIE1hcDxTdHJpbmcsIE9iamVjdD4gcmVzdWx0TWFwID0gbmV3IEhhc2hNYXAoKTsKICAgICAgICBpZiAoRW1wdHlVdGlsLmlzTm90RW1wdHkoZmlsZUlkKSkgewogICAgICAgICAgICBPQ0ZpbGVIYW5kbGVyIG9jRmlsZUhhbmRsZXIgPSBuZXcgT0NGaWxlSGFuZGxlcihkb21haW4pOwogICAgICAgICAgICBPQ0ZpbGVFbnRpdHkgb2NGaWxlRW50aXR5ID0gb2NGaWxlSGFuZGxlci5maW5kT25lKGZpbGVJZCk7CiAgICAgICAgICAgIExpc3Q8U3RyaW5nPiBzaG93T3JncyA9IG51bGw7CiAgICAgICAgICAgIExpc3Q8U3RyaW5nPiBzaG93R3JvdXBzID0gbnVsbDsKICAgICAgICAgICAgaWYgKEVtcHR5VXRpbC5pc05vdEVtcHR5KG9jRmlsZUVudGl0eSkpIHsKICAgICAgICAgICAgICAgIHNob3dPcmdzID0gb2NGaWxlRW50aXR5LmdldFNob3dPcmdzKCk7CiAgICAgICAgICAgICAgICBzaG93R3JvdXBzID0gb2NGaWxlRW50aXR5LmdldFNob3dHcm91cHMoKTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIHNob3dPcmdzID0gbmV3IEFycmF5TGlzdCgpOwogICAgICAgICAgICAgICAgc2hvd0dyb3VwcyA9IG5ldyBBcnJheUxpc3QoKTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgcmVzdWx0TWFwLnB1dCgic2hvd09yZ3MiLCBzaG93T3Jncyk7CiAgICAgICAgICAgIHJlc3VsdE1hcC5wdXQoInNob3dHcm91cHMiLCBzaG93R3JvdXBzKTsKICAgICAgICAgICAgcmV0dXJuIFJlc3BvbnNlVXRpbC5yZXR1cm5NYXAoY2lkLCBJbnRlZ2VyLnZhbHVlT2YoMCksICLmraPluLgiLCByZXN1bHRNYXApOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHJldHVybiBSZXNwb25zZVV0aWwucmV0dXJuTWFwKGNpZCwgSW50ZWdlci52YWx1ZU9mKDEpLCAi5pyq5Lyg5YWl5Y+C5pWwIiwgcmVzdWx0TWFwKTsKICAgICAgICB9CiAgICB9CgogICAgcHVibGljIE1hcDxTdHJpbmcsIE9iamVjdD4gZ2V0T0NGaWxlRG93bmxvYWQoU3RyaW5nIGNpZCwgU3RyaW5nIGRvbWFpbiwgU3RyaW5nIGZpbGVJZCkgdGhyb3dzIEV4Y2VwdGlvbiB7CiAgICAgICAgTWFwPFN0cmluZywgT2JqZWN0PiByZXN1bHRNYXAgPSBuZXcgSGFzaE1hcCgpOwogICAgICAgIGlmIChFbXB0eVV0aWwuaXNOb3RFbXB0eShmaWxlSWQpKSB7CiAgICAgICAgICAgIE9DRmlsZUhhbmRsZXIgb2NGaWxlSGFuZGxlciA9IG5ldyBPQ0ZpbGVIYW5kbGVyKGRvbWFpbik7CiAgICAgICAgICAgIE9DRmlsZUVudGl0eSBvY0ZpbGVFbnRpdHkgPSBvY0ZpbGVIYW5kbGVyLmZpbmRPbmUoZmlsZUlkKTsKICAgICAgICAgICAgTGlzdDxTdHJpbmc+IGRvd25sb2FkT3JncyA9IG51bGw7CiAgICAgICAgICAgIExpc3Q8U3RyaW5nPiBkb3dubG9hZEdyb3VwcyA9IG51bGw7CiAgICAgICAgICAgIGlmIChFbXB0eVV0aWwuaXNOb3RFbXB0eShvY0ZpbGVFbnRpdHkpKSB7CiAgICAgICAgICAgICAgICBkb3dubG9hZE9yZ3MgPSBvY0ZpbGVFbnRpdHkuZ2V0RG93bmxvYWRPcmdzKCk7CiAgICAgICAgICAgICAgICBkb3dubG9hZEdyb3VwcyA9IG9jRmlsZUVudGl0eS5nZXREb3dubG9hZEdyb3VwcygpOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgZG93bmxvYWRPcmdzID0gbmV3IEFycmF5TGlzdCgpOwogICAgICAgICAgICAgICAgZG93bmxvYWRHcm91cHMgPSBuZXcgQXJyYXlMaXN0KCk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIHJlc3VsdE1hcC5wdXQoImRvd25sb2FkT3JncyIsIGRvd25sb2FkT3Jncyk7CiAgICAgICAgICAgIHJlc3VsdE1hcC5wdXQoImRvd25sb2FkR3JvdXBzIiwgZG93bmxvYWRHcm91cHMpOwogICAgICAgICAgICByZXR1cm4gUmVzcG9uc2VVdGlsLnJldHVybk1hcChjaWQsIEludGVnZXIudmFsdWVPZigwKSwgIuato+W4uCIsIHJlc3VsdE1hcCk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgcmV0dXJuIFJlc3BvbnNlVXRpbC5yZXR1cm5NYXAoY2lkLCBJbnRlZ2VyLnZhbHVlT2YoMSksICLmnKrkvKDlhaXlj4LmlbAiLCByZXN1bHRNYXApOwogICAgICAgIH0KICAgIH0KCiAgICBwdWJsaWMgTWFwPFN0cmluZywgT2JqZWN0PiBtb2RPQ0ZpbGVzU2hvdyhTdHJpbmcgY2lkLCBTdHJpbmcgZG9tYWluLCBTdHJpbmcgb2NHcm91cElkLCBMaXN0PFN0cmluZz4gZGlycywgTGlzdDxTdHJpbmc+IGZpbGVJZHMsIExpc3Q8U3RyaW5nPiBvcmdJZHMsIExpc3Q8U3RyaW5nPiBncm91cElkcykgdGhyb3dzIEV4Y2VwdGlvbiB7CiAgICAgICAgaWYgKEVtcHR5VXRpbC5pc05vdEVtcHR5KG9jR3JvdXBJZCkpIHsKICAgICAgICAgICAgKG5ldyBUaHJlYWQobmV3IE93bkNsb3VkVGhyZWFkKEludGVnZXIudmFsdWVPZigxKSwgZG9tYWluLCBvY0dyb3VwSWQsIGRpcnMsIGZpbGVJZHMsIG9yZ0lkcywgZ3JvdXBJZHMpKSkuc3RhcnQoKTsKICAgICAgICAgICAgcmV0dXJuIFJlc3BvbnNlVXRpbC5yZXR1cm5NYXAoY2lkLCBJbnRlZ2VyLnZhbHVlT2YoMCksICLmraPluLgiKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICByZXR1cm4gUmVzcG9uc2VVdGlsLnJldHVybk1hcChjaWQsIEludGVnZXIudmFsdWVPZigxKSwgIuacquS8oOWFpeWPguaVsCIpOwogICAgICAgIH0KICAgIH0KCiAgICBwdWJsaWMgTWFwPFN0cmluZywgT2JqZWN0PiBtb2RPQ0ZpbGVzRG93bmxvYWQoU3RyaW5nIGNpZCwgU3RyaW5nIGRvbWFpbiwgU3RyaW5nIG9jR3JvdXBJZCwgTGlzdDxTdHJpbmc+IGRpcnMsIExpc3Q8U3RyaW5nPiBmaWxlSWRzLCBMaXN0PFN0cmluZz4gb3JnSWRzLCBMaXN0PFN0cmluZz4gZ3JvdXBJZHMpIHRocm93cyBFeGNlcHRpb24gewogICAgICAgIGlmIChFbXB0eVV0aWwuaXNOb3RFbXB0eShvY0dyb3VwSWQpKSB7CiAgICAgICAgICAgIChuZXcgVGhyZWFkKG5ldyBPd25DbG91ZFRocmVhZChJbnRlZ2VyLnZhbHVlT2YoMiksIGRvbWFpbiwgb2NHcm91cElkLCBkaXJzLCBmaWxlSWRzLCBvcmdJZHMsIGdyb3VwSWRzKSkpLnN0YXJ0KCk7CiAgICAgICAgICAgIHJldHVybiBSZXNwb25zZVV0aWwucmV0dXJuTWFwKGNpZCwgSW50ZWdlci52YWx1ZU9mKDApLCAi5q2j5bi4Iik7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgcmV0dXJuIFJlc3BvbnNlVXRpbC5yZXR1cm5NYXAoY2lkLCBJbnRlZ2VyLnZhbHVlT2YoMSksICLmnKrkvKDlhaXlj4LmlbAiKTsKICAgICAgICB9CiAgICB9CgogICAgcHVibGljIE1hcDxTdHJpbmcsIE9iamVjdD4gc2hhcmVPQ0ZpbGUoU3RyaW5nIGNpZCwgU3RyaW5nIGRvbWFpbiwgU3RyaW5nIGdyb3VwSWQsIFN0cmluZyBmaWxlUGF0aCkgdGhyb3dzIEV4Y2VwdGlvbiB7CiAgICAgICAgTWFwPFN0cmluZywgT2JqZWN0PiByZXN1bHRNYXAgPSBuZXcgSGFzaE1hcCgpOwogICAgICAgIGlmIChFbXB0eVV0aWwuaXNOb3RFbXB0eShncm91cElkKSkgewogICAgICAgICAgICBPQ0dyb3VwSGFuZGxlciBvY0dyb3VwSGFuZGxlciA9IG5ldyBPQ0dyb3VwSGFuZGxlcihkb21haW4pOwogICAgICAgICAgICBPQ0dyb3VwRW50aXR5IG9jR3JvdXBFbnRpdHkgPSAoT0NHcm91cEVudGl0eSlvY0dyb3VwSGFuZGxlci5maW5kT25lKG5ldyBPYmplY3RJZChncm91cElkKSk7CiAgICAgICAgICAgIGlmIChFbXB0eVV0aWwuaXNOb3RFbXB0eShvY0dyb3VwRW50aXR5KSkgewogICAgICAgICAgICAgICAgU3RyaW5nIGF1dGggPSBvY0dyb3VwRW50aXR5LmdldE9jVXNlcigpICsgIjoiICsgb2NHcm91cEVudGl0eS5nZXRPY1Bhc3MoKTsKICAgICAgICAgICAgICAgIFN0cmluZyBiYXNlQXV0aCA9IEJhc2U2NC5lbmNvZGUoYXV0aC5nZXRCeXRlcygpKTsKICAgICAgICAgICAgICAgIE1hcDxTdHJpbmcsIFN0cmluZz4gaGVhZGVycyA9IG5ldyBIYXNoTWFwKCk7CiAgICAgICAgICAgICAgICBoZWFkZXJzLnB1dCgiQ29udGVudC1UeXBlIiwgImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCIpOwogICAgICAgICAgICAgICAgaGVhZGVycy5wdXQoIkNvb2tpZSIsICJvY3RvbzRyMnBmZGU9Iik7CiAgICAgICAgICAgICAgICBoZWFkZXJzLnB1dCgiQXV0aG9yaXphdGlvbiIsICJCYXNpYyAiICsgYmFzZUF1dGgpOwogICAgICAgICAgICAgICAgREJPYmplY3QgYm9keSA9IG5ldyBCYXNpY0RCT2JqZWN0KCk7CiAgICAgICAgICAgICAgICBib2R5LnB1dCgicGF0aCIsIGZpbGVQYXRoKTsKICAgICAgICAgICAgICAgIGJvZHkucHV0KCJzaGFyZVR5cGUiLCAiMyIpOwogICAgICAgICAgICAgICAgYm9keS5wdXQoInBlcm1pc3Npb25zIiwgIjEiKTsKICAgICAgICAgICAgICAgIERCT2JqZWN0IHJlcyA9IFJlc3RVdGlsLnBvc3Qob2NHcm91cEVudGl0eS5nZXRPY1VybCgpICsgIi9vY3MvdjEucGhwL2FwcHMvZmlsZXNfc2hhcmluZy9hcGkvdjEvc2hhcmVzIiwgImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCIsIGhlYWRlcnMsIG5ldyBBcnJheUxpc3QoKSwgYm9keSk7CiAgICAgICAgICAgICAgICBpZiAoRW1wdHlVdGlsLmlzTm90RW1wdHkocmVzKSkgewogICAgICAgICAgICAgICAgICAgIFN0cmluZyByZXNCb2R5ID0gKFN0cmluZylyZXMuZ2V0KCJib2R5Iik7CiAgICAgICAgICAgICAgICAgICAgRG9jdW1lbnQgZG9jdW1lbnQgPSBEb2N1bWVudEhlbHBlci5wYXJzZVRleHQocmVzQm9keSk7CiAgICAgICAgICAgICAgICAgICAgTm9kZSBub2RlID0gZG9jdW1lbnQuc2VsZWN0U2luZ2xlTm9kZSgiLy90b2tlbiIpOwogICAgICAgICAgICAgICAgICAgIGlmIChFbXB0eVV0aWwuaXNOb3RFbXB0eShub2RlKSkgewogICAgICAgICAgICAgICAgICAgICAgICByZXN1bHRNYXAucHV0KCJ0b2tlbiIsIG5vZGUuZ2V0VGV4dCgpKTsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFJlc3BvbnNlVXRpbC5yZXR1cm5NYXAoY2lkLCBJbnRlZ2VyLnZhbHVlT2YoMCksICLmraPluLgiLCByZXN1bHRNYXApOwogICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBSZXNwb25zZVV0aWwucmV0dXJuTWFwKGNpZCwgSW50ZWdlci52YWx1ZU9mKDQpLCAi5YiG5Lqr5paH5Lu25aSx6LSlIik7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gUmVzcG9uc2VVdGlsLnJldHVybk1hcChjaWQsIEludGVnZXIudmFsdWVPZigzKSwgIuS6keebmOacjeWKoeacquWQr+WKqCIpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgcmV0dXJuIFJlc3BvbnNlVXRpbC5yZXR1cm5NYXAoY2lkLCBJbnRlZ2VyLnZhbHVlT2YoMiksICLkupHnm5jliIbnu4TkuI3lrZjlnKgiKTsKICAgICAgICAgICAgfQogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHJldHVybiBSZXNwb25zZVV0aWwucmV0dXJuTWFwKGNpZCwgSW50ZWdlci52YWx1ZU9mKDEpLCAi5pyq5Lyg5YWl5Y+C5pWwIik7CiAgICAgICAgfQogICAgfQp9Cg==</text>
      </register>
      <register name="1" type="2">
        <text encoding="base64">cGFja2FnZSBzZXJ2aWNlcy5hcGk7CgppbXBvcnQgY29tLmVpZ2h0c3BhY2Uuc2VydmVyLmNvbW1vbi5jb252ZXJ0LkVtcHR5VXRpbDsKaW1wb3J0IGRhb3Muc2l0ZS5Db21wYW55SGFuZGxlcjsKaW1wb3J0IGphdmEudXRpbC5IYXNoTWFwOwppbXBvcnQgamF2YS51dGlsLk1hcDsKaW1wb3J0IG1vZGVscy5zaXRlLkNvbXBhbnlFbnRpdHk7CmltcG9ydCBwbGF5LmNvcmUuZW5oYW5jZXJzLlByb3BlcnRpZXNFbmhhbmNlci5HZW5lcmF0ZWRBY2Nlc3NvcjsKaW1wb3J0IHBsYXkuY29yZS5lbmhhbmNlcnMuUHJvcGVydGllc0VuaGFuY2VyLlJld3JpdHRlbkFjY2Vzc29yOwppbXBvcnQgdXRpbHMuUmVzcG9uc2VVdGlsOwoKQEdlbmVyYXRlZEFjY2Vzc29yCkBSZXdyaXR0ZW5BY2Nlc3NvcgpwdWJsaWMgY2xhc3MgT3duQ2xvdWRTZXJ2aWNlIHsKICAgIHB1YmxpYyBPd25DbG91ZFNlcnZpY2UoKSB7CiAgICB9CgogICAgcHVibGljIE1hcDxTdHJpbmcsIE9iamVjdD4gcXVlcnlTdGF0dXMoU3RyaW5nIGNpZCwgU3RyaW5nIGRvbWFpbikgdGhyb3dzIEV4Y2VwdGlvbiB7CiAgICAgICAgTWFwPFN0cmluZywgT2JqZWN0PiByZXN1bHRNYXAgPSBuZXcgSGFzaE1hcCgpOwogICAgICAgIGlmIChFbXB0eVV0aWwuaXNOb3RFbXB0eShkb21haW4pKSB7CiAgICAgICAgICAgIENvbXBhbnlFbnRpdHkgY29tcGFueUVudGl0eSA9IChuZXcgQ29tcGFueUhhbmRsZXIoKSkuZmluZE9uZUJ5RG9tYWluKGRvbWFpbik7CiAgICAgICAgICAgIGlmIChFbXB0eVV0aWwuaXNOb3RFbXB0eShjb21wYW55RW50aXR5KSkgewogICAgICAgICAgICAgICAgcmVzdWx0TWFwLnB1dCgib3duQ2xvdWRTdGF0ZSIsIGNvbXBhbnlFbnRpdHkuZ2V0T3duQ2xvdWRTdGF0ZSgpKTsKICAgICAgICAgICAgICAgIHJlc3VsdE1hcC5wdXQoIm93bkNsb3VkVXJsIiwgY29tcGFueUVudGl0eS5nZXRPd25DbG91ZFVybCgpKTsKICAgICAgICAgICAgICAgIHJlc3VsdE1hcC5wdXQoIm93bkNsb3VkSXNGdWxsTmFtZUxvZ2luIiwgY29tcGFueUVudGl0eS5nZXRPd25DbG91ZElzRnVsbE5hbWVMb2dpbigpKTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIHJlc3VsdE1hcC5wdXQoIm93bkNsb3VkU3RhdGUiLCBJbnRlZ2VyLnZhbHVlT2YoMCkpOwogICAgICAgICAgICAgICAgcmVzdWx0TWFwLnB1dCgib3duQ2xvdWRVcmwiLCAiIik7CiAgICAgICAgICAgICAgICByZXN1bHRNYXAucHV0KCJvd25DbG91ZElzRnVsbE5hbWVMb2dpbiIsIEludGVnZXIudmFsdWVPZigwKSk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIHJldHVybiBSZXNwb25zZVV0aWwucmV0dXJuTWFwKGNpZCwgSW50ZWdlci52YWx1ZU9mKDApLCAi5q2j5bi4IiwgcmVzdWx0TWFwKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICByZXR1cm4gUmVzcG9uc2VVdGlsLnJldHVybk1hcChjaWQsIEludGVnZXIudmFsdWVPZigxKSwgIuWFpeWPguS4uuepuiIsIHJlc3VsdE1hcCk7CiAgICAgICAgfQogICAgfQoKICAgIHB1YmxpYyBNYXA8U3RyaW5nLCBPYmplY3Q+IHF1ZXJ5U2FsZVRvb2xDb25maWcoU3RyaW5nIGNpZCwgU3RyaW5nIGRvbWFpbikgdGhyb3dzIEV4Y2VwdGlvbiB7CiAgICAgICAgTWFwPFN0cmluZywgT2JqZWN0PiByZXN1bHRNYXAgPSBuZXcgSGFzaE1hcCgpOwogICAgICAgIGlmIChFbXB0eVV0aWwuaXNOb3RFbXB0eShkb21haW4pKSB7CiAgICAgICAgICAgIENvbXBhbnlFbnRpdHkgY29tcGFueUVudGl0eSA9IChuZXcgQ29tcGFueUhhbmRsZXIoKSkuZmluZE9uZUJ5RG9tYWluKGRvbWFpbik7CiAgICAgICAgICAgIGlmIChFbXB0eVV0aWwuaXNOb3RFbXB0eShjb21wYW55RW50aXR5KSkgewogICAgICAgICAgICAgICAgcmVzdWx0TWFwLnB1dCgic2FsZVRvb2xPcmdSb290SWQiLCBjb21wYW55RW50aXR5LmdldFNhbGVUb29sT3JnUm9vdCgpKTsKICAgICAgICAgICAgICAgIHJlc3VsdE1hcC5wdXQoInNhbGVUb29sRGVsVXNlcklkIiwgY29tcGFueUVudGl0eS5nZXRTYWxlVG9vbERlbFVzZXIoKSk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICByZXN1bHRNYXAucHV0KCJzYWxlVG9vbE9yZ1Jvb3RJZCIsICIiKTsKICAgICAgICAgICAgICAgIHJlc3VsdE1hcC5wdXQoInNhbGVUb29sRGVsVXNlcklkIiwgIiIpOwogICAgICAgICAgICB9CgogICAgICAgICAgICByZXR1cm4gUmVzcG9uc2VVdGlsLnJldHVybk1hcChjaWQsIEludGVnZXIudmFsdWVPZigwKSwgIuato+W4uCIsIHJlc3VsdE1hcCk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgcmV0dXJuIFJlc3BvbnNlVXRpbC5yZXR1cm5NYXAoY2lkLCBJbnRlZ2VyLnZhbHVlT2YoMSksICLlhaXlj4LkuLrnqboiLCByZXN1bHRNYXApOwogICAgICAgIH0KICAgIH0KfQo=</text>
      </register>
      <register name="2" type="2">
        <text encoding="base64">cGFja2FnZSBjb250cm9sbGVycy5hcGk7CgppbXBvcnQgY29tLmZhc3RlcnhtbC5qYWNrc29uLmRhdGFiaW5kLkpzb25Ob2RlOwppbXBvcnQgamF2YS51dGlsLkhhc2hNYXA7CmltcG9ydCBqYXZhLnV0aWwuTWFwOwppbXBvcnQgcGxheS5Mb2dnZXI7CmltcG9ydCBwbGF5LkxvZ2dlci5BTG9nZ2VyOwppbXBvcnQgcGxheS5jb3JlLmVuaGFuY2Vycy5Qcm9wZXJ0aWVzRW5oYW5jZXIuR2VuZXJhdGVkQWNjZXNzb3I7CmltcG9ydCBwbGF5LmNvcmUuZW5oYW5jZXJzLlByb3BlcnRpZXNFbmhhbmNlci5SZXdyaXR0ZW5BY2Nlc3NvcjsKaW1wb3J0IHBsYXkubGlicy5Kc29uOwppbXBvcnQgcGxheS5tdmMuQ29udHJvbGxlcjsKaW1wb3J0IHBsYXkubXZjLlJlc3VsdDsKaW1wb3J0IHBsYXkubXZjLkh0dHAuQ29udGV4dDsKaW1wb3J0IHNlcnZpY2VzLmFwaS5Pd25DbG91ZFNlcnZpY2U7CmltcG9ydCB1dGlscy5SZXNwb25zZVV0aWw7CgpAR2VuZXJhdGVkQWNjZXNzb3IKQFJld3JpdHRlbkFjY2Vzc29yCnB1YmxpYyBjbGFzcyBPd25DbG91ZENvbnRyb2xsZXIgZXh0ZW5kcyBDb250cm9sbGVyIHsKICAgIHByaXZhdGUgc3RhdGljIGZpbmFsIEFMb2dnZXIgbG9nZ2VyID0gTG9nZ2VyLm9mKE93bkNsb3VkQ29udHJvbGxlci5jbGFzcyk7CgogICAgcHVibGljIE93bkNsb3VkQ29udHJvbGxlcigpIHsKICAgIH0KCiAgICBwdWJsaWMgc3RhdGljIFJlc3VsdCBxdWVyeVN0YXR1cygpIHsKICAgICAgICBsb2dnZXIuaW5mbygiT3duQ2xvdWRDb250cm9sbGVyLnF1ZXJ5U3RhdHVzIHN0YXJ0ISIpOwogICAgICAgIE1hcDxTdHJpbmcsIE9iamVjdD4gcmV0dXJuTWFwID0gbnVsbDsKICAgICAgICBDb250ZXh0IGN0eCA9IChDb250ZXh0KUNvbnRleHQuY3VycmVudC5nZXQoKTsKICAgICAgICBKc29uTm9kZSBqc29uTm9kZSA9IGN0eC5yZXF1ZXN0KCkuYm9keSgpLmFzSnNvbigpOwogICAgICAgIFN0cmluZyBjaWQgPSBqc29uTm9kZS5maW5kUGF0aCgiY2lkIikuYXNUZXh0KCk7CiAgICAgICAgU3RyaW5nIGRvbWFpbiA9IGpzb25Ob2RlLmZpbmRQYXRoKCJkb21haW4iKS5hc1RleHQoKTsKCiAgICAgICAgdHJ5IHsKICAgICAgICAgICAgcmV0dXJuTWFwID0gKG5ldyBPd25DbG91ZFNlcnZpY2UoKSkucXVlcnlTdGF0dXMoY2lkLCBkb21haW4pOwogICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiB2YXI3KSB7CiAgICAgICAgICAgIGxvZ2dlci5lcnJvcigi6I635Y+W5LqR55uY54q25oCB5o6l5Y+j5byC5bi477yaIiArIHZhcjcpOwogICAgICAgICAgICBNYXA8U3RyaW5nLCBPYmplY3Q+IHJlc3VsdE1hcCA9IG5ldyBIYXNoTWFwKCk7CiAgICAgICAgICAgIHJldHVybk1hcCA9IFJlc3BvbnNlVXRpbC5yZXR1cm5NYXAoY2lkLCBJbnRlZ2VyLnZhbHVlT2YoMTAxKSwgIuWHuueOsOW8guW4uCIsIHJlc3VsdE1hcCk7CiAgICAgICAgfQoKICAgICAgICBsb2dnZXIuaW5mbygiT3duQ2xvdWRDb250cm9sbGVyLnF1ZXJ5U3RhdHVzIGVuZCEiKTsKICAgICAgICByZXR1cm4gb2soSnNvbi50b0pzb24ocmV0dXJuTWFwKSk7CiAgICB9CgogICAgcHVibGljIHN0YXRpYyBSZXN1bHQgcXVlcnlTYWxlVG9vbENvbmZpZygpIHsKICAgICAgICBsb2dnZXIuaW5mbygiT3duQ2xvdWRDb250cm9sbGVyLnF1ZXJ5U2FsZVRvb2xDb25maWcgc3RhcnQhIik7CiAgICAgICAgTWFwPFN0cmluZywgT2JqZWN0PiByZXR1cm5NYXAgPSBudWxsOwogICAgICAgIENvbnRleHQgY3R4ID0gKENvbnRleHQpQ29udGV4dC5jdXJyZW50LmdldCgpOwogICAgICAgIEpzb25Ob2RlIGpzb25Ob2RlID0gY3R4LnJlcXVlc3QoKS5ib2R5KCkuYXNKc29uKCk7CiAgICAgICAgU3RyaW5nIGNpZCA9IGpzb25Ob2RlLmZpbmRQYXRoKCJjaWQiKS5hc1RleHQoKTsKICAgICAgICBTdHJpbmcgZG9tYWluID0ganNvbk5vZGUuZmluZFBhdGgoImRvbWFpbiIpLmFzVGV4dCgpOwoKICAgICAgICB0cnkgewogICAgICAgICAgICByZXR1cm5NYXAgPSAobmV3IE93bkNsb3VkU2VydmljZSgpKS5xdWVyeVNhbGVUb29sQ29uZmlnKGNpZCwgZG9tYWluKTsKICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gdmFyNykgewogICAgICAgICAgICBsb2dnZXIuZXJyb3IoIuiOt+WPlumUgOWUruW3peWFt+mFjee9ruaOpeWPo+W8guW4uO+8miIgKyB2YXI3KTsKICAgICAgICAgICAgTWFwPFN0cmluZywgT2JqZWN0PiByZXN1bHRNYXAgPSBuZXcgSGFzaE1hcCgpOwogICAgICAgICAgICByZXR1cm5NYXAgPSBSZXNwb25zZVV0aWwucmV0dXJuTWFwKGNpZCwgSW50ZWdlci52YWx1ZU9mKDEwMSksICLlh7rnjrDlvILluLgiLCByZXN1bHRNYXApOwogICAgICAgIH0KCiAgICAgICAgbG9nZ2VyLmluZm8oIk93bkNsb3VkQ29udHJvbGxlci5xdWVyeVNhbGVUb29sQ29uZmlnIGVuZCEiKTsKICAgICAgICByZXR1cm4gb2soSnNvbi50b0pzb24ocmV0dXJuTWFwKSk7CiAgICB9Cn0K</text>
      </register>
      <register name="3" type="2">
        <text encoding="base64">cGFja2FnZSBzZXJ2aWNlcy5hcGk7CgppbXBvcnQgamF2YS51dGlsLkFycmF5TGlzdDsKaW1wb3J0IGphdmEudXRpbC5EYXRlOwppbXBvcnQgamF2YS51dGlsLkhhc2hNYXA7CmltcG9ydCBqYXZhLnV0aWwuSGFzaFNldDsKaW1wb3J0IGphdmEudXRpbC5MaXN0OwppbXBvcnQgamF2YS51dGlsLk1hcDsKaW1wb3J0IGphdmEudXRpbC5TZXQ7CgppbXBvcnQgb3JnLmJzb24udHlwZXMuT2JqZWN0SWQ7CgppbXBvcnQgbW9kZWxzLkRldlVzZXJTZXJ2aWNlTm9FbnRpdHk7CmltcG9ydCBtb2RlbHMucmVjb3JkLlNlcnZpY2VUeXBlOwppbXBvcnQgbW9kZWxzLnJlY29yZC5NZW51OwppbXBvcnQgbW9kZWxzLnJlY29yZC5TZXJ2aWNlTm87CmltcG9ydCB1dGlscy5Db25mOwppbXBvcnQgdXRpbHMuUmVzcG9uc2VVdGlsOwppbXBvcnQgdXRpbHMuUmVzdFJlcXVlc3Q7CgppbXBvcnQgY29tLmVpZ2h0c3BhY2Uuc2VydmVyLmNvbW1vbi5jb252ZXJ0LkVtcHR5VXRpbDsKaW1wb3J0IGNvbS5tb25nb2RiLkJhc2ljREJPYmplY3Q7CmltcG9ydCBjb20ubW9uZ29kYi5EQk9iamVjdDsKCmltcG9ydCBkYW9zLkRldlVzZXJTZXJ2aWNlTm9IYW5kbGVyOwppbXBvcnQgZGFvcy5TZXJ2aWNlTm9IYW5kbGVyOwppbXBvcnQgZGFvcy5TZXJ2aWNlTm9UeXBlSGFuZGxlcjsKCi8qKgogKiDmnI3liqHlj7fnm7jlhbNTZXJ2aWNlCiAqIAogKiBAYXV0aG9yIGFuZHkKICogQGRhdGUgMjAxNS44LjE3CiAqIAogKiBAc2luY2UgMS4wCiAqLwpwdWJsaWMgY2xhc3MgU2VydmljZU51bVNlcnZpY2UgewoKCS8qKgoJICog5re75Yqg5pyN5Yqh5Y+3CgkgKiAKCSAqIEBwYXJhbSBjaWQKCSAqICAgICAgICAgICAg5o6l5Y+j57yW5Y+3CgkgKiBAcGFyYW0gZG9tYWluCgkgKiAgICAgICAgICAgIOWfn+WQjQoJICogQHBhcmFtIHVzZXJJZAoJICogICAgICAgICAgICDnlKjmiLdpZAoJICogQHBhcmFtIHVuaW9uSWQKCSAqICAgICAgICAgICAgdW5pb25JZAoJICogQHBhcmFtIG51bXMKCSAqICAgICAgICAgICAg5pyN5Yqh5Y+3aWTliJfooagKCSAqIEByZXR1cm4gTWFwPFN0cmluZyxPYmplY3Q+CgkgKiBAYXV0aG9yIGFuZHkKCSAqIEBkYXRlIDIwMTUuOC4xNwoJICogQHNpbmNlIDEuMAoJICovCglwdWJsaWMgTWFwPFN0cmluZywgT2JqZWN0PiBhZGRTZXJ2aWNlTnVtcyhTdHJpbmcgY2lkLCBTdHJpbmcgZG9tYWluLCBTdHJpbmcgdXNlcklkLAoJCQlTdHJpbmcgdW5pb25JZCwgTGlzdDxTdHJpbmc+IG51bXMpIHRocm93cyBFeGNlcHRpb24gewoJCU1hcDxTdHJpbmcsIE9iamVjdD4gcmVzdWx0TWFwID0gbmV3IEhhc2hNYXA8U3RyaW5nLCBPYmplY3Q+KCk7CgkJcmVzdWx0TWFwLnB1dCgicmVzdWx0IiwgMCk7CgoJCWlmIChFbXB0eVV0aWwuaXNOb3RFbXB0eShkb21haW4pICYmIEVtcHR5VXRpbC5pc05vdEVtcHR5KHVuaW9uSWQpCgkJCQkmJiBFbXB0eVV0aWwuaXNOb3RFbXB0eShudW1zKSkgewoJCQlMaXN0PE1hcDxTdHJpbmcsIE9iamVjdD4+IHJlc3VsdExpc3QgPSBuZXcgQXJyYXlMaXN0PE1hcDxTdHJpbmcsIE9iamVjdD4+KCk7CgoJCQlEZXZVc2VyU2VydmljZU5vSGFuZGxlciBkZXZVc2VyU2VydmljZU5vSGFuZGxlciA9IG5ldyBEZXZVc2VyU2VydmljZU5vSGFuZGxlcigKCQkJCQlkb21haW4pOwoKCQkJLy8g55So5oi35bey5re75Yqg55qE5pyN5Yqh5Y+35YiX6KGoCgkJCU1hcDxTdHJpbmcsIERldlVzZXJTZXJ2aWNlTm9FbnRpdHk+IG51bU1hcCA9IG5ldyBIYXNoTWFwPFN0cmluZywgRGV2VXNlclNlcnZpY2VOb0VudGl0eT4oKTsKCQkJTGlzdDxEZXZVc2VyU2VydmljZU5vRW50aXR5PiB1c2VyU2VydmljZU5vTGlzdCA9IGRldlVzZXJTZXJ2aWNlTm9IYW5kbGVyCgkJCQkJLmZpbmRCeVVuaW9uSWQodW5pb25JZCk7CgkJCWZvciAoRGV2VXNlclNlcnZpY2VOb0VudGl0eSBlbnRpdHkgOiB1c2VyU2VydmljZU5vTGlzdCkgewoJCQkJbnVtTWFwLnB1dChlbnRpdHkuZ2V0U2VydmljZU5vKCksIGVudGl0eSk7CgkJCX0KCgkJCVN0cmluZyB1cmkgPSBDb25mLmdldFByb3BlcnR5KCJNT0FfU0VSVkVSX1VSTF9JTiIpKyIvYXBpL29wZW4vcXVlcnkiOwoJCQlEQk9iamVjdCBib2R5ID0gbmV3IEJhc2ljREJPYmplY3QoKTsKCQkJYm9keS5wdXQoImRvbWFpbiIsIGRvbWFpbik7CgkJCWJvZHkucHV0KCJ1c2VySWQiLCB1c2VySWQpOwoJCQlib2R5LnB1dCgic2VydmljZUlkcyIsIG51bXMpOwoJCQlEQk9iamVjdCByZXMgPSBSZXN0UmVxdWVzdC5wb3N0KHVyaSwgYm9keSk7CgkJCURCT2JqZWN0IG9wZW5JZHMgPSBudWxsOwoJCQlpZiAoRW1wdHlVdGlsLmlzTm90RW1wdHkocmVzKSkgewoJCQkJaWYgKChJbnRlZ2VyKSByZXMuZ2V0KCJjb2RlIikgIT0gMCkgewoJCQkJCXJldHVybiBSZXNwb25zZVV0aWwucmV0dXJuTWFwKGNpZCwgMywgIuiOt+WPlm9wZW5JZOWksei0pSIsIHJlc3VsdE1hcCk7CgkJCQl9IGVsc2UgewoJCQkJCW9wZW5JZHMgPSAoREJPYmplY3QpIHJlcy5nZXQoIm9wZW5JZCIpOwoJCQkJfQoJCQl9IGVsc2UgewoJCQkJcmV0dXJuIFJlc3BvbnNlVXRpbC5yZXR1cm5NYXAoY2lkLCAyLCAiTUJQ5pyN5Yqh5pyq5ZCv55SoIiwgcmVzdWx0TWFwKTsKCQkJfQoJCQkKCQkJTG9uZyB0aW1lID0gbmV3IERhdGUoKS5nZXRUaW1lKCk7CgkJCWZvciAoU3RyaW5nIG51bSA6IG51bXMpIHsKCQkJCURldlVzZXJTZXJ2aWNlTm9FbnRpdHkgZW50aXR5ID0gbnVsbDsKCQkJCWlmICghbnVtTWFwLmNvbnRhaW5zS2V5KG51bSkpIHsKCQkJCQllbnRpdHkgPSBuZXcgRGV2VXNlclNlcnZpY2VOb0VudGl0eSgpOwoJCQkJCWVudGl0eS5zZXREb21haW4oZG9tYWluKTsKCQkJCQllbnRpdHkuc2V0VXNlcklkKHVzZXJJZCk7CgkJCQkJZW50aXR5LnNldFVuaW9uSWQodW5pb25JZCk7CgkJCQkJZW50aXR5LnNldFNlcnZpY2VObyhudW0pOwoJCQkJCWVudGl0eS5zZXRPcGVuSWQoKFN0cmluZykgb3Blbklkcy5nZXQobnVtKSk7CgkJCQl9IGVsc2UgewoJCQkJCWVudGl0eSA9IG51bU1hcC5nZXQobnVtKTsKCQkJCX0KCQkJCWVudGl0eS5zZXRDcmVhdGVkQXQodGltZSk7CgkJCQlkZXZVc2VyU2VydmljZU5vSGFuZGxlci5zYXZlKGVudGl0eSk7CgoJCQkJTWFwPFN0cmluZywgT2JqZWN0PiBtYXAgPSBuZXcgSGFzaE1hcDxTdHJpbmcsIE9iamVjdD4oKTsKCQkJCW1hcC5wdXQoInNlcnZpY2VOdW1JZCIsIG51bSk7CgkJCQltYXAucHV0KCJvcGVuSWQiLCAoU3RyaW5nKSBvcGVuSWRzLmdldChudW0pKTsKCQkJCW1hcC5wdXQoInRpbWVTdGFtcCIsIHRpbWUrKyk7CgkJCQlyZXN1bHRMaXN0LmFkZChtYXApOwoJCQl9CgkJCXJlc3VsdE1hcC5wdXQoImFkZFRpbWVTdGFtcCIsIHJlc3VsdExpc3QpOwoKCQkJcmVzdWx0TWFwLnB1dCgicmVzdWx0IiwgMSk7CgkJCXJldHVybiBSZXNwb25zZVV0aWwucmV0dXJuTWFwKGNpZCwgMCwgIuato+W4uCIsIHJlc3VsdE1hcCk7CgkJfSBlbHNlIHsKCQkJcmV0dXJuIFJlc3BvbnNlVXRpbC5yZXR1cm5NYXAoY2lkLCAxLCAi5YWl5Y+C5Li656m6IiwgcmVzdWx0TWFwKTsKCQl9Cgl9CgoJLyoqCgkgKiDojrflj5bnlKjmiLfmt7vliqDnmoTmnI3liqHlj7cKCSAqIAoJICogQHBhcmFtIGNpZAoJICogICAgICAgICAgICDmjqXlj6PnvJblj7cKCSAqIEBwYXJhbSBkb21haW4KCSAqICAgICAgICAgICAg5Z+f5ZCNCgkgKiBAcGFyYW0gdW5pb25JZAoJICogICAgICAgICAgICB1bmlvbklkCgkgKiBAcGFyYW0gbGFzdFRpbWVTdGFtcAoJICogICAgICAgICAgICDml7bpl7TmiLMKCSAqIEBwYXJhbSBwYWdlU2l6ZQoJICogICAgICAgICAgICDpobXlsLrlr7gKCSAqIEByZXR1cm4gTWFwPFN0cmluZyxPYmplY3Q+CgkgKiBAYXV0aG9yIGFuZHkKCSAqIEBkYXRlIDIwMTUuOC4xOAoJICogQHNpbmNlIDEuMAoJICovCglwdWJsaWMgTWFwPFN0cmluZywgT2JqZWN0PiBnZXRVc2VyU2VydmljZU51bXMoU3RyaW5nIGNpZCwgU3RyaW5nIGRvbWFpbiwKCQkJU3RyaW5nIHVuaW9uSWQsIExvbmcgbGFzdFRpbWVTdGFtcCwgSW50ZWdlciBwYWdlU2l6ZSkKCQkJdGhyb3dzIEV4Y2VwdGlvbiB7CgkJTWFwPFN0cmluZywgT2JqZWN0PiByZXN1bHRNYXAgPSBuZXcgSGFzaE1hcDxTdHJpbmcsIE9iamVjdD4oKTsKCQlyZXN1bHRNYXAucHV0KCJyZXN1bHQiLCAwKTsKCgkJaWYgKEVtcHR5VXRpbC5pc05vdEVtcHR5KGRvbWFpbikgJiYgRW1wdHlVdGlsLmlzTm90RW1wdHkodW5pb25JZCkKCQkJCSYmIEVtcHR5VXRpbC5pc05vdEVtcHR5KGxhc3RUaW1lU3RhbXApCgkJCQkmJiBFbXB0eVV0aWwuaXNOb3RFbXB0eShwYWdlU2l6ZSkpIHsKCQkJTGlzdDxNYXA8U3RyaW5nLCBPYmplY3Q+PiByZXN1bHRMaXN0ID0gbmV3IEFycmF5TGlzdDxNYXA8U3RyaW5nLCBPYmplY3Q+PigpOwoKCQkJLy8g55So5oi35bey5re75Yqg55qE5pyN5Yqh5Y+35YiX6KGoCgkJCUxpc3Q8T2JqZWN0SWQ+IHVzZXJTZXJ2aWNlTnVtTGlzdCA9IG5ldyBBcnJheUxpc3Q8T2JqZWN0SWQ+KCk7CgkJCURldlVzZXJTZXJ2aWNlTm9IYW5kbGVyIGRldlVzZXJTZXJ2aWNlTm9IYW5kbGVyID0gbmV3IERldlVzZXJTZXJ2aWNlTm9IYW5kbGVyKAoJCQkJCWRvbWFpbik7CgkJCUxpc3Q8RGV2VXNlclNlcnZpY2VOb0VudGl0eT4gdXNlclNlcnZpY2VOb0xpc3QgPSBudWxsOwoJCQlpZiAobGFzdFRpbWVTdGFtcCA9PSAtMSkgewoJCQkJdXNlclNlcnZpY2VOb0xpc3QgPSBkZXZVc2VyU2VydmljZU5vSGFuZGxlci5maW5kQnlVbmlvbklkKAoJCQkJCQl1bmlvbklkLCBwYWdlU2l6ZSk7CgkJCX0gZWxzZSB7CgkJCQl1c2VyU2VydmljZU5vTGlzdCA9IGRldlVzZXJTZXJ2aWNlTm9IYW5kbGVyLmZpbmRCeVVuaW9uSWQoCgkJCQkJCXVuaW9uSWQsIGxhc3RUaW1lU3RhbXAsIHBhZ2VTaXplKTsKCQkJfQoJCQlmb3IgKERldlVzZXJTZXJ2aWNlTm9FbnRpdHkgZW50aXR5IDogdXNlclNlcnZpY2VOb0xpc3QpIHsKCQkJCXVzZXJTZXJ2aWNlTnVtTGlzdC5hZGQobmV3IE9iamVjdElkKGVudGl0eS5nZXRTZXJ2aWNlTm8oKSkpOwoJCQkJTWFwPFN0cmluZywgT2JqZWN0PiBtYXAgPSBuZXcgSGFzaE1hcDxTdHJpbmcsIE9iamVjdD4oKTsKCQkJCW1hcC5wdXQoInNlcnZpY2VOdW1JZCIsIGVudGl0eS5nZXRTZXJ2aWNlTm8oKS50b1N0cmluZygpKTsKCQkJCW1hcC5wdXQoIm9wZW5JZCIsIGVudGl0eS5nZXRPcGVuSWQoKSk7CgkJCQltYXAucHV0KCJ0aW1lU3RhbXAiLCBlbnRpdHkuZ2V0Q3JlYXRlZEF0KCkpOwoJCQkJbWFwLnB1dCgic3Vic2NyaWJlZCIsIDEpOwoJCQkJcmVzdWx0TGlzdC5hZGQobWFwKTsKCQkJfQoKCQkJLy8g5pyN5Yqh5Y+35YiX6KGoCgkJCVNlcnZpY2VOb0hhbmRsZXIgc3lzU2VydmljZU5vSGFuZGxlciA9IG5ldyBTZXJ2aWNlTm9IYW5kbGVyKCk7CgkJCUxpc3Q8U2VydmljZU5vPiBzZXJ2aWNlTm9MaXN0ID0gc3lzU2VydmljZU5vSGFuZGxlcgoJCQkJCS5maW5kQnlTZXJ2aWNlTm9zKHVzZXJTZXJ2aWNlTnVtTGlzdCk7CgoJCQkvLyDmnI3liqHlj7fnsbvlnovliJfooagKCQkJTWFwPFN0cmluZywgU3RyaW5nPiBzZXJ2aWNlTnVtVHlwZU1hcCA9IG5ldyBIYXNoTWFwPFN0cmluZywgU3RyaW5nPigpOwoJCQlTZXJ2aWNlTm9UeXBlSGFuZGxlciBzeXNTZXJ2aWNlTm9UeXBlSGFuZGxlciA9IG5ldyBTZXJ2aWNlTm9UeXBlSGFuZGxlcigpOwoJCQlMaXN0PFNlcnZpY2VUeXBlPiBzZXJ2aWNlTm9UeXBlTGlzdCA9IHN5c1NlcnZpY2VOb1R5cGVIYW5kbGVyCgkJCQkJLmZpbmRBbGwoKTsKCQkJZm9yIChTZXJ2aWNlVHlwZSBlbnRpdHkgOiBzZXJ2aWNlTm9UeXBlTGlzdCkgewoJCQkJc2VydmljZU51bVR5cGVNYXAucHV0KGVudGl0eS5nZXRUeXBlSWQoKS50b1N0cmluZygpLAoJCQkJCQllbnRpdHkuZ2V0VHlwZU5hbWUoKSk7CgkJCX0KCgkJCS8vIOiOt+WPluacjeWKoeWPt+S/oeaBrwoJCQlNYXA8U3RyaW5nLCBNYXA8U3RyaW5nLCBPYmplY3Q+PiBzZXJ2aWNlTnVtTWFwID0gbmV3IEhhc2hNYXA8U3RyaW5nLCBNYXA8U3RyaW5nLCBPYmplY3Q+PigpOwoJCQlmb3IgKFNlcnZpY2VObyBzZXJ2aWNlTm8gOiBzZXJ2aWNlTm9MaXN0KSB7CgkJCQlNYXA8U3RyaW5nLCBPYmplY3Q+IG1hcCA9IG5ldyBIYXNoTWFwPFN0cmluZywgT2JqZWN0PigpOwoJCQkJbWFwLnB1dCgic2VydmljZU51bU5hbWUiLCBzZXJ2aWNlTm8uZ2V0TmFtZSgpKTsKCQkJCW1hcC5wdXQoImNhdGVnb3J5SWQiLCBzZXJ2aWNlTm8uZ2V0VHlwZSgpKTsKCQkJCW1hcC5wdXQoImNhdGVnb3J5TmFtZSIsCgkJCQkJCXNlcnZpY2VOdW1UeXBlTWFwLmdldChzZXJ2aWNlTm8uZ2V0VHlwZSgpLnRvU3RyaW5nKCkpKTsKCQkJCW1hcC5wdXQoImltYWdlVXJsIiwgQ29uZi5nZXRQcm9wZXJ0eSgiTU9BX1NFUlZFUl9VUkxfT1VUIikKCQkJCQkJKyBzZXJ2aWNlTm8uZ2V0SWNvbigpKTsKCQkJCW1hcC5wdXQoInN1bW1hcnkiLCBzZXJ2aWNlTm8uZ2V0RGVzYygpKTsKCQkJCXNlcnZpY2VOdW1NYXAucHV0KHNlcnZpY2VOby5nZXRJZCgpLnRvU3RyaW5nKCksIG1hcCk7CgkJCX0KCgkJCVNldDxNYXA8U3RyaW5nLCBPYmplY3Q+PiByZW1vdmVTZXQgPSBuZXcgSGFzaFNldDxNYXA8U3RyaW5nLCBPYmplY3Q+PigpOwoKCQkJLy8g5aGr5YWF5pyN5Yqh5Y+35L+h5oGvCgkJCWZvciAoTWFwPFN0cmluZywgT2JqZWN0PiBtYXAgOiByZXN1bHRMaXN0KSB7CgkJCQlNYXA8U3RyaW5nLCBPYmplY3Q+IHNlcnZpY2VOdW1JbmZvID0gKE1hcDxTdHJpbmcsIE9iamVjdD4pIHNlcnZpY2VOdW1NYXAKCQkJCQkJLmdldChtYXAuZ2V0KCJzZXJ2aWNlTnVtSWQiKSk7CgkJCQlpZiAoRW1wdHlVdGlsLmlzTm90RW1wdHkoc2VydmljZU51bUluZm8pKSB7CgkJCQkJbWFwLnB1dEFsbChzZXJ2aWNlTnVtSW5mbyk7CgkJCQl9IGVsc2UgewoJCQkJCXJlbW92ZVNldC5hZGQobWFwKTsKCQkJCX0KCQkJfQoKCQkJLy8g5Yig6Zmk5bey5LiN5a2Y5Zyo55qE5pyN5Yqh5Y+355qE5YWz6IGU5YWz57O7CgkJCWZvciAoTWFwPFN0cmluZywgT2JqZWN0PiBtYXAgOiByZW1vdmVTZXQpIHsKCQkJCWRldlVzZXJTZXJ2aWNlTm9IYW5kbGVyLnJlbW92ZSh1bmlvbklkLCBtYXAuZ2V0KCJzZXJ2aWNlTnVtSWQiKQoJCQkJCQkudG9TdHJpbmcoKSk7CgkJCX0KCgkJCXJlc3VsdExpc3QucmVtb3ZlQWxsKHJlbW92ZVNldCk7CgoJCQlyZXN1bHRNYXAucHV0KCJzZXJ2aWNlTnVtcyIsIHJlc3VsdExpc3QpOwoKCQkJcmVzdWx0TWFwLnB1dCgicmVzdWx0IiwgMSk7CgkJCXJldHVybiBSZXNwb25zZVV0aWwucmV0dXJuTWFwKGNpZCwgMCwgIuato+W4uCIsIHJlc3VsdE1hcCk7CgkJfSBlbHNlIHsKCQkJcmV0dXJuIFJlc3BvbnNlVXRpbC5yZXR1cm5NYXAoY2lkLCAxLCAi5YWl5Y+C5Li656m6IiwgcmVzdWx0TWFwKTsKCQl9Cgl9CgoJLyoqCgkgKiDojrflj5bnlKjmiLfmt7vliqDnmoTmnI3liqHlj7cKCSAqIAoJICogQHBhcmFtIGNpZAoJICogICAgICAgICAgICDmjqXlj6PnvJblj7cKCSAqIEBwYXJhbSBkb21haW4KCSAqICAgICAgICAgICAg5Z+f5ZCNCgkgKiBAcGFyYW0gdW5pb25JZAoJICogICAgICAgICAgICB1bmlvbklkCgkgKiBAcGFyYW0ga2V5d29yZAoJICogICAgICAgICAgICDmkJzntKLlhbPplK7lrZcKCSAqIEBwYXJhbSBsYXN0U2VydmljZU51bUlkCgkgKiAgICAgICAgICAgIOacgOWQjuS4gOS4quacjeWKoeWPt2lkCgkgKiBAcGFyYW0gcGFnZVNpemUKCSAqICAgICAgICAgICAg6aG15bC65a+4CgkgKiBAcGFyYW0gc2NvcGUKCSAqICAgICAgICAgICAg6IyD5Zu05YiG57G7CgkgKiBAcmV0dXJuIE1hcDxTdHJpbmcsT2JqZWN0PgoJICogQGF1dGhvciBhbmR5CgkgKiBAZGF0ZSAyMDE1LjguMTgKCSAqIEBzaW5jZSAxLjAKCSAqLwoJcHVibGljIE1hcDxTdHJpbmcsIE9iamVjdD4gc2VhcmNoU2VydmljZU51bXMoU3RyaW5nIGNpZCwgU3RyaW5nIGRvbWFpbiwKCQkJU3RyaW5nIHVuaW9uSWQsIFN0cmluZyBrZXl3b3JkLCBTdHJpbmcgbGFzdFNlcnZpY2VOdW1JZCwKCQkJSW50ZWdlciBwYWdlU2l6ZSwgSW50ZWdlciBzY29wZSkgdGhyb3dzIEV4Y2VwdGlvbiB7CgkJTWFwPFN0cmluZywgT2JqZWN0PiByZXN1bHRNYXAgPSBuZXcgSGFzaE1hcDxTdHJpbmcsIE9iamVjdD4oKTsKCQlyZXN1bHRNYXAucHV0KCJyZXN1bHQiLCAwKTsKCgkJaWYgKEVtcHR5VXRpbC5pc05vdEVtcHR5KGxhc3RTZXJ2aWNlTnVtSWQpCgkJCQkmJiBFbXB0eVV0aWwuaXNOb3RFbXB0eShwYWdlU2l6ZSkpIHsKCQkJTGlzdDxNYXA8U3RyaW5nLCBPYmplY3Q+PiByZXN1bHRMaXN0ID0gbmV3IEFycmF5TGlzdDxNYXA8U3RyaW5nLCBPYmplY3Q+PigpOwoKCQkJU2VydmljZU5vSGFuZGxlciBzeXNTZXJ2aWNlTm9IYW5kbGVyID0gbmV3IFNlcnZpY2VOb0hhbmRsZXIoKTsKCQkJU2VydmljZU5vVHlwZUhhbmRsZXIgc3lzU2VydmljZU5vVHlwZUhhbmRsZXIgPSBuZXcgU2VydmljZU5vVHlwZUhhbmRsZXIoKTsKCgkJCS8vIOeUqOaIt+W3sua3u+WKoOeahOacjeWKoeWPt+WIl+ihqAoJCQlMaXN0PFN0cmluZz4gdXNlclNlcnZpY2VOdW1MaXN0ID0gbmV3IEFycmF5TGlzdDxTdHJpbmc+KCk7CgkJCWlmIChFbXB0eVV0aWwuaXNOb3RFbXB0eShkb21haW4pICYmIEVtcHR5VXRpbC5pc05vdEVtcHR5KHVuaW9uSWQpKSB7CgkJCQlEZXZVc2VyU2VydmljZU5vSGFuZGxlciBkZXZVc2VyU2VydmljZU5vSGFuZGxlciA9IG5ldyBEZXZVc2VyU2VydmljZU5vSGFuZGxlcigKCQkJCQkJZG9tYWluKTsKCQkJCUxpc3Q8RGV2VXNlclNlcnZpY2VOb0VudGl0eT4gdXNlclNlcnZpY2VOb0xpc3QgPSBkZXZVc2VyU2VydmljZU5vSGFuZGxlcgoJCQkJCQkuZmluZEJ5VW5pb25JZCh1bmlvbklkKTsKCQkJCWZvciAoRGV2VXNlclNlcnZpY2VOb0VudGl0eSBlbnRpdHkgOiB1c2VyU2VydmljZU5vTGlzdCkgewoJCQkJCXVzZXJTZXJ2aWNlTnVtTGlzdC5hZGQoZW50aXR5LmdldFNlcnZpY2VObygpKTsKCQkJCX0KCQkJfQoKCQkJLy8g5pyN5Yqh5Y+357G75Z6L5YiX6KGoCgkJCU1hcDxTdHJpbmcsIFN0cmluZz4gc2VydmljZU51bVR5cGVNYXAgPSBuZXcgSGFzaE1hcDxTdHJpbmcsIFN0cmluZz4oKTsKCQkJTGlzdDxTZXJ2aWNlVHlwZT4gc2VydmljZU5vVHlwZUxpc3QgPSBzeXNTZXJ2aWNlTm9UeXBlSGFuZGxlcgoJCQkJCS5maW5kQWxsKCk7CgkJCWZvciAoU2VydmljZVR5cGUgZW50aXR5IDogc2VydmljZU5vVHlwZUxpc3QpIHsKCQkJCXNlcnZpY2VOdW1UeXBlTWFwLnB1dChlbnRpdHkuZ2V0VHlwZUlkKCkudG9TdHJpbmcoKSwKCQkJCQkJZW50aXR5LmdldFR5cGVOYW1lKCkpOwoJCQl9CgoJCQkvLyDmnI3liqHlj7fliJfooagKCQkJTGlzdDxTZXJ2aWNlTm8+IHNlcnZpY2VOb0xpc3QgPSBuZXcgQXJyYXlMaXN0PFNlcnZpY2VObz4oKTsKCgkJCWlmIChzY29wZSA9PSAtMSkgewoJCQkJLy8gVE9ETwoJCQl9IGVsc2UgaWYgKHNjb3BlID09IDApIHsKCQkJCWlmICgiLTEiLmVxdWFscyhsYXN0U2VydmljZU51bUlkKSkgewoJCQkJCXNlcnZpY2VOb0xpc3QgPSBzeXNTZXJ2aWNlTm9IYW5kbGVyLmZpbmQoa2V5d29yZCwgcGFnZVNpemUpOwoJCQkJfSBlbHNlIHsKCQkJCQlzZXJ2aWNlTm9MaXN0ID0gc3lzU2VydmljZU5vSGFuZGxlci5maW5kKGtleXdvcmQsCgkJCQkJCQluZXcgT2JqZWN0SWQobGFzdFNlcnZpY2VOdW1JZCksIHBhZ2VTaXplKTsKCQkJCX0KCQkJfSBlbHNlIHsKCQkJCWlmICgiLTEiLmVxdWFscyhsYXN0U2VydmljZU51bUlkKSkgewoJCQkJCXNlcnZpY2VOb0xpc3QgPSBzeXNTZXJ2aWNlTm9IYW5kbGVyLmZpbmQoa2V5d29yZCwgcGFnZVNpemUsCgkJCQkJCQlzY29wZSk7CgkJCQl9IGVsc2UgewoJCQkJCXNlcnZpY2VOb0xpc3QgPSBzeXNTZXJ2aWNlTm9IYW5kbGVyLmZpbmQoa2V5d29yZCwKCQkJCQkJCW5ldyBPYmplY3RJZChsYXN0U2VydmljZU51bUlkKSwgcGFnZVNpemUsIHNjb3BlKTsKCQkJCX0KCQkJfQoKCQkJLy8g5aGr5YWF5pyN5Yqh5Y+35L+h5oGvCgkJCWZvciAoU2VydmljZU5vIHNlcnZpY2VObyA6IHNlcnZpY2VOb0xpc3QpIHsKCQkJCU1hcDxTdHJpbmcsIE9iamVjdD4gbWFwID0gbmV3IEhhc2hNYXA8U3RyaW5nLCBPYmplY3Q+KCk7CgkJCQltYXAucHV0KCJzZXJ2aWNlTnVtSWQiLCBzZXJ2aWNlTm8uZ2V0SWQoKS50b1N0cmluZygpKTsKCQkJCW1hcC5wdXQoInNlcnZpY2VOdW1OYW1lIiwgc2VydmljZU5vLmdldE5hbWUoKSk7CgkJCQltYXAucHV0KCJjYXRlZ29yeUlkIiwgc2VydmljZU5vLmdldFR5cGUoKSk7CgkJCQltYXAucHV0KCJjYXRlZ29yeU5hbWUiLAoJCQkJCQlzZXJ2aWNlTnVtVHlwZU1hcC5nZXQoc2VydmljZU5vLmdldFR5cGUoKS50b1N0cmluZygpKSk7CgkJCQltYXAucHV0KCJpbWFnZVVybCIsIENvbmYuZ2V0UHJvcGVydHkoIk1PQV9TRVJWRVJfVVJMX09VVCIpCgkJCQkJCSsgc2VydmljZU5vLmdldEljb24oKSk7CgkJCQltYXAucHV0KCJzdW1tYXJ5Iiwgc2VydmljZU5vLmdldERlc2MoKSk7CgkJCQltYXAucHV0KCJzdWJzY3JpYmVkIiwgdXNlclNlcnZpY2VOdW1MaXN0LmNvbnRhaW5zKHNlcnZpY2VObwoJCQkJCQkuZ2V0SWQoKS50b1N0cmluZygpKSA/IDEgOiAwKTsKCQkJCXJlc3VsdExpc3QuYWRkKG1hcCk7CgkJCX0KCgkJCXJlc3VsdE1hcC5wdXQoInNlcnZpY2VOdW1zIiwgcmVzdWx0TGlzdCk7CgoJCQlyZXN1bHRNYXAucHV0KCJyZXN1bHQiLCAxKTsKCQkJcmV0dXJuIFJlc3BvbnNlVXRpbC5yZXR1cm5NYXAoY2lkLCAwLCAi5q2j5bi4IiwgcmVzdWx0TWFwKTsKCQl9IGVsc2UgewoJCQlyZXR1cm4gUmVzcG9uc2VVdGlsLnJldHVybk1hcChjaWQsIDEsICLlhaXlj4LkuLrnqboiLCByZXN1bHRNYXApOwoJCX0KCX0KCgkvKioKCSAqIOiOt+WPluacjeWKoeWPt+WIhuexuwoJICogCgkgKiBAcGFyYW0gY2lkCgkgKiAgICAgICAgICAgIOaOpeWPo+e8luWPtwoJICogQHJldHVybiBNYXA8U3RyaW5nLE9iamVjdD4KCSAqIEBhdXRob3IgYW5keQoJICogQGRhdGUgMjAxNS44LjE5CgkgKiBAc2luY2UgMS4wCgkgKi8KCXB1YmxpYyBNYXA8U3RyaW5nLCBPYmplY3Q+IGdldFNlcnZpY2VOdW1DYXRlZ29yeXMoU3RyaW5nIGNpZCkKCQkJdGhyb3dzIEV4Y2VwdGlvbiB7CgkJTWFwPFN0cmluZywgT2JqZWN0PiByZXN1bHRNYXAgPSBuZXcgSGFzaE1hcDxTdHJpbmcsIE9iamVjdD4oKTsKCQlyZXN1bHRNYXAucHV0KCJyZXN1bHQiLCAwKTsKCgkJTGlzdDxNYXA8U3RyaW5nLCBPYmplY3Q+PiByZXN1bHRMaXN0ID0gbmV3IEFycmF5TGlzdDxNYXA8U3RyaW5nLCBPYmplY3Q+PigpOwoKCQlTZXJ2aWNlTm9UeXBlSGFuZGxlciBzeXNTZXJ2aWNlTm9UeXBlSGFuZGxlciA9IG5ldyBTZXJ2aWNlTm9UeXBlSGFuZGxlcigpOwoJCS8vIOacjeWKoeWPt+exu+Wei+WIl+ihqAoJCUxpc3Q8U2VydmljZVR5cGU+IHNlcnZpY2VOb1R5cGVMaXN0ID0gc3lzU2VydmljZU5vVHlwZUhhbmRsZXIKCQkJCS5maW5kQWxsKCk7CgkJZm9yIChTZXJ2aWNlVHlwZSBlbnRpdHkgOiBzZXJ2aWNlTm9UeXBlTGlzdCkgewoJCQlNYXA8U3RyaW5nLCBPYmplY3Q+IG1hcCA9IG5ldyBIYXNoTWFwPFN0cmluZywgT2JqZWN0PigpOwoJCQltYXAucHV0KCJjYXRlZ29yeUlkIiwgZW50aXR5LmdldFR5cGVJZCgpLnRvU3RyaW5nKCkpOwoJCQltYXAucHV0KCJjYXRlZ29yeU5hbWUiLCBlbnRpdHkuZ2V0VHlwZU5hbWUoKSk7CgkJCXJlc3VsdExpc3QuYWRkKG1hcCk7CgkJfQoKCQlyZXN1bHRNYXAucHV0KCJzZXJ2aWNlTnVtQ2F0ZWdvcnlzIiwgcmVzdWx0TGlzdCk7CgoJCXJlc3VsdE1hcC5wdXQoInJlc3VsdCIsIDEpOwoJCXJldHVybiBSZXNwb25zZVV0aWwucmV0dXJuTWFwKGNpZCwgMCwgIuato+W4uCIsIHJlc3VsdE1hcCk7Cgl9CgoJLyoqCgkgKiDojrflj5bmnI3liqHlj7flr7nlupTnmoToj5zljZXpobkKCSAqIAoJICogQHBhcmFtIG1lbnVzCgkgKiAgICAgICAgICAgIOiPnOWNlemhueWIl+ihqAoJICogQHJldHVybiBMaXN0PE1hcDxTdHJpbmcsT2JqZWN0Pj4KCSAqIEBhdXRob3IgYW5keQoJICogQGRhdGUgMjAxNS44LjE5CgkgKiBAc2luY2UgMS4wCgkgKi8KCXByaXZhdGUgTGlzdDxNYXA8U3RyaW5nLCBPYmplY3Q+PiBnZXRNZW51TGlzdChMaXN0PE1lbnU+IG1lbnVzKSB7CgkJTGlzdDxNYXA8U3RyaW5nLCBPYmplY3Q+PiByZXN1bHRMaXN0ID0gbnVsbDsKCQlpZiAoRW1wdHlVdGlsLmlzTm90RW1wdHkobWVudXMpKSB7CgkJCXJlc3VsdExpc3QgPSBuZXcgQXJyYXlMaXN0PE1hcDxTdHJpbmcsIE9iamVjdD4+KCk7CgkJCWZvciAoTWVudSBtZW51IDogbWVudXMpIHsKCQkJCU1hcDxTdHJpbmcsIE9iamVjdD4gbWVudU1hcCA9IG5ldyBIYXNoTWFwPFN0cmluZywgT2JqZWN0PigpOwoJCQkJbWVudU1hcC5wdXQoIm1lbnVLZXkiLCBtZW51LmdldE1lbnVLZXkoKSk7CgkJCQltZW51TWFwLnB1dCgibWVudU5hbWUiLCBtZW51LmdldE1lbnVOYW1lKCkpOwoJCQkJbWVudU1hcC5wdXQoIm1lbnVUeXBlIiwgbWVudS5nZXRNZW51VHlwZSgpKTsKCQkJCW1lbnVNYXAucHV0KCJtZW51VXJsIiwgbWVudS5nZXRNZW51VXJsKCkpOwoJCQkJTGlzdDxNYXA8U3RyaW5nLCBPYmplY3Q+PiBjaGlsZE1lbnVzID0gZ2V0TWVudUxpc3QobWVudQoJCQkJCQkuZ2V0U3ViTWVudXMoKSk7CgkJCQlpZiAoRW1wdHlVdGlsLmlzTm90RW1wdHkoY2hpbGRNZW51cykpIHsKCQkJCQltZW51TWFwLnB1dCgiY2hpbGRNZW51cyIsIGNoaWxkTWVudXMpOwoJCQkJfQoJCQkJcmVzdWx0TGlzdC5hZGQobWVudU1hcCk7CgkJCX0KCQl9CgkJcmV0dXJuIHJlc3VsdExpc3Q7Cgl9CgoJLyoqCgkgKiDojrflj5bmnI3liqHlj7flr7nlupTnmoToj5zljZXpobkKCSAqIAoJICogQHBhcmFtIGNpZAoJICogICAgICAgICAgICDmjqXlj6PnvJblj7cKCSAqIEBwYXJhbSBkb21haW4KCSAqICAgICAgICAgICAg5Z+f5ZCNCgkgKiBAcGFyYW0gdW5pb25JZAoJICogICAgICAgICAgICB1bmlvbklkCgkgKiBAcGFyYW0gc2VydmljZU51bUlkCgkgKiAgICAgICAgICAgIOacjeWKoeWPt2lkCgkgKiBAcmV0dXJuIE1hcDxTdHJpbmcsT2JqZWN0PgoJICogQGF1dGhvciBhbmR5CgkgKiBAZGF0ZSAyMDE1LjguMTkKCSAqIEBzaW5jZSAxLjAKCSAqLwoJcHVibGljIE1hcDxTdHJpbmcsIE9iamVjdD4gZ2V0U2VydmljZU51bU1lbnVzKFN0cmluZyBjaWQsIFN0cmluZyBkb21haW4sCgkJCVN0cmluZyB1bmlvbklkLCBTdHJpbmcgc2VydmljZU51bUlkKSB0aHJvd3MgRXhjZXB0aW9uIHsKCQlNYXA8U3RyaW5nLCBPYmplY3Q+IHJlc3VsdE1hcCA9IG5ldyBIYXNoTWFwPFN0cmluZywgT2JqZWN0PigpOwoJCXJlc3VsdE1hcC5wdXQoInJlc3VsdCIsIDApOwoKCQlpZiAoRW1wdHlVdGlsLmlzTm90RW1wdHkoc2VydmljZU51bUlkKSkgewoJCQlTZXJ2aWNlTm9IYW5kbGVyIHN5c1NlcnZpY2VOb0hhbmRsZXIgPSBuZXcgU2VydmljZU5vSGFuZGxlcigpOwoJCQlTZXJ2aWNlTm8gc2VydmljZU5vID0gc3lzU2VydmljZU5vSGFuZGxlci5maW5kT25lKHNlcnZpY2VOdW1JZCk7CgoJCQlNYXA8U3RyaW5nLCBPYmplY3Q+IHNlcnZpY2VOdW0gPSBuZXcgSGFzaE1hcDxTdHJpbmcsIE9iamVjdD4oKTsKCQkJTGlzdDxNYXA8U3RyaW5nLCBPYmplY3Q+PiBtZW51cyA9IG5ldyBBcnJheUxpc3Q8TWFwPFN0cmluZywgT2JqZWN0Pj4oKTsKCQkJaWYgKEVtcHR5VXRpbC5pc05vdEVtcHR5KHNlcnZpY2VObykpIHsKCQkJCS8vIOiOt+WPluacjeWKoeWPt+exu+Wei+WQjQoJCQkJU2VydmljZVR5cGUgc2VydmljZU5vVHlwZSA9IG5ldyBTZXJ2aWNlTm9UeXBlSGFuZGxlcigpCgkJCQkJCS5maW5kT25lKHNlcnZpY2VOby5nZXRUeXBlKCkpOwoJCQkJU3RyaW5nIGNhdGVnb3J5TmFtZSA9ICIiOwoJCQkJaWYgKEVtcHR5VXRpbC5pc05vdEVtcHR5KHNlcnZpY2VOb1R5cGUpKSB7CgkJCQkJY2F0ZWdvcnlOYW1lID0gc2VydmljZU5vVHlwZS5nZXRUeXBlTmFtZSgpOwoJCQkJfQoJCQkJLy8g5piv5ZCm6K6i6ZiFCgkJCQlJbnRlZ2VyIHN1YnNjcmliZWQgPSAwOwoJCQkJaWYgKEVtcHR5VXRpbC5pc05vdEVtcHR5KGRvbWFpbikKCQkJCQkJJiYgRW1wdHlVdGlsLmlzTm90RW1wdHkodW5pb25JZCkpIHsKCQkJCQlMb25nIGNvdW50ID0gbmV3IERldlVzZXJTZXJ2aWNlTm9IYW5kbGVyKGRvbWFpbikuY291bnQoCgkJCQkJCQl1bmlvbklkLCBzZXJ2aWNlTnVtSWQpOwoJCQkJCXN1YnNjcmliZWQgPSAoY291bnQgPT0gMSkgPyAxIDogMDsKCQkJCX0KCQkJCXNlcnZpY2VOdW0ucHV0KCJzZXJ2aWNlTnVtSWQiLCBzZXJ2aWNlTm8uZ2V0SWQoKS50b1N0cmluZygpKTsKCQkJCXNlcnZpY2VOdW0ucHV0KCJzZXJ2aWNlTnVtTmFtZSIsIHNlcnZpY2VOby5nZXROYW1lKCkpOwoJCQkJc2VydmljZU51bS5wdXQoImNhdGVnb3J5SWQiLCBzZXJ2aWNlTm8uZ2V0VHlwZSgpKTsKCQkJCXNlcnZpY2VOdW0ucHV0KCJjYXRlZ29yeU5hbWUiLCBjYXRlZ29yeU5hbWUpOwoJCQkJc2VydmljZU51bS5wdXQoImltYWdlVXJsIiwgQ29uZi5nZXRQcm9wZXJ0eSgiTU9BX1NFUlZFUl9VUkxfT1VUIikKCQkJCQkJKyBzZXJ2aWNlTm8uZ2V0SWNvbigpKTsKCQkJCXNlcnZpY2VOdW0ucHV0KCJzdW1tYXJ5Iiwgc2VydmljZU5vLmdldERlc2MoKSk7CgkJCQlzZXJ2aWNlTnVtLnB1dCgic3Vic2NyaWJlZCIsIHN1YnNjcmliZWQpOwoJCQkJc2VydmljZU51bS5wdXQoIndlbGNvbWUiLCBDb25mLmdldFByb3BlcnR5KCJTRVJWSUNFTk9fV0VMQ09NRSIpCgkJCQkJCS5yZXBsYWNlKCJ7MX0iLCBzZXJ2aWNlTm8uZ2V0TmFtZSgpKSk7CgoJCQkJbWVudXMgPSBnZXRNZW51TGlzdChzZXJ2aWNlTm8uZ2V0TWVudXMoKSk7CgkJCX0KCgkJCXJlc3VsdE1hcC5wdXQoInNlcnZpY2VOdW0iLCBzZXJ2aWNlTnVtKTsKCQkJcmVzdWx0TWFwLnB1dCgibWVudXMiLCBtZW51cyk7CgoJCQlyZXN1bHRNYXAucHV0KCJyZXN1bHQiLCAxKTsKCQkJcmV0dXJuIFJlc3BvbnNlVXRpbC5yZXR1cm5NYXAoY2lkLCAwLCAi5q2j5bi4IiwgcmVzdWx0TWFwKTsKCQl9IGVsc2UgewoJCQlyZXR1cm4gUmVzcG9uc2VVdGlsLnJldHVybk1hcChjaWQsIDEsICLlhaXlj4LkuLrnqboiLCByZXN1bHRNYXApOwoJCX0KCX0KCgkvKioKCSAqIOiOt+WPluacjeWKoeWPt+WvueW6lOeahOiPnOWNlemhuQoJICogCgkgKiBAcGFyYW0gY2lkCgkgKiAgICAgICAgICAgIOaOpeWPo+e8luWPtwoJICogQHBhcmFtIGRvbWFpbgoJICogICAgICAgICAgICDln5/lkI0KCSAqIEBwYXJhbSB1bmlvbklkCgkgKiAgICAgICAgICAgIHVuaW9uSWQKCSAqIEBwYXJhbSBzZXJ2aWNlTnVtSWQKCSAqICAgICAgICAgICAg5pyN5Yqh5Y+3aWQKCSAqIEByZXR1cm4gTWFwPFN0cmluZyxPYmplY3Q+CgkgKiBAYXV0aG9yIGFuZHkKCSAqIEBkYXRlIDIwMTUuOC4xOQoJICogQHNpbmNlIDEuMAoJICovCglwdWJsaWMgTWFwPFN0cmluZywgT2JqZWN0PiBkZWxTZXJ2aWNlTnVtKFN0cmluZyBjaWQsIFN0cmluZyBkb21haW4sCgkJCVN0cmluZyB1bmlvbklkLCBTdHJpbmcgc2VydmljZU51bUlkKSB0aHJvd3MgRXhjZXB0aW9uIHsKCQlNYXA8U3RyaW5nLCBPYmplY3Q+IHJlc3VsdE1hcCA9IG5ldyBIYXNoTWFwPFN0cmluZywgT2JqZWN0PigpOwoJCXJlc3VsdE1hcC5wdXQoInJlc3VsdCIsIDApOwoKCQlpZiAoRW1wdHlVdGlsLmlzTm90RW1wdHkoZG9tYWluKSAmJiBFbXB0eVV0aWwuaXNOb3RFbXB0eSh1bmlvbklkKQoJCQkJJiYgRW1wdHlVdGlsLmlzTm90RW1wdHkoc2VydmljZU51bUlkKSkgewoJCQlEZXZVc2VyU2VydmljZU5vSGFuZGxlciBkZXZVc2VyU2VydmljZU5vSGFuZGxlciA9IG5ldyBEZXZVc2VyU2VydmljZU5vSGFuZGxlcigKCQkJCQlkb21haW4pOwoJCQlkZXZVc2VyU2VydmljZU5vSGFuZGxlci5yZW1vdmUodW5pb25JZCwgc2VydmljZU51bUlkKTsKCgkJCXJlc3VsdE1hcC5wdXQoInJlc3VsdCIsIDEpOwoJCQlyZXR1cm4gUmVzcG9uc2VVdGlsLnJldHVybk1hcChjaWQsIDAsICLmraPluLgiLCByZXN1bHRNYXApOwoJCX0gZWxzZSB7CgkJCXJldHVybiBSZXNwb25zZVV0aWwucmV0dXJuTWFwKGNpZCwgMSwgIuWFpeWPguS4uuepuiIsIHJlc3VsdE1hcCk7CgkJfQoJfQoKfQo=</text>
      </register>
      <register name="4" type="2">
        <text encoding="base64">cGFja2FnZSBjb250cm9sbGVycy5hcGk7CgppbXBvcnQgamF2YS51dGlsLkFycmF5TGlzdDsKaW1wb3J0IGphdmEudXRpbC5IYXNoTWFwOwppbXBvcnQgamF2YS51dGlsLkl0ZXJhdG9yOwppbXBvcnQgamF2YS51dGlsLkxpc3Q7CmltcG9ydCBqYXZhLnV0aWwuTWFwOwoKaW1wb3J0IHBsYXkuTG9nZ2VyOwppbXBvcnQgcGxheS5Mb2dnZXIuQUxvZ2dlcjsKaW1wb3J0IHBsYXkubGlicy5Kc29uOwppbXBvcnQgcGxheS5tdmMuQ29udHJvbGxlcjsKaW1wb3J0IHBsYXkubXZjLkh0dHA7CmltcG9ydCBwbGF5Lm12Yy5SZXN1bHQ7CmltcG9ydCBwbGF5Lm12Yy5XaXRoOwppbXBvcnQgc2VydmljZXMuYXBpLlNlcnZpY2VOdW1TZXJ2aWNlOwppbXBvcnQgdXRpbHMuUmVzcG9uc2VVdGlsOwoKaW1wb3J0IGNvbS5mYXN0ZXJ4bWwuamFja3Nvbi5kYXRhYmluZC5Kc29uTm9kZTsKCmltcG9ydCBmaWx0ZXJzLkF1dGg7CmltcG9ydCBmaWx0ZXJzLkF1dGhlbnRpY2F0aW9uOwoKLyoqCiAqIOacjeWKoeWPt+ebuOWFs0NvbnRyb2xsZXIKICogCiAqIEBhdXRob3IgYW5keQogKiBAZGF0ZSAyMDE1LjguMTcKICogCiAqIEBzaW5jZSAxLjAKICovCnB1YmxpYyBjbGFzcyBTZXJ2aWNlTnVtQ29udHJvbGxlciBleHRlbmRzIENvbnRyb2xsZXIgewoJCglwcml2YXRlIHN0YXRpYyBmaW5hbCBBTG9nZ2VyIGxvZ2dlciA9IExvZ2dlci5vZihTZXJ2aWNlTnVtQ29udHJvbGxlci5jbGFzcyk7CgoJLyoqCgkgKiDmt7vliqDmnI3liqHlj7fmjqXlj6MKCSAqIAoJICogQHJldHVybiBSZXN1bHQKCSAqIEBhdXRob3IgYW5keQoJICogQGRhdGUgMjAxNS44LjE3CgkgKiBAc2luY2UgMS4wCgkgKi8KCUBXaXRoKHsgQXV0aC5jbGFzcyB9KQoJcHVibGljIHN0YXRpYyBSZXN1bHQgYWRkU2VydmljZU51bXMoKSB7CgkJbG9nZ2VyLmluZm8oIlNlcnZpY2VOdW1Db250cm9sbGVyLmFkZFNlcnZpY2VOdW1zIHN0YXJ0ISIpOwoJCS8vIOWumuS5iei/lOWbnue7k+aenAoJCU1hcDxTdHJpbmcsT2JqZWN0PiByZXR1cm5NYXAgPSBudWxsOwoJCQoJCUh0dHAuQ29udGV4dCBjdHggPSBIdHRwLkNvbnRleHQuY3VycmVudC5nZXQoKTsKCQlKc29uTm9kZSBqc29uTm9kZSA9IGN0eC5yZXF1ZXN0KCkuYm9keSgpLmFzSnNvbigpOwoJCQoJCVN0cmluZyBjaWQgPSBqc29uTm9kZS5maW5kUGF0aCgiY2lkIikuYXNUZXh0KCk7CgkJSXRlcmF0b3I8SnNvbk5vZGU+IGl0ZXJhdG9yID0ganNvbk5vZGUuZmluZFBhdGgoInNlcnZpY2VOdW1JZHMiKS5pdGVyYXRvcigpOwoJCUxpc3Q8U3RyaW5nPiBudW1zID0gbmV3IEFycmF5TGlzdDxTdHJpbmc+KCk7CgkJd2hpbGUoaXRlcmF0b3IuaGFzTmV4dCgpKXsKCQkJbnVtcy5hZGQoaXRlcmF0b3IubmV4dCgpLmFzVGV4dCgpKTsKCQl9CgkJCgkJU3RyaW5nIGRvbWFpbiA9IGN0eC5hcmdzLmdldCgiZG9tYWluIikudG9TdHJpbmcoKTsKCQlTdHJpbmcgdXNlcklkID0gY3R4LmFyZ3MuZ2V0KCJ1c2VySWQiKS50b1N0cmluZygpOwoJCVN0cmluZyB1bmlvbklkID0gY3R4LmFyZ3MuZ2V0KCJ1bmlvbklkIikudG9TdHJpbmcoKTsKCQkKCQl0cnkgewoJCQkvLyDojrflj5bmiJDlip/nu5PmnpwKCQkJcmV0dXJuTWFwID0gbmV3IFNlcnZpY2VOdW1TZXJ2aWNlKCkuYWRkU2VydmljZU51bXMoY2lkLCBkb21haW4sIHVzZXJJZCwgdW5pb25JZCwgbnVtcyk7CgkJfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHsKCQkJbG9nZ2VyLmVycm9yKCLmt7vliqDmnI3liqHlj7fmjqXlj6PlvILluLjvvJoiK2UpOwoJCQkvLyDmiJDlip/nu5PmnpzpmYTlgLwKCQkJTWFwPFN0cmluZyxPYmplY3Q+IHJlc3VsdE1hcCA9IG5ldyBIYXNoTWFwPFN0cmluZyxPYmplY3Q+KCk7CgkJCXJlc3VsdE1hcC5wdXQoInJlc3VsdCIsIDApOwoJCQlyZXR1cm5NYXAgPSBSZXNwb25zZVV0aWwucmV0dXJuTWFwKGNpZCwgMTAxLCAi5Ye6546w5byC5bi4IiwgcmVzdWx0TWFwKTsKCQl9CiAgICAJCiAgICAJbG9nZ2VyLmluZm8oIlNlcnZpY2VOdW1Db250cm9sbGVyLmFkZFNlcnZpY2VOdW1zIGVuZCEiKTsKICAgIAlyZXR1cm4gb2soSnNvbi50b0pzb24ocmV0dXJuTWFwKSk7Cgl9CgkKCS8qKgoJICog6I635Y+W55So5oi35re75Yqg55qE5pyN5Yqh5Y+35o6l5Y+jCgkgKiAKCSAqIEByZXR1cm4gUmVzdWx0CgkgKiBAYXV0aG9yIGFuZHkKCSAqIEBkYXRlIDIwMTUuOC4xOAoJICogQHNpbmNlIDEuMAoJICovCglAV2l0aCh7IEF1dGguY2xhc3MgfSkKCXB1YmxpYyBzdGF0aWMgUmVzdWx0IGdldFVzZXJTZXJ2aWNlTnVtcygpIHsKCQlsb2dnZXIuaW5mbygiU2VydmljZU51bUNvbnRyb2xsZXIuZ2V0VXNlclNlcnZpY2VOdW1zIHN0YXJ0ISIpOwoJCS8vIOWumuS5iei/lOWbnue7k+aenAoJCU1hcDxTdHJpbmcsT2JqZWN0PiByZXR1cm5NYXAgPSBudWxsOwoJCQoJCUh0dHAuQ29udGV4dCBjdHggPSBIdHRwLkNvbnRleHQuY3VycmVudC5nZXQoKTsKCQlKc29uTm9kZSBqc29uTm9kZSA9IGN0eC5yZXF1ZXN0KCkuYm9keSgpLmFzSnNvbigpOwoJCQoJCVN0cmluZyBjaWQgPSBqc29uTm9kZS5maW5kUGF0aCgiY2lkIikuYXNUZXh0KCk7CgkJTG9uZyBsYXN0VGltZVN0YW1wID0ganNvbk5vZGUuZmluZFBhdGgoImxhc3RUaW1lU3RhbXAiKS5hc0xvbmcoKTsKCQlJbnRlZ2VyIHBhZ2VTaXplID0ganNvbk5vZGUuZmluZFBhdGgoInBhZ2VTaXplIikuYXNJbnQoKTsKCQkKCQlTdHJpbmcgZG9tYWluID0gY3R4LmFyZ3MuZ2V0KCJkb21haW4iKS50b1N0cmluZygpOwoJCVN0cmluZyB1bmlvbklkID0gY3R4LmFyZ3MuZ2V0KCJ1bmlvbklkIikudG9TdHJpbmcoKTsKCQkKCQl0cnkgewoJCQkvLyDojrflj5bmiJDlip/nu5PmnpwKCQkJcmV0dXJuTWFwID0gbmV3IFNlcnZpY2VOdW1TZXJ2aWNlKCkuZ2V0VXNlclNlcnZpY2VOdW1zKGNpZCwgZG9tYWluLCB1bmlvbklkLCBsYXN0VGltZVN0YW1wLCBwYWdlU2l6ZSk7CgkJfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHsKCQkJbG9nZ2VyLmVycm9yKCLojrflj5bnlKjmiLfmt7vliqDnmoTmnI3liqHlj7fmjqXlj6PlvILluLjvvJoiK2UpOwoJCQkvLyDmiJDlip/nu5PmnpzpmYTlgLwKCQkJTWFwPFN0cmluZyxPYmplY3Q+IHJlc3VsdE1hcCA9IG5ldyBIYXNoTWFwPFN0cmluZyxPYmplY3Q+KCk7CgkJCXJlc3VsdE1hcC5wdXQoInJlc3VsdCIsIDApOwoJCQlyZXR1cm5NYXAgPSBSZXNwb25zZVV0aWwucmV0dXJuTWFwKGNpZCwgMTAxLCAi5Ye6546w5byC5bi4IiwgcmVzdWx0TWFwKTsKCQl9CiAgICAJCiAgICAJbG9nZ2VyLmluZm8oIlNlcnZpY2VOdW1Db250cm9sbGVyLmdldFVzZXJTZXJ2aWNlTnVtcyBlbmQhIik7CiAgICAJcmV0dXJuIG9rKEpzb24udG9Kc29uKHJldHVybk1hcCkpOwoJfQoJCgkvKioKCSAqIOafpeivouacjeWKoeWPt+aOpeWPowoJICogCgkgKiBAcmV0dXJuIFJlc3VsdAoJICogQGF1dGhvciBhbmR5CgkgKiBAZGF0ZSAyMDE1LjguMTgKCSAqIEBzaW5jZSAxLjAKCSAqLwoJQFdpdGgoeyBBdXRoZW50aWNhdGlvbi5jbGFzcyB9KQoJcHVibGljIHN0YXRpYyBSZXN1bHQgc2VhcmNoU2VydmljZU51bXMoKSB7CgkJbG9nZ2VyLmluZm8oIlNlcnZpY2VOdW1Db250cm9sbGVyLnNlYXJjaFNlcnZpY2VOdW1zIHN0YXJ0ISIpOwoJCS8vIOWumuS5iei/lOWbnue7k+aenAoJCU1hcDxTdHJpbmcsT2JqZWN0PiByZXR1cm5NYXAgPSBudWxsOwoJCQoJCUh0dHAuQ29udGV4dCBjdHggPSBIdHRwLkNvbnRleHQuY3VycmVudC5nZXQoKTsKCQlKc29uTm9kZSBqc29uTm9kZSA9IGN0eC5yZXF1ZXN0KCkuYm9keSgpLmFzSnNvbigpOwoJCQoJCVN0cmluZyBjaWQgPSBqc29uTm9kZS5maW5kUGF0aCgiY2lkIikuYXNUZXh0KCk7CgkJU3RyaW5nIGtleXdvcmQgPSBqc29uTm9kZS5maW5kUGF0aCgia2V5d29yZCIpLmFzVGV4dCgpOwoJCVN0cmluZyBsYXN0U2VydmljZU51bUlkID0ganNvbk5vZGUuZmluZFBhdGgoImxhc3RTZXJ2aWNlTnVtSWQiKS5hc1RleHQoKTsKCQlJbnRlZ2VyIHBhZ2VTaXplID0ganNvbk5vZGUuZmluZFBhdGgoInBhZ2VTaXplIikuYXNJbnQoKTsKCQlJbnRlZ2VyIHNjb3BlID0ganNvbk5vZGUuZmluZFBhdGgoInNjb3BlIikuYXNJbnQoKTsKCQkKCQlTdHJpbmcgZG9tYWluID0gY3R4LmFyZ3MuZ2V0KCJkb21haW4iKS50b1N0cmluZygpOwoJCVN0cmluZyB1bmlvbklkID0gY3R4LmFyZ3MuZ2V0KCJ1bmlvbklkIikudG9TdHJpbmcoKTsKCQkKCQl0cnkgewoJCQkvLyDojrflj5bmiJDlip/nu5PmnpwKCQkJcmV0dXJuTWFwID0gbmV3IFNlcnZpY2VOdW1TZXJ2aWNlKCkuc2VhcmNoU2VydmljZU51bXMoY2lkLCBkb21haW4sIHVuaW9uSWQsIGtleXdvcmQsIGxhc3RTZXJ2aWNlTnVtSWQsIHBhZ2VTaXplLCBzY29wZSk7CgkJfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHsKCQkJbG9nZ2VyLmVycm9yKCLmn6Xor6LmnI3liqHlj7fmjqXlj6PlvILluLjvvJoiK2UpOwoJCQkvLyDmiJDlip/nu5PmnpzpmYTlgLwKCQkJTWFwPFN0cmluZyxPYmplY3Q+IHJlc3VsdE1hcCA9IG5ldyBIYXNoTWFwPFN0cmluZyxPYmplY3Q+KCk7CgkJCXJlc3VsdE1hcC5wdXQoInJlc3VsdCIsIDApOwoJCQlyZXR1cm5NYXAgPSBSZXNwb25zZVV0aWwucmV0dXJuTWFwKGNpZCwgMTAxLCAi5Ye6546w5byC5bi4IiwgcmVzdWx0TWFwKTsKCQl9CiAgICAJCiAgICAJbG9nZ2VyLmluZm8oIlNlcnZpY2VOdW1Db250cm9sbGVyLnNlYXJjaFNlcnZpY2VOdW1zIGVuZCEiKTsKICAgIAlyZXR1cm4gb2soSnNvbi50b0pzb24ocmV0dXJuTWFwKSk7Cgl9CgkKCS8qKgoJICog6I635Y+W5pyN5Yqh5Y+35YiG57G75o6l5Y+jCgkgKiAKCSAqIEByZXR1cm4gUmVzdWx0CgkgKiBAYXV0aG9yIGFuZHkKCSAqIEBkYXRlIDIwMTUuOC4xOQoJICogQHNpbmNlIDEuMAoJICovCglAV2l0aCh7IEF1dGhlbnRpY2F0aW9uLmNsYXNzIH0pCglwdWJsaWMgc3RhdGljIFJlc3VsdCBnZXRTZXJ2aWNlTnVtQ2F0ZWdvcnlzKCkgewoJCWxvZ2dlci5pbmZvKCJTZXJ2aWNlTnVtQ29udHJvbGxlci5nZXRTZXJ2aWNlTnVtQ2F0ZWdvcnlzIHN0YXJ0ISIpOwoJCS8vIOWumuS5iei/lOWbnue7k+aenAoJCU1hcDxTdHJpbmcsT2JqZWN0PiByZXR1cm5NYXAgPSBudWxsOwoJCQoJCUpzb25Ob2RlIGpzb25Ob2RlID0gcmVxdWVzdCgpLmJvZHkoKS5hc0pzb24oKTsKCQlTdHJpbmcgY2lkID0ganNvbk5vZGUuZmluZFBhdGgoImNpZCIpLmFzVGV4dCgpOwoJCQoJCXRyeSB7CgkJCS8vIOiOt+WPluaIkOWKn+e7k+aenAoJCQlyZXR1cm5NYXAgPSBuZXcgU2VydmljZU51bVNlcnZpY2UoKS5nZXRTZXJ2aWNlTnVtQ2F0ZWdvcnlzKGNpZCk7CgkJfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHsKCQkJbG9nZ2VyLmVycm9yKCLojrflj5bmnI3liqHlj7fliIbnsbvmjqXlj6PlvILluLjvvJoiK2UpOwoJCQkvLyDmiJDlip/nu5PmnpzpmYTlgLwKCQkJTWFwPFN0cmluZyxPYmplY3Q+IHJlc3VsdE1hcCA9IG5ldyBIYXNoTWFwPFN0cmluZyxPYmplY3Q+KCk7CgkJCXJlc3VsdE1hcC5wdXQoInJlc3VsdCIsIDApOwoJCQlyZXR1cm5NYXAgPSBSZXNwb25zZVV0aWwucmV0dXJuTWFwKGNpZCwgMTAxLCAi5Ye6546w5byC5bi4IiwgcmVzdWx0TWFwKTsKCQl9CiAgICAJCiAgICAJbG9nZ2VyLmluZm8oIlNlcnZpY2VOdW1Db250cm9sbGVyLmdldFNlcnZpY2VOdW1DYXRlZ29yeXMgZW5kISIpOwogICAgCXJldHVybiBvayhKc29uLnRvSnNvbihyZXR1cm5NYXApKTsKCX0KCQoJLyoqCgkgKiDojrflj5bmnI3liqHlj7flr7nlupTnmoToj5zljZXpobnmjqXlj6MKCSAqIAoJICogQHJldHVybiBSZXN1bHQKCSAqIEBhdXRob3IgYW5keQoJICogQGRhdGUgMjAxNS44LjE5CgkgKiBAc2luY2UgMS4wCgkgKi8KCUBXaXRoKHsgQXV0aGVudGljYXRpb24uY2xhc3MgfSkKCXB1YmxpYyBzdGF0aWMgUmVzdWx0IGdldFNlcnZpY2VOdW1NZW51cygpIHsKCQlsb2dnZXIuaW5mbygiU2VydmljZU51bUNvbnRyb2xsZXIuZ2V0U2VydmljZU51bU1lbnVzIHN0YXJ0ISIpOwoJCS8vIOWumuS5iei/lOWbnue7k+aenAoJCU1hcDxTdHJpbmcsT2JqZWN0PiByZXR1cm5NYXAgPSBudWxsOwoJCQoJCUh0dHAuQ29udGV4dCBjdHggPSBIdHRwLkNvbnRleHQuY3VycmVudC5nZXQoKTsKCQlKc29uTm9kZSBqc29uTm9kZSA9IGN0eC5yZXF1ZXN0KCkuYm9keSgpLmFzSnNvbigpOwoJCQoJCVN0cmluZyBjaWQgPSBqc29uTm9kZS5maW5kUGF0aCgiY2lkIikuYXNUZXh0KCk7CgkJU3RyaW5nIHNlcnZpY2VOdW1JZCA9IGpzb25Ob2RlLmZpbmRQYXRoKCJzZXJ2aWNlTnVtSWQiKS5hc1RleHQoKTsKCQkKCQlTdHJpbmcgZG9tYWluID0gY3R4LmFyZ3MuZ2V0KCJkb21haW4iKS50b1N0cmluZygpOwoJCVN0cmluZyB1bmlvbklkID0gY3R4LmFyZ3MuZ2V0KCJ1bmlvbklkIikudG9TdHJpbmcoKTsKCQkKCQl0cnkgewoJCQkvLyDojrflj5bmiJDlip/nu5PmnpwKCQkJcmV0dXJuTWFwID0gbmV3IFNlcnZpY2VOdW1TZXJ2aWNlKCkuZ2V0U2VydmljZU51bU1lbnVzKGNpZCwgZG9tYWluLCB1bmlvbklkLCBzZXJ2aWNlTnVtSWQpOwoJCX0gY2F0Y2ggKEV4Y2VwdGlvbiBlKSB7CgkJCWxvZ2dlci5lcnJvcigi6I635Y+W5pyN5Yqh5Y+35a+55bqU55qE6I+c5Y2V6aG55o6l5Y+j5byC5bi477yaIitlKTsKCQkJLy8g5oiQ5Yqf57uT5p6c6ZmE5YC8CgkJCU1hcDxTdHJpbmcsT2JqZWN0PiByZXN1bHRNYXAgPSBuZXcgSGFzaE1hcDxTdHJpbmcsT2JqZWN0PigpOwoJCQlyZXN1bHRNYXAucHV0KCJyZXN1bHQiLCAwKTsKCQkJcmV0dXJuTWFwID0gUmVzcG9uc2VVdGlsLnJldHVybk1hcChjaWQsIDEwMSwgIuWHuueOsOW8guW4uCIsIHJlc3VsdE1hcCk7CgkJfQogICAgCQogICAgCWxvZ2dlci5pbmZvKCJTZXJ2aWNlTnVtQ29udHJvbGxlci5nZXRTZXJ2aWNlTnVtTWVudXMgZW5kISIpOwogICAgCXJldHVybiBvayhKc29uLnRvSnNvbihyZXR1cm5NYXApKTsKCX0KCQoJLyoqCgkgKiDliKDpmaTmnI3liqHlj7fmjqXlj6MKCSAqIAoJICogQHJldHVybiBSZXN1bHQKCSAqIEBhdXRob3IgYW5keQoJICogQGRhdGUgMjAxNS44LjE5CgkgKiBAc2luY2UgMS4wCgkgKi8KCUBXaXRoKHsgQXV0aC5jbGFzcyB9KQoJcHVibGljIHN0YXRpYyBSZXN1bHQgZGVsU2VydmljZU51bSgpIHsKCQlsb2dnZXIuaW5mbygiU2VydmljZU51bUNvbnRyb2xsZXIuZGVsU2VydmljZU51bSBzdGFydCEiKTsKCQkvLyDlrprkuYnov5Tlm57nu5PmnpwKCQlNYXA8U3RyaW5nLE9iamVjdD4gcmV0dXJuTWFwID0gbnVsbDsKCQkKCQlIdHRwLkNvbnRleHQgY3R4ID0gSHR0cC5Db250ZXh0LmN1cnJlbnQuZ2V0KCk7CgkJSnNvbk5vZGUganNvbk5vZGUgPSBjdHgucmVxdWVzdCgpLmJvZHkoKS5hc0pzb24oKTsKCQkKCQlTdHJpbmcgY2lkID0ganNvbk5vZGUuZmluZFBhdGgoImNpZCIpLmFzVGV4dCgpOwoJCVN0cmluZyBzZXJ2aWNlTnVtSWQgPSBqc29uTm9kZS5maW5kUGF0aCgic2VydmljZU51bUlkIikuYXNUZXh0KCk7CgkJCgkJU3RyaW5nIGRvbWFpbiA9IGN0eC5hcmdzLmdldCgiZG9tYWluIikudG9TdHJpbmcoKTsKCQlTdHJpbmcgdW5pb25JZCA9IGN0eC5hcmdzLmdldCgidW5pb25JZCIpLnRvU3RyaW5nKCk7CgkJCgkJdHJ5IHsKCQkJLy8g6I635Y+W5oiQ5Yqf57uT5p6cCgkJCXJldHVybk1hcCA9IG5ldyBTZXJ2aWNlTnVtU2VydmljZSgpLmRlbFNlcnZpY2VOdW0oY2lkLCBkb21haW4sIHVuaW9uSWQsIHNlcnZpY2VOdW1JZCk7CgkJfSBjYXRjaCAoRXhjZXB0aW9uIGUpIHsKCQkJbG9nZ2VyLmVycm9yKCLliKDpmaTmnI3liqHlj7fmjqXlj6PlvILluLjvvJoiK2UpOwoJCQkvLyDmiJDlip/nu5PmnpzpmYTlgLwKCQkJTWFwPFN0cmluZyxPYmplY3Q+IHJlc3VsdE1hcCA9IG5ldyBIYXNoTWFwPFN0cmluZyxPYmplY3Q+KCk7CgkJCXJlc3VsdE1hcC5wdXQoInJlc3VsdCIsIDApOwoJCQlyZXR1cm5NYXAgPSBSZXNwb25zZVV0aWwucmV0dXJuTWFwKGNpZCwgMTAxLCAi5Ye6546w5byC5bi4IiwgcmVzdWx0TWFwKTsKCQl9CiAgICAJCiAgICAJbG9nZ2VyLmluZm8oIlNlcnZpY2VOdW1Db250cm9sbGVyLmRlbFNlcnZpY2VOdW0gZW5kISIpOwogICAgCXJldHVybiBvayhKc29uLnRvSnNvbihyZXR1cm5NYXApKTsKCX0KCn0K</text>
      </register>
      <register name="5" type="2">
        <text encoding="base64">cGFja2FnZSBjbGllbnRzLm1icDsKCi8qKgogKiBNQlDmnI3liqHku6PnkIYKICogCiAqIEBhdXRob3IgYW5keQogKiBAZGF0ZSAyMDE2LjQuMjUKICovCnB1YmxpYyBpbnRlcmZhY2UgTWJwU2VydmljZSB7CgkKfQo=</text>
      </register>
      <register name="6" type="2">
        <text encoding="base64">cGFja2FnZSBtb2RlbHMucmVjb3JkOwoKaW1wb3J0IGphdmEuaW8uU2VyaWFsaXphYmxlOwoKaW1wb3J0IHV0aWxzLk1ENTsKCg==</text>
      </register>
      <register name="7" type="2">
        <text encoding="base64">cHVibGljIGNsYXNzIEF1dGhLZXlSZWNvcmQgaW1wbGVtZW50cyBTZXJpYWxpemFibGUgewoJCgkvKioKCSAqIAoJICovCglwcml2YXRlIHN0YXRpYyBmaW5hbCBsb25nIHNlcmlhbFZlcnNpb25VSUQgPSAtMjE4MjUyNjk1MTM5Mjc5MzcxNUw7CgoJLyoqCgkgKiDmnoTpgKDlh73mlbAKCSAqLwoJcHVibGljIEF1dGhLZXlSZWNvcmQoKSB7CgoJfQoKCS8qKgoJICog5p6E6YCg5Ye95pWwCgkgKi8KCXB1YmxpYyBBdXRoS2V5UmVjb3JkKFN0cmluZyBhcHBJZCwgU3RyaW5nIHBsYXRmb3JtKSB7CgkJdGhpcy52YWx1ZSA9IE1ENS5tZDVzMzIoYXBwSWQgKyBwbGF0Zm9ybSk7Cgl9CgoJLyoqCgkgKiDmnoTpgKDlh73mlbAKCSAqLwoJcHVibGljIEF1dGhLZXlSZWNvcmQoU3RyaW5nIGFwcElkLCBTdHJpbmcgcGxhdGZvcm0sIEJvb2xlYW4gYWN0aXZlKSB7CgkJdGhpcy52YWx1ZSA9IE1ENS5tZDVzMzIoYXBwSWQgKyBwbGF0Zm9ybSk7CgkJdGhpcy5hY3RpdmUgPSBhY3RpdmU7Cgl9CgoJcHJpdmF0ZSBCb29sZWFuIGFjdGl2ZSA9IGZhbHNlOwoJcHJpdmF0ZSBTdHJpbmcgdmFsdWUgPSAiIjsKCXByaXZhdGUgU3RyaW5nIHBhY2thZ2VOYW1lID0gIiI7CgoJcHVibGljIEJvb2xlYW4gZ2V0QWN0aXZlKCkgewoJCXJldHVybiBhY3RpdmU7Cgl9CgoJcHVibGljIHZvaWQgc2V0QWN0aXZlKEJvb2xlYW4gYWN0aXZlKSB7CgkJdGhpcy5hY3RpdmUgPSBhY3RpdmU7Cgl9CgoJcHVibGljIFN0cmluZyBnZXRWYWx1ZSgpIHsKCQlyZXR1cm4gdmFsdWU7Cgl9CgoJcHVibGljIHZvaWQgc2V0VmFsdWUoU3RyaW5nIHZhbHVlKSB7CgkJdGhpcy52YWx1ZSA9IHZhbHVlOwoJfQoKCXB1YmxpYyBTdHJpbmcgZ2V0UGFja2FnZU5hbWUoKSB7CgkJcmV0dXJuIHBhY2thZ2VOYW1lOwoJfQoKCXB1YmxpYyB2b2lkIHNldFBhY2thZ2VOYW1lKFN0cmluZyBwYWNrYWdlTmFtZSkgewoJCXRoaXMucGFja2FnZU5hbWUgPSBwYWNrYWdlTmFtZTsKCX0KfQo=</text>
      </register>
      <register name="8" type="2">
        <text encoding="base64">cGFja2FnZSBtb2RlbHM7CgpwdWJsaWMgY2xhc3MgU3lzQ29tQXBwRW50aXR5IHsKfQo=</text>
      </register>
      <register name="9" type="2">
        <text encoding="base64">cGFja2FnZSBkYW9zOwoKcHVibGljIGNsYXNzIFN5c0NvbUFwcEhhbmRsZXIgewp9Cg==</text>
      </register>
      <register name=":" type="4">
        <text>w</text>
      </register>
    </registers>
    <search>
      <last-search>sale</last-search>
      <last-offset />
      <last-pattern>sale</last-pattern>
      <last-replace>addProperty</last-replace>
      <last-substitute>put</last-substitute>
      <last-dir>1</last-dir>
      <show-last>true</show-last>
    </search>
    <history>
      <history-search>
        <entry>orgPager</entry>
        <entry>cloud</entry>
        <entry>contact</entry>
        <entry>orgpager</entry>
        <entry>account</entry>
        <entry>ortview</entry>
        <entry>compoany</entry>
        <entry>company\/org</entry>
        <entry>org_direct</entry>
        <entry>edita</entry>
        <entry>auth</entry>
        <entry>sys_device</entry>
        <entry>service_auth</entry>
        <entry>login</entry>
        <entry>get_user_service</entry>
        <entry>get_user</entry>
        <entry>get_user_</entry>
        <entry>get_sales</entry>
        <entry>get_sale</entry>
        <entry>sale</entry>
      </history-search>
      <history-cmd>
        <entry encoding="base64">JzwsJz5zL2luc2VydC91cGRhdGUvZw==</entry>
        <entry encoding="base64">JzwsJz5zLzMuMi8zLjEvZw==</entry>
        <entry encoding="base64">JzwsJz5zL29yZGVyaWQvZXhlY3V0aW9uX25hbWUvZw==</entry>
        <entry encoding="base64">JzwsJz5zL3BhcmFtTWFwLi8vZw==</entry>
        <entry encoding="base64">JzwsJz5zLzsvL2c=</entry>
        <entry encoding="base64">JzwsJz5zL3RhZGtpZC9pZC9n</entry>
        <entry encoding="base64">JzwsJz5zL3Rhc2tpZC9pZC9n</entry>
        <entry encoding="base64">dnNwIA==</entry>
        <entry>vsp</entry>
        <entry encoding="base64">JzwsJz5zLyovL2c=</entry>
        <entry>nohl</entry>
        <entry encoding="base64">JzwsJz5zL2JQcml6ZS9zb3VyY2UvZw==</entry>
        <entry encoding="base64">JzwsJz5zLyIvJy9n</entry>
        <entry encoding="base64">JzwsJz5zL1wvXC8vXC9cLyAvZw==</entry>
        <entry encoding="base64">JzwsJz5zLyoqLyoqIC9n</entry>
        <entry encoding="base64">JzwsJz5zL1wqXCovXCpcKiAvZw==</entry>
        <entry encoding="base64">JzwsJz5zL0pTT05PYmplY3QvSnNvbk9iamVjdC9n</entry>
        <entry encoding="base64">JzwsJz5zL3B1dC9hZGRQcm9wZXJ0eS9n</entry>
        <entry>action $Redo</entry>
        <entry>w</entry>
      </history-cmd>
      <history-expr />
      <history-input />
    </history>
    <shortcut-conflicts>
      <shortcut-conflict owner="ide">
        <text>ctrl pressed D</text>
      </shortcut-conflict>
      <shortcut-conflict owner="vim">
        <text>ctrl pressed F</text>
      </shortcut-conflict>
      <shortcut-conflict owner="ide">
        <text>ctrl pressed B</text>
      </shortcut-conflict>
      <shortcut-conflict owner="vim">
        <text>ctrl pressed N</text>
      </shortcut-conflict>
      <shortcut-conflict owner="ide">
        <text>ctrl pressed R</text>
      </shortcut-conflict>
      <shortcut-conflict owner="vim">
        <text>ctrl pressed A</text>
      </shortcut-conflict>
      <shortcut-conflict owner="ide">
        <text>ctrl pressed T</text>
      </shortcut-conflict>
      <shortcut-conflict owner="vim">
        <text>ctrl pressed I</text>
      </shortcut-conflict>
      <shortcut-conflict owner="vim">
        <text>ctrl pressed V</text>
      </shortcut-conflict>
      <shortcut-conflict owner="vim">
        <text>ctrl pressed H</text>
      </shortcut-conflict>
      <shortcut-conflict owner="ide">
        <text>ctrl pressed O</text>
      </shortcut-conflict>
      <shortcut-conflict owner="vim">
        <text>ctrl pressed P</text>
      </shortcut-conflict>
      <shortcut-conflict owner="vim">
        <text>ctrl pressed M</text>
      </shortcut-conflict>
      <shortcut-conflict owner="vim">
        <text>ctrl pressed E</text>
      </shortcut-conflict>
      <shortcut-conflict owner="ide">
        <text>shift ctrl pressed 2</text>
      </shortcut-conflict>
      <shortcut-conflict owner="ide">
        <text>ctrl pressed 2</text>
      </shortcut-conflict>
      <shortcut-conflict owner="ide">
        <text>ctrl pressed Q</text>
      </shortcut-conflict>
      <shortcut-conflict owner="vim">
        <text>ctrl pressed G</text>
      </shortcut-conflict>
    </shortcut-conflicts>
  </component>
</application>